{created=1688258078750,type="directory",contents={lib={created=1688258077644,type="directory",contents={["diff.lua"]={created=1688258024526,type="file",modified=1688258024343,data="local a={}SKIP_SEPARATOR=true;IN=\"in\"OUT=\"out\"SAME=\"same\"local function b(c,d,e)d=d or\"%s+\"local f={}local g=1;local h,i=c:find(d,g)while h do table.insert(f,c:sub(g,h-1))if not e then table.insert(f,c:sub(h,i))end;g=i+1;h,i=c:find(d,g)end;if c:sub(g)~=\"\"then table.insert(f,c:sub(g))end;return f end;function a.quick_LCS(j,k)local l=#j;local m=#k;local n={}local setmetatable=setmetatable;local o={__index=function(p,q)p[q]=0;return 0 end}local r={__index=function(p,q)local s={}setmetatable(s,o)p[q]=s;return s end}setmetatable(n,r)local t=math.max;for u=1,l+1 do local v=n[u+1]local w=n[u]for x=1,m+1 do if j[u-1]==k[x-1]then v[x+1]=w[x]+1 else v[x+1]=t(v[x],w[x+1])end end end;return n end;local function y(c)c=c:gsub(\"&\",\"&amp;\"):gsub(\">\",\"&gt;\"):gsub(\"<\",\"&lt;\")c=c:gsub(\"\\\"\",\"&quot;\")return c end;function a.format_as_html(z)local A=\"\"local B,C;for u,D in ipairs(z)do B=y(D[1])C=D[2]if C==\"in\"then A=A..\"<ins>\"..B..\"</ins>\"elseif C==\"out\"then A=A..\"<del>\"..B..\"</del>\"else A=A..B end end;return A end;function a.diff(E,F,d)assert(E)assert(F)F=b(F,d)E=b(E,d)local G=\"\"local H=\"\"while E[1]and E[1]==F[1]do local B=table.remove(E,1)table.remove(F,1)G=G..B end;while E[#E]and E[#E]==F[#F]do local B=table.remove(E)table.remove(F)H=B..H end;local I={put=function(self,B,J)table.insert(self,{B,J})end,ins=function(self,B)self:put(B,IN)end,del=function(self,B)self:put(B,OUT)end,same=function(self,B)if B then self:put(B,SAME)end end}I:same(H)local function K(n,E,F,u,x)local L=E[u]local M=F[x]if u>=1 and x>=1 and L==M then I:same(L)return K(n,E,F,u-1,x-1)else local N=n[u][x-1]local O=n[u-1][x]if x>=1 and(u==0 or N>=O)then I:ins(M)return K(n,E,F,u,x-1)elseif u>=1 and(x==0 or N<O)then I:del(L)return K(n,E,F,u-1,x)end end end;K(a.quick_LCS(E,F),E,F,#E+1,#F+1)I:same(G)local a={}for u=#I,1,-1 do table.insert(a,I[u])end;a.to_html=a.format_as_html;return a end;return a\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1871},["libsystem.a"]={created=1688258015146,type="file",modified=1688258014206,data="!<arch>\n//                                              20        `\nserialization.lua/\n\nexpect.lua/     0           0     0     644     1273      `\nlocal a={}local b={[\"nil\"]=true,boolean=true,number=true,string=true,table=true,[\"function\"]=true,userdata=true,thread=true}local function c(d,e,...)local f=type(e)local g;if f==\"table\"then local h=getmetatable(e)if h then g=h.__name end end;local i=table.pack(...)for j,k in ipairs(i)do if b[k]then if f==k then return e end elseif g==k then return e end end;local l=debug.getinfo(2,\"n\")if l and l.name and l.name~=\"\"then d=d..\" to '\"..l.name..\"'\"end;local m;if i.n==1 then m=i[1]elseif i.n==2 then m=i[1]..\" or \"..i[2]else m=table.concat(i,\", \",1,i.n-1)..\", or \"..i[i.n]end;error(d..\" (expected \"..m..\", got \"..f..\")\",3)end;function a.expect(n,e,...)return c(\"bad argument #\"..n,e,...)end;function a.field(o,p,...)local q,r=pcall(string.format,\"%q\",p)if not q then r=tostring(p)end;return c(\"bad field \"..r,o[p],...)end;function a.range(s,t,u)a.expect(1,s,\"number\")a.expect(2,t,\"number\",\"nil\")a.expect(3,u,\"number\",\"nil\")if u and t and u<t then error(\"bad argument #3 (min must be less than or equal to max)\",2)end;if s~=s or s<(t or-math.huge)or s>(u or math.huge)then error((\"number outside of range (expected %s to be within %s and %s)\"):format(s,t or-math.huge,u or math.huge),3)end;return s end;return setmetatable(a,{__call=function(j,...)return a.expect(...)end})\n\nfilesystem.lua/ 0           0     0     644     4441      `\nlocal a=require\"util\"local b=require\"expect\"local c={}function c.open(d,e)b(1,d,\"string\")b(2,e,\"string\")return a.syscall.open(d,e)end;function c.list(d)b(1,d,\"string\")return a.syscall.list(d)end;function c.stat(d,f)b(1,d,\"string\")b(2,f,\"nil\",\"boolean\")return a.syscall.stat(d,f)end;function c.remove(d)b(1,d,\"string\")return a.syscall.remove(d)end;function c.rename(g,h)b(1,g,\"string\")b(2,h,\"string\")return a.syscall.rename(g,h)end;function c.mkdir(d)b(1,d,\"string\")return a.syscall.mkdir(d)end;function c.link(d,i)b(1,d,\"string\")b(2,i,\"string\")return a.syscall.link(d,i)end;function c.mkfifo(d)b(1,d,\"string\")return a.syscall.mkfifo(d)end;function c.chmod(d,j,e)b(1,d,\"string\")b(2,j,\"string\",\"nil\")b(3,e,\"number\",\"string\",\"table\")if type(e)==\"string\"and not e:match\"^[%+%-=][rwxs]+$\"and not e:match\"^[r%-][w%-][xs%-]$\"then error(\"bad argument #3 (invalid mode)\",2)elseif type(e)==\"table\"then b.field(e,\"read\",\"boolean\",\"nil\")b.field(e,\"write\",\"boolean\",\"nil\")b.field(e,\"execute\",\"boolean\",\"nil\")end;return a.syscall.chmod(d,j,e)end;function c.chown(d,j)b(1,d,\"string\")b(2,j,\"string\")return a.syscall.chown(d,j)end;function c.chroot(d)b(1,d,\"string\")return a.syscall.chroot(d)end;function c.mount(type,k,l,m)b(1,type,\"string\")b(2,k,\"string\")b(3,l,\"string\")b(4,m,\"table\",\"nil\")return a.syscall.mount(type,k,l,m)end;function c.unmount(d)b(1,d,\"string\")return a.syscall.unmount(d)end;function c.mountlist()return a.syscall.mountlist()end;function c.combine(...)return a.syscall.combine(...)end;function c.copy(g,h,n)b(1,g,\"string\")b(2,h,\"string\")local o=c.stat(g)if o.type==\"directory\"then local p=c.list(g)c.mkdir(h)for q,r in ipairs(p)do c.copy(c.combine(g,r),c.combine(h,r))end else local s,t=c.open(g,\"rb\")if not s then error(t,2)end;local u,t=c.open(h,\"wb\")if not u then s.close()error(t,2)end;repeat local v=s.read(512)if v then u.write(v)end until not v;u.close()s.close()end;if n then c.chmod(h,nil,o.worldPermissions)for w,r in pairs(o.permissions)do c.chmod(h,w,r)end;if o.owner then c.chown(h,o.owner)end;if o.setuser then pcall(c.chmod,h,o.owner,\"+s\")end end end;function c.move(g,h)b(1,g,\"string\")b(2,h,\"string\")local x=assert(c.stat(g,true),\"File not found\")local y=c.stat(h)if y then error(\"File already exists\",2)end;local d=c.dirname(h)repeat y,d=c.stat(d),c.dirname(d)until y;if x.type==\"directory\"then local p=c.list(g)c.mkdir(h)for q,r in ipairs(p)do c.move(c.combine(g,r),c.combine(h,r))end elseif x.mountpoint==y.mountpoint then c.rename(g,h)else local s,t=c.open(g,\"rb\")if not s then error(t,2)end;local z=s.readAll()s.close()local u,t=c.open(h,\"wb\")if not u then error(t,2)end;c.remove(g)if z then u.write(z)end;u.close()end;c.chmod(h,nil,x.worldPermissions)for w,r in pairs(x.permissions)do c.chmod(h,w,r)end;if x.owner then c.chown(h,x.owner)end;if x.setuser then pcall(c.chmod,h,x.owner,\"+s\")end end;function c.basename(d)b(1,d,\"string\")return c.combine(d):match\"[^/]+$\"end;function c.dirname(d)b(1,d,\"string\")local A=c.combine(d):match\"^(.*)/[^/]*$\"if A==\"\"or A==nil then if d:sub(1,1)==\"/\"then return\"/\"else return\".\"end else return A end end;local function B(m,C,D)if D>#C then return{}end;local E=C[D]:gsub(\"[%^%$%(%)%%%.%+%-]\",\"%%%1\"):gsub(\"%*\",\".*\"):gsub(\"%?\",\".\"):gsub(\"%[!\",\"[^\")local F={}for q,G in ipairs(m)do local H,I=pcall(c.list,G)if H then for q,d in ipairs(I)do if d:match(E)then F[#F+1]=c.combine(G,d)end end end end;if D+1>#C then return F end;return B(F,C,D+1)end;function c.find(J)b(1,J,\"string\")local K={}for A in J:gmatch(\"[^/]+\")do K[#K+1]=A end;local L=B({J:sub(1,1)==\"/\"and\"/\"or\".\"},K,1)table.sort(L)return L end;function c.exists(d)b(1,d,\"string\")return c.stat(d)~=nil end;function c.isFile(d)b(1,d,\"string\")local M=c.stat(d)if not M then return false end;return M.type==\"file\"end;function c.isDir(d)b(1,d,\"string\")local M=c.stat(d)if not M then return false end;return M.type==\"directory\"end;function c.isLink(d)b(1,d,\"string\")local M=c.stat(d)if not M then return false end;return M.type==\"link\"end;function c.effectivePermissions(N,j)b(1,N,\"string\",\"table\")j=b(2,j,\"number\",\"nil\")or a.syscall.getpid()if type(N)==\"string\"then N=a.syscall.stat(N)if not N then return nil end end;b.field(N,\"permissions\",\"table\")b.field(N,\"worldPermissions\",\"table\")return N.permissions[j]or N.worldPermissions end;local O={}O.type=\"\"O.size=0;O.created=0;O.modified=0;O.owner=\"\"O.permissions={read=false,write=false,execute=false}O.worldPermissions={read=false,write=false,execute=false}O.special={}return c\n\nframebuffer.lua/0           0     0     644     16453     `\nlocal a=require\"expect\"local b=require\"util\"local c={}c.empty={text={},graphics={}}function c.window(d,e,f,g,h)a(1,d,\"Terminal\",\"GFXTerminal\")a(2,e,\"number\")a(3,f,\"number\")a(4,g,\"number\")a(5,h,\"number\")local i=b.type(d)local j={}function j.close()end;function j.getSize()return g,h end;function j.getPosition()return e,f end;function j.getPaletteColor(k)return d.getPaletteColor(k)end;function j.setPaletteColor(k,l,m,n)return d.setPaletteColor(k,l,m,n)end;j.getPaletteColour=j.getPaletteColor;j.setPaletteColour=j.setPaletteColor;function j.reposition(o,p,q,r,s)a(1,o,\"number\",\"nil\")a(2,p,\"number\",\"nil\")a(3,q,\"number\",\"nil\")a(4,r,\"number\",\"nil\")a(5,s,\"nil\",i)e=o or e;f=p or f;g=q or g;h=r or h;d=s or d end;function j.resize(q,r)a(1,q,\"number\",\"nil\")a(2,r,\"number\",\"nil\")g=q or g;h=r or h end;function j.reparent(s)a(1,s,\"nil\",i)d=s or d end;if i==\"Terminal\"then setmetatable(j,{__name=\"Terminal\"})local t,u,v=1,1,d.getCursorBlink()local w,x=d.getTextColor(),d.getBackgroundColor()function j.write(y)a(1,y,\"string\")if u<1 or u>h or t>g or#y==0 then return end;if t<1 then local z=math.min(1-t,#y)t=t+z;if z==#y then return end;y=y:sub(z)end;local z=math.min(g-t+1,#y)d.setCursorPos(e+t-1,f+u-1)d.setTextColor(w)d.setBackgroundColor(x)d.write(y:sub(1,z))t=t+z end;function j.blit(y,A,B)a(1,y,\"string\")a(2,A,\"string\")a(3,B,\"string\")if u<1 or u>h or t>g or#y==0 then return end;if t<1 then local z=math.min(1-t,#y)t=t+z;if z==#y then return end;y=y:sub(z)end;local z=math.min(g-t+1,#y)d.setCursorPos(e+t-1,f+u-1)d.blit(y:sub(1,z),A:sub(1,z),B:sub(1,z))w,x=d.getTextColor(),d.getBackgroundColor()t=t+z end;function j.clear()d.setTextColor(w)d.setBackgroundColor(x)for C=1,h do d.setCursorPos(e,f+C-1)d.write((\" \"):rep(g))end end;function j.clearLine()d.setTextColor(w)d.setBackgroundColor(x)d.setCursorPos(e,f+u-1)d.write((\" \"):rep(g))end;function j.getCursorPos()return t,u end;function j.setCursorPos(o,p)a(1,o,\"number\")a(2,p,\"number\")t,u=o,p;d.setCursorPos(e+t-1,f+u-1)end;function j.getCursorBlink()return v end;function j.setCursorBlink(D)a(1,D,\"boolean\")v=D;d.setCursorBlink(D)end;function j.isColor()return d.isColor()end;function j.scroll(E)a(1,E,\"number\")if math.abs(E)>=g then return j.clear()elseif E>0 then for F=E+1,h do local G=j.getLine(F)d.setCursorPos(e,f+F-E-1)d.blit(table.unpack(G,1,3))end;for F=h-E+1,h do d.setCursorPos(e,f+F-1)d.setTextColor(w)d.setBackgroundColor(x)d.write((' '):rep(g))end elseif E<0 then for F=1,h+E do local G=j.getLine(F)d.setCursorPos(e,f+F-E-1)d.blit(table.unpack(G,1,3))end;for F=1,-E do d.setCursorPos(e,f+F-1)d.setTextColor(w)d.setBackgroundColor(x)d.write((' '):rep(g))end else return end end;function j.getTextColor()return w end;function j.setTextColor(k)a(1,k,\"number\")w=k;d.setTextColor(k)end;function j.getBackgroundColor()return x end;function j.setBackgroundColor(k)a(1,k,\"number\")x=k;d.setBackgroundColor(k)end;function j.getLine(p)a(1,p,\"number\")local G=d.getLine(f+p-1)if not G then return nil end;return{G[1]:sub(e,e+g-1),G[2]:sub(e,e+g-1),G[3]:sub(e,e+g-1)}end;function j.restoreCursor()d.setCursorPos(e+t-1,f+u-1)d.setCursorBlink(v)end;j.isColour=j.isColor;j.getTextColour=j.getTextColor;j.setTextColour=j.setTextColor;j.getBackgroundColour=j.getBackgroundColor;j.setBackgroundColour=j.setBackgroundColor else setmetatable(j,{__name=\"GFXTerminal\"})function j.clear()d.drawPixels(e,f,15,g,h)end;function j.getPixel(o,p)return d.getPixel(e+o,f+p)end;function j.setPixel(o,p,k)return d.setPixel(e+o,f+p,k)end;function j.getPixels(o,p,H,I,J)return d.getPixels(e+o,f+p,H,I,J)end;function j.drawPixels(o,p,K,H,I)return d.drawPixels(e+o,f+p,K,H,I)end;function j.getFrozen()return d.getFrozen()end;function j.setFrozen(L)return d.setFrozen(L)end end;return j end;function c.framebuffer(d,M,N,q,r,O)local P;if d==c.empty.text or d==c.empty.graphics then M=a(2,M,\"number\",\"nil\")or 1;N=a(3,N,\"number\",\"nil\")or 1;P=d==c.empty.graphics;d=nil else a(1,d,\"Terminal\",\"GFXTerminal\")a(2,M,\"number\")a(3,N,\"number\")P=b.type(d)==\"GFXTerminal\"end;a(4,q,\"number\")a(5,r,\"number\")a(6,O,\"boolean\",\"nil\")if O==nil then O=true end;local Q={width=q,height=r}if P then local R={palette={},dirtyRects={},dirtyPalette={},frozen=false}for f=1,Q.height*9 do R[f]=('\\15'):rep(Q.width*6)end;if d then for F=0,15 do R.palette[F]={d.getPaletteColor(F)}R.dirtyPalette[F]=true end else R.palette={[0]={0.94117647058824,0.94117647058824,0.94117647058824},{0.94901960784314,0.69803921568627,0.2},{0.89803921568627,0.49803921568627,0.84705882352941},{0.6,0.69803921568627,0.94901960784314},{0.87058823529412,0.87058823529412,0.42352941176471},{0.49803921568627,0.8,0.098039215686275},{0.94901960784314,0.69803921568627,0.8},{0.29803921568627,0.29803921568627,0.29803921568627},{0.6,0.6,0.6},{0.29803921568627,0.6,0.69803921568627},{0.69803921568627,0.4,0.89803921568627},{0.2,0.4,0.8},{0.49803921568627,0.4,0.29803921568627},{0.34117647058824,0.65098039215686,0.30588235294118},{0.8,0.29803921568627,0.29803921568627},{0.066666666666667,0.066666666666667,0.066666666666667}}for F=0,15 do R.dirtyPalette[F]=true end end;for F=16,255 do R.palette[F]={0,0,0}R.dirtyPalette[F]=true end;local j=setmetatable({},{__name=\"GFXTerminal\"})function j.close()end;function j.getSize()return Q.width*6,Q.height*9 end;function j.clear()for f=1,Q.height*9 do R[f]=('\\15'):rep(Q.width*6)end;j.redraw(true)end;function j.getPixel(e,f)a(1,e,\"number\")a(2,f,\"number\")a.range(e,0,Q.width*6-1)a.range(f,0,Q.height*9-1)e,f=math.floor(e),math.floor(f)return R[f+1]:byte(e+1)end;function j.setPixel(e,f,k)a(1,e,\"number\")a(2,f,\"number\")a(3,k,\"number\")a.range(e,0,Q.width*6-1)a.range(f,0,Q.height*9-1)a.range(k,0,255)e,f=math.floor(e),math.floor(f)R[f+1]=R[f+1]:sub(1,e)..string.char(k)..R[f+1]:sub(e+2)R.dirtyRects[#R.dirtyRects+1]={x=e,y=f,color=k}j.redraw()end;function j.getPixels(e,f,g,h,J)a(1,e,\"number\")a(2,f,\"number\")a(3,g,\"number\")a(4,h,\"number\")a(5,J,\"boolean\",\"nil\")a.range(g,0)a.range(h,0)e,f=math.floor(e),math.floor(f)local S={}for T=1,h do if J then S[T]=R[f+T]:sub(e+1,e+g)else S[T]={R[f+T]:sub(e+1,e+g):byte(1,-1)}end end;return S end;function j.drawPixels(e,f,K,g,h)a(1,e,\"number\")a(2,f,\"number\")a(3,K,\"table\",\"number\")local U=type(K)==\"number\"a(4,g,\"number\",not U and\"nil\"or nil)a(5,h,\"number\",not U and\"nil\"or nil)a.range(e,0,Q.width*6-1)a.range(f,0,Q.height*9-1)if g then a.range(g,0)end;if h then a.range(h,0)end;if U then a.range(K,0,255)end;if g==0 or h==0 then return end;e,f=math.floor(e),math.floor(f)if g and e+g>=Q.width*6 then g=Q.width*6-e end;h=h or#K;local V={x=e,y=f,width=g,height=h}for T=1,h do if f+T>Q.height*9 then break end;if U then local W=string.char(K):rep(g)R[f+T]=R[f+T]:sub(1,e)..W..R[f+T]:sub(e+g+1)V[T]=W elseif K[T]~=nil then if type(K[T])~=\"table\"and type(K[T])~=\"string\"then error(\"bad argument #3 to 'drawPixels' (invalid row \"..T..\")\",2)end;local g=g or#K[T]if e+g>=Q.width*6 then g=Q.width*6-e end;local W;if type(K[T])==\"string\"then W=K[T]if#W<g then W=W..('\\15'):rep(g-#W)elseif#W>g then W=W:sub(1,g)end else W=\"\"for X=1,g do W=W..string.char(K[T][X]or R[f+T]:byte(e+X))end end;R[f+T]=R[f+T]:sub(1,e)..W..R[f+T]:sub(e+g+1)V[T]=W end end;R.dirtyRects[#R.dirtyRects+1]=V;j.redraw()end;function j.getFrozen()return R.frozen end;function j.setFrozen(Y)a(1,Y,\"boolean\")R.frozen=Y;j.redraw()end;function j.getPaletteColor(k)a(1,k,\"number\")a.range(k,0,255)return table.unpack(R.palette[k])end;function j.setPaletteColor(k,l,m,n)a(1,k,\"number\")a(2,l,\"number\")if m==nil and n==nil then l,m,n=bit32.band(bit32.rshift(l,16),0xFF)/255,bit32.band(bit32.rshift(l,8),0xFF)/255,bit32.band(l,0xFF)/255 end;a(3,m,\"number\")a(4,n,\"number\")a.range(l,0,1)a.range(m,0,1)a.range(n,0,1)a.range(k,0,255)R.palette[k]={l,m,n}R.dirtyPalette[k]=true;j.redraw()end;function j.getPosition()return M,N end;function j.reposition(e,f,q,r,s)a(1,e,\"number\",\"nil\")a(2,f,\"number\",\"nil\")M=e or M;N=f or N;if s then j.reparent(s)end;if q or r then return j.resize(q,r)end end;function j.resize(g,h)a(1,g,\"number\",\"nil\")a(2,h,\"number\",\"nil\")if g>Q.width then for f=1,Q.height*9 do R[f]=R[f]..('\\15'):rep((g-Q.width)*6)end;R.dirtyRects[#R.dirtyRects+1]={x=Q.width*6+1,y=1,width=(g-Q.width)*6,height=Q.height*9}elseif g<Q.width then for f=1,Q.height*9 do R[f]=R[f]:sub(1,g*6)end end;Q.width=g;if h>Q.height then for f=Q.height*9+1,h*9 do R[f]=('\\15'):rep(g*6)end;R.dirtyRects[#R.dirtyRects+1]={x=1,y=Q.height*9+1,width=Q.width*6,height=(h-Q.height)*9}elseif h<Q.height then for f=h*9+1,Q.height*9 do R[f]=nil end end;Q.height=h end;function j.reparent(s)a(1,s,\"GFXTerminal\",\"nil\")d=s;j.redraw()end;function j.redraw(Z)if not d or not O then return end;if d.setFrozen then d.setFrozen(true)end;if Z then d.clear()d.drawPixels(0,0,R)for F=0,255 do d.setPaletteColor(F,R.palette[F][1],R.palette[F][2],R.palette[F][3])end else if R.frozen then if d.setFrozen then d.setFrozen(false)end;return end;for _,a0 in ipairs(R.dirtyRects)do if a0.color then d.setPixel(a0.x,a0.y,a0.color,a0.width,a0.height)else d.drawPixels(a0.x,a0.y,a0)end end;for F in pairs(R.dirtyPalette)do d.setPaletteColor(F,R.palette[F][1],R.palette[F][2],R.palette[F][3])end end;if d.setFrozen then d.setFrozen(false)end;R.dirtyRects,R.dirtyPalette={},{}end;function j.isVisible()return O end;function j.setVisible(a0)a(1,a0,\"boolean\")O=a0;j.redraw()end;j.getPaletteColour=j.getPaletteColor;j.setPaletteColour=j.setPaletteColor;j.redraw()return j else local R={cursor={x=1,y=1},cursorBlink=false,colors={fg='0',bg='f'},palette={},dirtyLines={},dirtyPalette={}}for f=1,Q.height do R[f]={(' '):rep(Q.width),('0'):rep(Q.width),('f'):rep(Q.width)}R.dirtyLines[f]=true end;if d then for F=0,15 do R.palette[F]={d.getPaletteColor(F)}R.dirtyPalette[F]=true end else R.palette={[0]={0.94117647058824,0.94117647058824,0.94117647058824},{0.94901960784314,0.69803921568627,0.2},{0.89803921568627,0.49803921568627,0.84705882352941},{0.6,0.69803921568627,0.94901960784314},{0.87058823529412,0.87058823529412,0.42352941176471},{0.49803921568627,0.8,0.098039215686275},{0.94901960784314,0.69803921568627,0.8},{0.29803921568627,0.29803921568627,0.29803921568627},{0.6,0.6,0.6},{0.29803921568627,0.6,0.69803921568627},{0.69803921568627,0.4,0.89803921568627},{0.2,0.4,0.8},{0.49803921568627,0.4,0.29803921568627},{0.34117647058824,0.65098039215686,0.30588235294118},{0.8,0.29803921568627,0.29803921568627},{0.066666666666667,0.066666666666667,0.066666666666667}}for F=0,15 do R.dirtyPalette[F]=true end end;local j=setmetatable({},{__name=\"Terminal\"})function j.close()end;function j.write(y)y=tostring(y)a(1,y,\"string\")if R.cursor.y<1 or R.cursor.y>Q.height then return elseif R.cursor.x>Q.width or R.cursor.x+#y<1 then R.cursor.x=R.cursor.x+#y;return elseif R.cursor.x<1 then y=y:sub(-R.cursor.x+2)R.cursor.x=1 end;local a1=#y;if R.cursor.x+#y>Q.width then y=y:sub(1,Q.width-R.cursor.x+1)end;R[R.cursor.y][1]=R[R.cursor.y][1]:sub(1,R.cursor.x-1)..y..R[R.cursor.y][1]:sub(R.cursor.x+#y)R[R.cursor.y][2]=R[R.cursor.y][2]:sub(1,R.cursor.x-1)..R.colors.fg:rep(#y)..R[R.cursor.y][2]:sub(R.cursor.x+#y)R[R.cursor.y][3]=R[R.cursor.y][3]:sub(1,R.cursor.x-1)..R.colors.bg:rep(#y)..R[R.cursor.y][3]:sub(R.cursor.x+#y)R.cursor.x=R.cursor.x+a1;R.dirtyLines[R.cursor.y]=true;j.redraw()end;function j.blit(y,w,x)y=tostring(y)a(1,y,\"string\")a(2,w,\"string\")a(3,x,\"string\")if#y~=#w or#w~=#x then error(\"Arguments must be the same length\",2)end;if R.cursor.y<1 or R.cursor.y>Q.height then return elseif R.cursor.x>Q.width or R.cursor.x<1-#y then R.cursor.x=R.cursor.x+#y;j.redraw()return elseif R.cursor.x<1 then y,w,x=y:sub(-R.cursor.x+2),w:sub(-R.cursor.x+2),x:sub(-R.cursor.x+2)R.cursor.x=1 end;local a1=#y;if R.cursor.x+#y>Q.width then y,w,x=y:sub(1,Q.width-R.cursor.x+1),w:sub(1,Q.width-R.cursor.x+1),x:sub(1,Q.width-R.cursor.x+1)end;R[R.cursor.y][1]=R[R.cursor.y][1]:sub(1,R.cursor.x-1)..y..R[R.cursor.y][1]:sub(R.cursor.x+#y)R[R.cursor.y][2]=R[R.cursor.y][2]:sub(1,R.cursor.x-1)..w..R[R.cursor.y][2]:sub(R.cursor.x+#w)R[R.cursor.y][3]=R[R.cursor.y][3]:sub(1,R.cursor.x-1)..x..R[R.cursor.y][3]:sub(R.cursor.x+#x)R.cursor.x=R.cursor.x+a1;R.dirtyLines[R.cursor.y]=true;j.redraw()end;function j.clear()for f=1,Q.height do R[f]={(' '):rep(Q.width),R.colors.fg:rep(Q.width),R.colors.bg:rep(Q.width)}R.dirtyLines[f]=true end;j.redraw()end;function j.clearLine()if R.cursor.y>=1 and R.cursor.y<=Q.height then R[R.cursor.y]={(' '):rep(Q.width),R.colors.fg:rep(Q.width),R.colors.bg:rep(Q.width)}R.dirtyLines[R.cursor.y]=true;j.redraw()end end;function j.getCursorPos()return R.cursor.x,R.cursor.y end;function j.setCursorPos(t,u)a(1,t,\"number\")a(2,u,\"number\")if t==R.cursor.x and u==R.cursor.y then return end;R.cursor.x,R.cursor.y=math.floor(t),math.floor(u)j.redraw()end;function j.getCursorBlink()return R.cursorBlink end;function j.setCursorBlink(n)a(1,n,\"boolean\")R.cursorBlink=n;j.redraw()end;function j.isColor()return true end;function j.getSize()return Q.width,Q.height end;function j.scroll(E)a(1,E,\"number\")if math.abs(E)>=Q.width then for f=1,Q.height do R[f]={(' '):rep(Q.width),R.colors.fg:rep(Q.width),R.colors.bg:rep(Q.width)}end elseif E>0 then for F=E+1,Q.height do R[F-E]=R[F]end;for F=Q.height-E+1,Q.height do R[F]={(' '):rep(Q.width),R.colors.fg:rep(Q.width),R.colors.bg:rep(Q.width)}end elseif E<0 then for F=1,Q.height+E do R[F-E]=R[F]end;for F=1,-E do R[F]={(' '):rep(Q.width),R.colors.fg:rep(Q.width),R.colors.bg:rep(Q.width)}end else return end;for F=1,Q.height do R.dirtyLines[F]=true end;j.redraw()end;function j.getTextColor()return tonumber(R.colors.fg)end;function j.setTextColor(k)a(1,k,\"number\")a.range(k,0,15)R.colors.fg=(\"%x\"):format(k)end;function j.getBackgroundColor()return tonumber(R.colors.bg)end;function j.setBackgroundColor(k)a(1,k,\"number\")a.range(k,0,15)R.colors.bg=(\"%x\"):format(k)end;function j.getPaletteColor(k)a(1,k,\"number\")a.range(k,0,15)return table.unpack(R.palette[math.floor(k)])end;function j.setPaletteColor(k,l,m,n)a(1,k,\"number\")a(2,l,\"number\")if m==nil and n==nil then l,m,n=bit32.band(bit32.rshift(l,16),0xFF)/255,bit32.band(bit32.rshift(l,8),0xFF)/255,bit32.band(l,0xFF)/255 end;a(3,m,\"number\")a(4,n,\"number\")a.range(k,0,15)if l<0 or l>1 then error(\"bad argument #2 (value out of range)\",2)end;if m<0 or m>1 then error(\"bad argument #3 (value out of range)\",2)end;if n<0 or n>1 then error(\"bad argument #4 (value out of range)\",2)end;R.palette[math.floor(k)]={l,m,n}R.dirtyPalette[math.floor(k)]=true;j.redraw()end;function j.getLine(f)a(1,f,\"number\")local G=R[f]return G and table.unpack(G,1,3)end;function j.getPosition()return M,N end;function j.reposition(e,f,q,r,s)a(1,e,\"number\",\"nil\")a(2,f,\"number\",\"nil\")M=e or M;N=f or N;if s then j.reparent(s)end;if e or f then j.redraw(true)end;if q or r then return j.resize(q,r)end end;function j.resize(g,h)a(1,g,\"number\",\"nil\")a(2,h,\"number\",\"nil\")if g>Q.width then for f=1,Q.height do R[f][1]=R[f][1]..(' '):rep(g-Q.width)R[f][2]=R[f][2]..R.colors.fg:rep(g-Q.width)R[f][3]=R[f][3]..R.colors.bg:rep(g-Q.width)R.dirtyLines[f]=true end elseif g<Q.width then for f=1,Q.height do R[f][1]=R[f][1]:sub(1,g)R[f][2]=R[f][2]:sub(1,g)R[f][3]=R[f][3]:sub(1,g)end end;Q.width=g;if h>Q.height then for f=Q.height+1,h do R[f]={(' '):rep(g),R.colors.fg:rep(g),R.colors.bg:rep(g)}R.dirtyLines[f]=true end elseif h<Q.height then for f=h+1,Q.height do R[f]=nil end end;Q.height=h end;function j.reparent(s)a(1,s,\"Terminal\",\"nil\")d=s;j.redraw()end;function j.redraw(Z)if not d or not O then return end;d.setCursorBlink(false)if Z then d.clear()for f=1,Q.height do d.setCursorPos(M,N+f-1)d.blit(R[f][1],R[f][2],R[f][3])end;for F=0,15 do d.setPaletteColor(F,R.palette[F][1],R.palette[F][2],R.palette[F][3])end else for f in pairs(R.dirtyLines)do d.setCursorPos(M,N+f-1)if#R[f][1]~=#R[f][2]or#R[f][2]~=#R[f][3]then error(\"Internal error: Invalid lengths\")end;d.blit(R[f][1],R[f][2],R[f][3])end;for F in pairs(R.dirtyPalette)do d.setPaletteColor(F,R.palette[F][1],R.palette[F][2],R.palette[F][3])end end;d.setCursorPos(M+R.cursor.x-1,N+R.cursor.y-1)d.setCursorBlink(R.cursorBlink)R.dirtyLines,R.dirtyPalette={},{}end;function j.restoreCursor()if not d or not O then return end;d.setCursorPos(M+R.cursor.x-1,N+R.cursor.y-1)d.setCursorBlink(R.cursorBlink)end;function j.isVisible()return O end;function j.setVisible(a0)a(1,a0,\"boolean\")O=a0;j.redraw()end;j.isColour=j.isColor;j.getTextColour=j.getTextColor;j.setTextColour=j.setTextColor;j.getBackgroundColour=j.getBackgroundColor;j.setBackgroundColour=j.setBackgroundColor;j.getPaletteColour=j.getPaletteColor;j.setPaletteColour=j.setPaletteColor;j.redraw()return j end end;return c\n\ngraphics.lua/   0           0     0     644     6638      `\nlocal a=require\"expect\"local b=require\"util\"local c={}function c.drawPixel(d,e,f,g)a(1,d,\"Terminal\",\"GFXTerminal\")a(2,e,\"number\")a(3,f,\"number\")a(4,g,\"number\")if b.type(d)==\"Terminal\"then local h,i=d.getCursorPos()local j=d.getBackgroundColor()d.setCursorPos(e,f)d.setBackgroundColor(g)d.write(\" \")d.setCursorPos(h,i)d.setBackgroundColor(j)else d.setPixel(e-1,f-1,g)end end;local function k(l,m,n,o,p)if math.abs(p-n)<math.abs(o-m)then if m>o then m,n,o,p=o,p,m,n end;local q,r,s=o-m,p-n,1;if r<0 then s,r=-1,-r end;local t,f=2*r-q,n;if s<0 then f=p;for e=o,m,-1 do l(e,f)if t>0 then f=f+1;t=t+2*(r-q)else t=t+2*r end end else for e=m,o do l(e,f)if t>0 then f=f+1;t=t+2*(r-q)else t=t+2*r end end end else if n>p then m,n,o,p=o,p,m,n end;local q,r,u=o-m,p-n,1;if q<0 then u,q=-1,-q end;local t,e=2*q-r,m;for f=n,p do l(e,f)if t>0 then e=e+u;t=t+2*(q-r)else t=t+2*q end end end end;function c.drawLine(d,m,n,o,p,g)a(1,d,\"Terminal\",\"GFXTerminal\")a(2,m,\"number\")a(3,n,\"number\")a(4,o,\"number\")a(5,p,\"number\")a(6,g,\"number\")if n==p then local v=math.abs(o-m)+1;if b.type(d)==\"Terminal\"then local w,x=d.getBackgroundColor(),d.getTextColor()local h,i=d.getCursorPos()local y,z=(\"%x\"):format(x),(\"%x\"):format(g)d.setCursorPos(m,n)d.blit((\" \"):rep(v),y:rep(v),z:rep(v))d.setCursorPos(h,i)d.setBackgroundColor(w)else d.drawPixels(m-1,n-1,g,v,1)end;return elseif m==o and b.type(d)==\"GFXTerminal\"then d.drawPixels(m-1,n-1,g,1,math.abs(p-n)+1)end;local l,A;if b.type(d)==\"Terminal\"then local j=d.getBackgroundColor()local h,i=d.getCursorPos()d.setBackgroundColor(g)l,A=function(e,f)d.setCursorPos(e,f)d.write(\" \")end,function()d.setBackgroundColor(j)d.setCursorPos(h,i)end else l,A=function(e,f)d.setPixel(e-1,f-1,g)end,function()end end;k(l,m,n,o,p)A()end;function c.drawBox(d,e,f,v,B,g)a(1,d,\"Terminal\",\"GFXTerminal\")a(2,e,\"number\")a(3,f,\"number\")a(4,v,\"number\")a(5,B,\"number\")a(6,g,\"number\")if b.type(d)==\"Terminal\"then local w,x=d.getBackgroundColor(),d.getTextColor()local h,i=d.getCursorPos()local y,z=(\"%x\"):format(x),(\"%x\"):format(g)d.setCursorPos(e,f)d.blit((\" \"):rep(v),y:rep(v),z:rep(v))d.setCursorPos(e,f+B-1)d.blit((\" \"):rep(v),y:rep(v),z:rep(v))for C=f+1,f+B-2 do d.setCursorPos(e,C)d.blit(\" \",y,z)d.setCursorPos(e+v-1,C)d.blit(\" \",y,z)end;d.setBackgroundColor(w)d.setCursorPos(h,i)else d.drawPixels(e-1,f-1,g,v,1)d.drawPixels(e-1,f-1,g,1,B)d.drawPixels(e-1,f+B-1,g,v,1)d.drawPixels(e+v-1,f-1,g,1,B)end end;function c.drawFilledBox(d,e,f,v,B,g)a(1,d,\"Terminal\",\"GFXTerminal\")a(2,e,\"number\")a(3,f,\"number\")a(4,v,\"number\")a(5,B,\"number\")a(6,g,\"number\")if b.type(d)==\"Terminal\"then local w,x=d.getBackgroundColor(),d.getTextColor()local h,i=d.getCursorPos()local D,y,z=(\" \"):rep(v),(\"%x\"):format(x):rep(v),(\"%x\"):format(g):rep(v)for C=f,f+B-1 do d.setCursorPos(e,C)d.blit(D,y,z)end;d.setBackgroundColor(w)d.setCursorPos(h,i)else d.drawPixels(e-1,f-1,g,v,B)end end;function c.drawCircle(d,e,f,v,B,g,E,F)a(1,d,\"Terminal\",\"GFXTerminal\")a(2,e,\"number\")a(3,f,\"number\")a(4,v,\"number\")a(5,B,\"number\")a(6,g,\"number\")E=(a(7,E,\"number\",\"nil\")or 0)%(2*math.pi)F=(a(8,F,\"number\",\"nil\")or 0)%(2*math.pi)if F==0 then F=2*math.pi end;local l,A;if b.type(d)==\"Terminal\"then local j=d.getBackgroundColor()local h,i=d.getCursorPos()d.setBackgroundColor(g)l,A=function(G,C)d.setCursorPos(G,C)d.write(\" \")end,function()d.setBackgroundColor(j)d.setCursorPos(h,i)end else l,A=function(G,C)d.setPixel(G-1,C-1,g)end,function()end end;local H=math.pi/(v+B)v,B=v/2,B/2;for I=E,E+F,H do local G,C=v*math.cos(I)+v,B*math.sin(I)+B;l(e+G,f+C)end;A()end;function c.drawFilledTriangle(d,m,n,o,p,J,K,g)a(1,d,\"Terminal\",\"GFXTerminal\")a(2,m,\"number\")a(3,n,\"number\")a(4,o,\"number\")a(5,p,\"number\")a(6,J,\"number\")a(7,K,\"number\")a(8,g,\"number\")local L,A;if b.type(d)==\"Terminal\"then local w,x=d.getBackgroundColor(),d.getTextColor()local h,i=d.getCursorPos()local z,y=(\"%x\"):format(g),(\"%x\"):format(x)L,A=function(G,C,M)d.setCursorPos(G,C)d.blit((\" \"):rep(M),y:rep(M),z:rep(M))end,function()d.setBackgroundColor(w)d.setTextColor(x)d.setCursorPos(h,i)end else L,A=function(G,C,M)d.drawPixels(G-1,C-1,g,M,1)end,function()end end;local N={{x=m,y=n},{x=o,y=p},{x=J,y=K}}table.sort(N,function(O,w)return O.y<w.y end)if N[1].y==N[2].y then if N[2].y==N[3].y then local q=math.min(N[1].x,N[2].x,N[3].x)L(q,N[1].y,math.max(N[1].x,N[2].x,N[3].x)-q)A()return end;if N[1].x>N[2].x then N[1],N[2]=N[2],N[1]end;local P,Q=coroutine.create(k),coroutine.create(k)local R,S,T=coroutine.resume(P,coroutine.yield,N[1].x,N[1].y,N[3].x,N[3].y)local R,U,V=coroutine.resume(Q,coroutine.yield,N[2].x,N[2].y,N[3].x,N[3].y)local W,X=S,U;while V do repeat W=math.min(W,S)R,S,T=coroutine.resume(P)until T~=V;repeat X=math.max(X,U)R,U,T=coroutine.resume(Q)until T~=V;L(W,V,X-W+1)W,X,V=S,U,T end elseif N[2].y==N[3].y then if N[2].x>N[3].x then N[2],N[3]=N[3],N[2]end;local P,Q=coroutine.create(k),coroutine.create(k)local R,S,T=coroutine.resume(P,coroutine.yield,N[1].x,N[1].y,N[2].x,N[2].y)local R,U,V=coroutine.resume(Q,coroutine.yield,N[1].x,N[1].y,N[3].x,N[3].y)local W,X=S,U;while V do repeat W=math.min(W,S)R,S,T=coroutine.resume(P)until T~=V;repeat X=math.max(X,U)R,U,T=coroutine.resume(Q)until T~=V;L(W,V,X-W+1)W,X,V=S,U,T end else local P,Q=coroutine.create(k),coroutine.create(k)local R,S,T=coroutine.resume(P,coroutine.yield,N[1].x,N[1].y,N[3].x,N[3].y)local R,U,V=coroutine.resume(Q,coroutine.yield,N[1].x,N[1].y,N[2].x,N[2].y)local W,X=S,U;while S and U and V do repeat W=math.min(W,S)X=math.max(X,S)R,S,T=coroutine.resume(P)until T~=V;if V==N[2].y then Q=coroutine.create(k)R,U,T=coroutine.resume(Q,coroutine.yield,N[2].x,N[2].y,N[3].x,N[3].y)end;repeat W=math.min(W,U)X=math.max(X,U)R,U,T=coroutine.resume(Q)until T~=V;L(W,V,X-W+1)W,X,V=math.min(S or 0,U or 0),math.max(S or 0,U or 0),T end end;A()end;function c.drawImage(d,e,f,Y)a(1,d,\"Terminal\",\"GFXTerminal\")a(2,e,\"number\")a(3,f,\"number\")a(4,Y,\"table\")if b.type(d)==\"Terminal\"then local w,x=d.getBackgroundColor(),d.getTextColor()local h,i=d.getCursorPos()local y=(\"%x\"):format(x)for C=1,#Y do a.field(Y,C,\"string\",\"table\")d.setCursorPos(e,f+C-1)local L=Y[C]if type(L)==\"string\"then local z=L:gsub(\"[\\16-\\255]\",\" \"):gsub(\"[%z-\\15]\",function(j)return(\"%x\"):format(j:byte())end)d.blit((\" \"):rep(#z),y:rep(#z),z)elseif#L==3 and type(L[1]==\"string\")then d.blit(L[1],L[2],L[3])else local z=\"\"for Z=1,#L do a(L,Z,\"number\")z=z..(\"%x\"):format(L[Z])end;d.blit((\" \"):rep(#z),y:rep(#z),z)end end;d.setBackgroundColor(w)d.setTextColor(x)d.setCursorPos(h,i)else if type(Y[1])==\"table\"and type(Y[1][1])==\"string\"then error(\"bad argument #4 to 'drawImage' (image type not supported on this terminal)\",2)end;return d.drawPixels(e-1,f-1,Y)end end;return c\nhardware.lua/   0           0     0     644     3092      `\nlocal a=require\"expect\"local b=require\"util\"local c={}function c.wrap(d)a(1,d,\"string\",\"device\",\"devicetree\")if type(d)~=\"string\"then d=getmetatable(d).uuid end;local e=b.syscall.devinfo(d)if not e then return nil end;local f,g=b.syscall.devmethods(d),b.syscall.devproperties(d)for h,i in ipairs(g)do g[i]=true end;local j={}for h,i in ipairs(f)do j[i]=function(self,...)return b.syscall.devcall(d,i,...)end end;return setmetatable(j,{__name=\"device\",uuid=e.uuid,__index=function(self,k)if type(k)==\"string\"and g[k]then return b.syscall.devcall(d,\"get\"..k:gsub(\"^.\",string.upper))end end,__newindex=function(self,k,l)if type(k)==\"string\"and g[k]and f[\"set\"..k:gsub(\"^.\",string.upper)]then return b.syscall.devcall(d,\"set\"..k:gsub(\"^.\",string.upper),l)end end,__tostring=function(self)return\"wrapped device: \"..(e.displayName or e.uuid)end})end;function c.find(type)a(1,type,\"string\")local j={}for m,i in ipairs{b.syscall.devfind(type)}do j[m]=c.wrap(i)end;return table.unpack(j)end;function c.path(d)a(1,d,\"string\",\"device\",\"devicetree\")if type(d)==\"string\"then return b.syscall.devlookup(d)else return b.syscall.devlookup(getmetatable(d).uuid)end end;function c.hasType(d,type)a(1,d,\"string\",\"device\",\"devicetree\")local e;if type(d)==\"string\"then e=b.syscall.devinfo(d)else e=b.syscall.devinfo(getmetatable(d).uuid)end;if not e then error(\"No such device\",2)end;return e.types[type]~=nil end;function c.info(d)a(1,d,\"string\",\"device\",\"devicetree\")if type(d)==\"string\"then return b.syscall.devinfo(d)else return b.syscall.devinfo(getmetatable(d).uuid)end end;function c.methods(d)a(1,d,\"string\",\"device\",\"devicetree\")if type(d)==\"string\"then return b.syscall.devmethods(d)else return b.syscall.devmethods(getmetatable(d).uuid)end end;function c.properties(d)a(1,d,\"string\",\"device\",\"devicetree\")if type(d)==\"string\"then return b.syscall.devproperties(d)else return b.syscall.devproperties(getmetatable(d).uuid)end end;function c.children(d)a(1,d,\"string\",\"device\",\"devicetree\")if type(d)==\"string\"then return b.syscall.devchildren(d)else return b.syscall.devchildren(getmetatable(d).uuid)end end;function c.call(d,n,...)a(1,d,\"string\",\"device\",\"devicetree\")a(2,n,\"string\")if type(d)==\"string\"then return b.syscall.devcall(d,n,...)else return b.syscall.devcall(getmetatable(d).uuid,n,...)end end;function c.listen(d,o)a(1,d,\"string\",\"device\",\"devicetree\")a(2,o,\"boolean\",\"nil\")if type(d)==\"string\"then return b.syscall.devlisten(d,o)else return b.syscall.devlisten(getmetatable(d).uuid,o)end end;function c.lock(d,p)a(1,d,\"string\",\"device\",\"devicetree\")a(2,p,\"boolean\",\"nil\")if type(d)==\"string\"then return b.syscall.devlock(d,p)else return b.syscall.devlock(getmetatable(d).uuid,p)end end;function c.unlock(d)a(1,d,\"string\",\"device\",\"devicetree\")if type(d)==\"string\"then return b.syscall.devunlock(d)else return b.syscall.devunlock(getmetatable(d).uuid)end end;local function q(r)local e=c.info(r or\"/\")if not e then return nil end;r=r or\"\"return setmetatable({},{__name=\"devicetree\",uuid=e.uuid,__index=function(self,k)return q(r..\"/\"..k)end,__newindex=function()end})end;c.tree=q()return c\ninit.lua/       0           0     0     644     341       `\nreturn{expect=require\"expect\",filesystem=require\"filesystem\",framebuffer=require\"framebuffer\",graphics=require\"graphics\",hardware=require\"hardware\",keys=require\"keys\",log=require\"log\",network=require\"network\",pretty=require\"pretty\",process=require\"process\",serialization=require\"serialization\",terminal=require\"terminal\",util=require\"util\"}\n\nipc.lua/        0           0     0     644     1133      `\nlocal a=require\"expect\"local b=require\"util\"local c={}c.signal={SIGHUP=1,SIGINT=2,SIGQUIT=3,SIGTRAP=5,SIGABRT=6,SIGKILL=9,SIGPIPE=13,SIGTERM=15,SIGCONT=18,SIGSTOP=19,SIGTTIN=21,SIGTTOU=22}function c.kill(d,e)a(1,d,\"number\")a(2,e,\"number\")return b.syscall.kill(d,e)end;function c.sigaction(e,f)a(1,e,\"number\")a(2,f,\"function\",\"nil\")return b.syscall.signal(e,f)end;function c.sendEvent(d,g,h)a(1,d,\"number\")a(2,g,\"string\")a(3,h,\"table\")return b.syscall.sendEvent(d,g,h)end;function c.register(i)a(1,i,\"string\")return b.syscall.register(i)end;function c.lookup(i)a(1,i,\"string\")return b.syscall.lookup(i)end;function c.sendServiceEvent(i,g,h)a(1,i,\"string\")a(2,g,\"string\")a(3,h,\"table\")local d=b.syscall.lookup(i)if not d then return false end;return b.syscall.sendEvent(d,g,h)end;function c.receiveEvent(d,g,j)a(1,d,\"number\",\"nil\")a(2,g,\"string\",\"nil\")a(3,j,\"number\",\"nil\")local k;if j then k=b.timer(j)end;while true do local l,h=coroutine.yield()if l==\"timer\"and h.id==k then return nil elseif l==\"remote_event\"and(d==nil or d==h.sender)and(g==nil or g==h.type)then if k then b.cancel(k)end;return h.type,h.data end end end;return c\n\nkeys.lua/       0           0     0     644     1542      `\nlocal a={}for b=0x61,0x7A do a[string.char(b)]=b end;for b=0x81,0x99 do a[\"f\"..bit32.band(b,31)]=b end;for b=0xA0,0xA9 do a[\"numPad\"..bit32.band(b,15)]=b end;a.backspace=0x08;a.tab=0x09;a.enter=0x0A;a.space=0x20;a.apostrophe=0x27;a.comma=0x2C;a.minus=0x2D;a.period=0x2E;a.slash=0x2F;a.zero=0x30;a.one=0x31;a.two=0x32;a.three=0x33;a.four=0x34;a.five=0x35;a.six=0x36;a.seven=0x37;a.eight=0x38;a.nine=0x39;a.semicolon=0x3B;a.equals=0x3D;a.leftBracket=0x5B;a.backslash=0x5C;a.rightBracket=0x5D;a.grave=0x60;a.delete=0x7F;a.insert=0x80;a.convert=0x9A;a.noconvert=0x9B;a.kana=0x9C;a.kanji=0x9D;a.yen=0x9E;a.numPadDecimal=0x9F;a.numPadAdd=0xAA;a.numPadSubtract=0xAB;a.numPadMultiply=0xAC;a.numPadDivide=0xAD;a.numPadEqual=0xAE;a.numPadEnter=0xAF;a.leftCtrl=0xB0;a.rightCtrl=0xB1;a.leftAlt=0xB2;a.rightAlt=0xB3;a.leftShift=0xB4;a.rightShift=0xB5;a.leftSuper=0xB6;a.rightSuper=0xB7;a.capsLock=0xB8;a.numLock=0xB9;a.scrollLock=0xBA;a.printScreen=0xBB;a.pause=0xBC;a.menu=0xBD;a.stop=0xBE;a.ax=0xBF;a.up=0xC0;a.down=0xC1;a.left=0xC2;a.right=0xC3;a.pageUp=0xC4;a.pageDown=0xC5;a.home=0xC6;a[\"end\"]=0xC7;a.circumflex=0xC8;a.at=0xC9;a.colon=0xCA;a.underscore=0xCB;local c={}for d,e in pairs(a)do c[e]=d end;function a.getName(f)if type(f)~=\"number\"then error(\"bad argument #1 (expected number, got \"..type(f)..\")\",2)end;return c[f]end;function a.getCharacter(f)if type(f)~=\"number\"then error(\"bad argument #1 (expected number, got \"..type(f)..\")\",2)end;if f>=0x20 and f<0x7F or f==0x0A or f==0x09 then return string.char(f)else return nil end end;return a\nlog.lua/        0           0     0     644     2192      `\nlocal a=require\"expect\"local b=require\"util\"local function c(self,...)return self.log(...)end;local function d(e)local f={}function f.log(g,...)if type(g)==\"table\"then g.name=e;return b.syscall.syslog(g,...)else return b.syscall.syslog({name=e},g,...)end end;function f.debug(g,...)if type(g)==\"table\"then g.name=e;g.level=f.levels.debug;return b.syscall.syslog(g,...)else return b.syscall.syslog({name=e,level=f.levels.debug},g,...)end end;function f.info(g,...)if type(g)==\"table\"then g.name=e;g.level=f.levels.info;return b.syscall.syslog(g,...)else return b.syscall.syslog({name=e,level=f.levels.info},g,...)end end;function f.notice(g,...)if type(g)==\"table\"then g.name=e;g.level=f.levels.notice;return b.syscall.syslog(g,...)else return b.syscall.syslog({name=e,level=f.levels.notice},g,...)end end;function f.warning(g,...)if type(g)==\"table\"then g.name=e;g.level=f.levels.warning;return b.syscall.syslog(g,...)else return b.syscall.syslog({name=e,level=f.levels.warning},g,...)end end;f.warn=f.warning;function f.error(g,...)if type(g)==\"table\"then g.name=e;g.level=f.levels.error;return b.syscall.syslog(g,...)else return b.syscall.syslog({name=e,level=f.levels.error},g,...)end end;function f.critical(g,...)if type(g)==\"table\"then g.name=e;g.level=f.levels.critical;return b.syscall.syslog(g,...)else return b.syscall.syslog({name=e,level=f.levels.critical},g,...)end end;function f.traceback(h)a(1,h,\"string\",\"nil\")return b.syscall.syslog({name=e,level=f.levels.error,traceback=true},debug.traceback(h,2))end;return setmetatable(f,{__call=c})end;local f=d()f.levels={debug=0,info=1,notice=2,warning=3,error=4,critical=5}function f.create(e,i,j)a(1,e,\"string\")a(2,i,\"boolean\",\"nil\")a(3,j,\"string\",\"nil\")b.syscall.mklog(e,i,j)return d(e)end;function f.remove(e)a(1,e,\"string\")return b.syscall.rmlog(e)end;function f.open(e,k)a(1,e,\"string\")a(2,k,\"string\",\"nil\")return b.syscall.openlog(e,k)end;function f.close(e)a(1,e,\"string\",\"number\")return b.syscall.closelog(e)end;function f.setTTY(e,l,m)a(1,e,\"string\")a(2,l,\"table\",\"nil\")a(3,m,\"number\",\"nil\")return b.syscall.logtty(e,l,m)end;return setmetatable(f,{__call=c,__index=function(n,o)if type(o)==\"string\"then return d(o)end end})\nnetwork.lua/    0           0     0     644     4949      `\nlocal a=require\"util\"local b=require\"expect\"local c={route={},arp={}}function c.connect(d)b(1,d,\"table\",\"string\")if type(d)==\"table\"then b.field(d,\"url\",\"string\")end;return a.syscall.connect(d)end;function c.get(d)b(1,d,\"table\",\"string\")if type(d)==\"table\"then b.field(d,\"url\",\"string\")if not d.url:match(\"^https?://\")then error(\"Invalid scheme\",2)end elseif not d:match(\"^https?://\")then error(\"Invalid scheme\",2)end;local e=a.syscall.connect(d)e:write()while true do local f,g=coroutine.yield()if f==\"handle_status_change\"and g.id==e.id then if g.status==\"open\"then return e elseif g.status==\"error\"then return nil,select(2,e:status())end end end end;function c.getData(h,i)b(1,h,\"string\")b(2,i,\"table\",\"nil\")if not h:match(\"^https?://\")then error(\"Invalid scheme\",2)end;local e=a.syscall.connect{url=h,encoding=\"binary\",headers=i}e:write()while true do local f,g=coroutine.yield()if f==\"handle_status_change\"and g.id==e.id then if g.status==\"open\"then local j=e:read(\"*a\")e:close()return j elseif g.status==\"error\"then return nil,select(2,e:status())end end end end;function c.head(d)b(1,d,\"table\",\"string\")if type(d)==\"table\"then b.field(d,\"url\",\"string\")if not d.url:match(\"^https?://\")then error(\"Invalid scheme\",2)end else if not d:match(\"^https?://\")then error(\"Invalid scheme\",2)end;d={url=d}end;d.method=\"HEAD\"local e=a.syscall.connect(d)e:write()while true do local f,g=coroutine.yield()if f==\"handle_status_change\"and g.id==e.id then if g.status==\"open\"then return e elseif g.status==\"error\"then return nil,select(2,e:status())end end end end;function c.options(d)b(1,d,\"table\",\"string\")if type(d)==\"table\"then b.field(d,\"url\",\"string\")if not d.url:match(\"^https?://\")then error(\"Invalid scheme\",2)end else if not d:match(\"^https?://\")then error(\"Invalid scheme\",2)end;d={url=d}end;d.method=\"OPTIONS\"local e=a.syscall.connect(d)e:write()while true do local f,g=coroutine.yield()if f==\"handle_status_change\"and g.id==e.id then if g.status==\"open\"then return e elseif g.status==\"error\"then return nil,select(2,e:status())end end end end;function c.post(d,j)b(1,d,\"table\",\"string\")b(2,j,\"string\")if type(d)==\"table\"then b.field(d,\"url\",\"string\")if not d.url:match(\"^https?://\")then error(\"Invalid scheme\",2)end else if not d:match(\"^https?://\")then error(\"Invalid scheme\",2)end;d={url=d}end;d.method=\"POST\"local e=a.syscall.connect(d)e:write(j)while true do local f,g=coroutine.yield()if f==\"handle_status_change\"and g.id==e.id then if g.status==\"open\"then return e elseif g.status==\"error\"then return nil,select(2,e:status())end end end end;function c.put(d,j)b(1,d,\"table\",\"string\")b(2,j,\"string\")if type(d)==\"table\"then b.field(d,\"url\",\"string\")if not d.url:match(\"^https?://\")then error(\"Invalid scheme\",2)end else if not d:match(\"^https?://\")then error(\"Invalid scheme\",2)end;d={url=d}end;d.method=\"PUT\"local e=a.syscall.connect(d)e:write(j)while true do local f,g=coroutine.yield()if f==\"handle_status_change\"and g.id==e.id then if g.status==\"open\"then return e elseif g.status==\"error\"then return nil,select(2,e:status())end end end end;function c.delete(d,j)b(1,d,\"table\",\"string\")b(2,j,\"string\",\"nil\")if type(d)==\"table\"then b.field(d,\"url\",\"string\")if not d.url:match(\"^https?://\")then error(\"Invalid scheme\",2)end else if not d:match(\"^https?://\")then error(\"Invalid scheme\",2)end;d={url=d}end;d.method=\"DELETE\"local e=a.syscall.connect(d)e:write(j)while true do local f,g=coroutine.yield()if f==\"handle_status_change\"and g.id==e.id then if g.status==\"open\"then return e elseif g.status==\"error\"then return nil,select(2,e:status())end end end end;function c.listen(k)b(1,k,\"string\")return a.syscall.listen(k)end;function c.unlisten(k)b(1,k,\"string\")return a.syscall.unlisten(k)end;function c.ipconfig(l,m)b(1,l,\"string\",\"table\")b(2,m,\"table\",\"nil\")if m then b.field(m,\"ip\",\"string\",\"number\",\"nil\")b.field(m,\"netmask\",\"string\",\"number\",\"nil\")b.field(m,\"up\",\"boolean\",\"nil\")end;return a.syscall.ipconfig(l,m)end;function c.route.list(n)b(1,n,\"number\",\"nil\")return a.syscall.routelist(n)end;function c.route.add(d)b(1,d,\"table\")b.field(d,\"table\",\"number\",\"nil\")b.field(d,\"source\",\"string\")b.field(d,\"sourceNetmask\",\"number\")b.field(d,\"action\",\"string\")b.field(d,\"device\",\"string\",not(d.action==\"local\"or d.action==\"unicast\"or d.action==\"broadcast\")and\"nil\"or nil)b.field(d,\"destination\",\"string\",d.action~=\"unicast\"and\"nil\"or nil)return a.syscall.routeadd(d)end;function c.route.remove(o,p,n)b(1,o,\"string\")b(2,p,\"number\")b(3,n,\"number\",\"nil\")return a.syscall.routedel(o,p,n)end;function c.arp.list(l)b(1,l,\"string\")return a.syscall.arplist(l)end;function c.arp.set(l,q,r)b(1,l,\"string\")b(2,q,\"string\")b(3,r,\"number\",\"nil\")return a.syscall.arpset(l,q,r)end;function c.control(q,type,s)b(1,q,\"string\")b(2,type,\"string\")b(3,s,\"string\",\"nil\")return a.syscall.netcontrol(q,type,s)end;function c.events(t)b(1,t,\"boolean\",\"nil\")return a.syscall.netevent(t)end;function c.checkURI(k)b(1,k,\"string\")return a.syscall.checkuri(k)end;return c\n\npretty.lua/     0           0     0     644     6055      `\nlocal a=require\"terminal\"local b=require\"expect\"local c=b.field;local type,getmetatable,setmetatable,d,tostring=type,getmetatable,setmetatable,a.colours,tostring;local e,f=debug.getinfo,debug.getlocal;local function g(h,i)local j=h.n+1;h[j],h.n=i,j end;local k={__name=\"document\"}local function l(m)return setmetatable(m,k)end;local n=l({tag=\"nil\"})local o=l({tag=\"text\",text=\" \"})local p=l({tag=\"line\",flat=n})local q=l({tag=\"line\",flat=o})local r={[\"\"]=n,[\" \"]=o,[\"\\n\"]=q}local function s(t,u)return r[t]or setmetatable({tag=\"text\",text=t,colour=u},k)end;local function t(t,u)b(1,t,\"string\")b(2,u,\"number\",\"nil\")local v=r[t]if v then return v end;local w=t:find(\"\\n\",1)if not w then return s(t,u)end;local x=setmetatable({tag=\"concat\",n=0},k)if w~=1 then g(x,s(t:sub(1,w-1),u))end;w=w+1;while true do local y=t:find(\"\\n\",w)g(x,q)if not y then if w<=#t then g(x,s(t:sub(w),u))end;return x else if w<=y-1 then g(x,s(t:sub(w,y-1),u))end;w=y+1 end end end;local function z(...)local A=table.pack(...)for B=1,A.n do if type(A[B])==\"string\"then A[B]=t(A[B])end;b(B,A[B],\"document\")end;if A.n==0 then return n end;if A.n==1 then return A[1]end;A.tag=\"concat\"return setmetatable(A,k)end;k.__concat=z;local function C(D,x)b(1,D,\"number\")b(2,x,\"document\")if D<=0 then error(\"depth must be a positive number\",2)end;return setmetatable({tag=\"nest\",depth=D,x},k)end;local function E(x)if x.flat then return x.flat end;local F=x.tag;if F==\"nil\"or F==\"text\"then return x elseif F==\"concat\"then local h=setmetatable({tag=\"concat\",n=x.n},k)for B=1,x.n do h[B]=E(x[B])end;x.flat,h.flat=h,h;return h elseif F==\"nest\"then return E(x[1])elseif F==\"group\"then return x[1]else error(\"Unknown doc \"..F)end end;local function G(x)b(1,x,\"document\")if x.tag==\"group\"then return x end;local H=E(x)if H==x then return x end;return setmetatable({tag=\"group\",H,x},k)end;local function I(x,J)local F=x.tag;if F==\"nil\"or F==\"line\"then return J elseif F==\"text\"then return J-#x.text elseif F==\"concat\"then for B=1,x.n do J=I(x[B],J)if J<0 then break end end;return J elseif F==\"group\"or F==\"nest\"then return I(F[1])else error(\"Unknown doc \"..F)end end;local function K(x,L)b(1,x,\"document\")b(2,L,\"number\",\"nil\")local J,M=a.termsize()local N=(L or 0.6)*J;if N<0 then N=0 end;if N>J then N=J end;local O=d.white;local P=O;local function Q(x,R,S)local F=x.tag;if F==\"nil\"then return S elseif F==\"text\"then local T=x.colour or O;if T~=P then io.write(a.toEscape(T))P=T end;io.write(x.text)return S+#x.text elseif F==\"line\"then io.write(\"\\n\\x1b[\"..R..\"C\")return R elseif F==\"concat\"then for B=1,x.n do S=Q(x[B],R,S)end;return S elseif F==\"nest\"then return Q(x[1],R+x.depth,S)elseif F==\"group\"then if I(x[1],math.min(J,N+R)-S)>=0 then return Q(x[1],R,S)else return Q(x[2],R,S)end else error(\"Unknown doc \"..F)end end;Q(x,0,0)if P~=O then io.write(\"\\x1b[0m\")end end;local function U(x,L)b(1,x,\"document\")b(2,L,\"number\",\"nil\")K(x,L)_G.print()end;local function V(x,J,L)b(1,x,\"document\")b(2,J,\"number\",\"nil\")b(3,L,\"number\",\"nil\")local N;if J then N=(L or 0.6)*J;if N<0 then N=0 end;if N>J then N=J end end;local h={n=0}local function Q(x,R,S)local F=x.tag;if F==\"nil\"then return S elseif F==\"text\"then g(h,x.text)return S+#x.text elseif F==\"line\"then g(h,\"\\n\"..(\" \"):rep(R))return R elseif F==\"concat\"then for B=1,x.n do S=Q(x[B],R,S)end;return S elseif F==\"nest\"then return Q(x[1],R+x.depth,S)elseif F==\"group\"then if not J or I(x[1],math.min(J,N+R)-S)>=0 then return Q(x[1],R,S)else return Q(x[2],R,S)end else error(\"Unknown doc \"..F)end end;Q(x,0,0)return table.concat(h,\"\",1,h.n)end;k.__tostring=V;local W={[\"and\"]=true,[\"break\"]=true,[\"do\"]=true,[\"else\"]=true,[\"elseif\"]=true,[\"end\"]=true,[\"false\"]=true,[\"for\"]=true,[\"function\"]=true,[\"if\"]=true,[\"in\"]=true,[\"local\"]=true,[\"nil\"]=true,[\"not\"]=true,[\"or\"]=true,[\"repeat\"]=true,[\"return\"]=true,[\"then\"]=true,[\"true\"]=true,[\"until\"]=true,[\"while\"]=true}local X=t(\",\")local Y=t(\"{}\")local Z,_=t(\"{\"),t(\"}\")local a0,a1=t(\"[\"),t(\"] = \")local function a2(a3,a4)local a5,a6=type(a3),type(a4)if a5==\"string\"then return a6~=\"string\"or a3<a4 elseif a6==\"string\"then return false end;if a5==\"number\"then return a6~=\"number\"or a3<a4 end;return false end;local function a7(a8,a9)local aa=e and e(a8,\"Su\")local ab;if a9.function_source and aa and aa.short_src and aa.linedefined and aa.linedefined>=1 then ab=\"function<\"..aa.short_src..\":\"..aa.linedefined..\">\"else ab=tostring(a8)end;if a9.function_args and aa and aa.what==\"Lua\"and aa.nparams and f then local A={}for B=1,aa.nparams do A[B]=f(a8,B)or\"?\"end;if aa.isvararg then A[#A+1]=\"...\"end;ab=ab..\"(\"..table.concat(A,\", \")..\")\"end;return ab end;local function ac(ad,a9,ae)local af=type(ad)if af==\"string\"then local ag=(\"%q\"):format(ad):gsub(\"\\\\\\n\",\"\\\\n\")return t(ag,d.red)elseif af==\"number\"then return t(tostring(ad),d.magenta)elseif af==\"function\"then return t(a7(ad,a9),d.lightGrey)elseif af~=\"table\"or ae[ad]then return t(tostring(ad),d.lightGrey)elseif getmetatable(ad)~=nil and getmetatable(ad).__tostring then return t(tostring(ad))elseif next(ad)==nil then return Y else ae[ad]=true;local x=setmetatable({tag=\"concat\",n=1,q},k)local ah,ai,aj=#ad,{},1;for ak in pairs(ad)do if type(ak)~=\"number\"or ak%1~=0 or ak<1 or ak>ah then ai[aj],aj=ak,aj+1 end end;table.sort(ai,a2)for B=1,ah do if B>1 then g(x,X)g(x,q)end;g(x,ac(ad[B],a9,ae))end;for B=1,aj-1 do if B>1 or ah>=1 then g(x,X)g(x,q)end;local ak=ai[B]local al=ad[ak]if type(ak)==\"string\"and not W[ak]and ak:match(\"^[%a_][%a%d_]*$\")then g(x,t(ak..\" = \"))g(x,ac(al,a9,ae))else g(x,a0)g(x,ac(ak,a9,ae))g(x,a1)g(x,ac(al,a9,ae))end end;ae[ad]=nil;return G(z(Z,C(2,z(table.unpack(x,1,x.n))),q,_))end end;local function am(ad,a9)b(2,a9,\"table\",\"nil\")a9=a9 or{}local an={function_source=c(a9,\"function_source\",\"boolean\",\"nil\")or false,function_args=c(a9,\"function_args\",\"boolean\",\"nil\")or false}return ac(ad,an,{})end;local function ao(ad,a9,L)b(2,a9,\"table\",\"nil\")a9=a9 or{}b(3,L,\"number\",\"nil\")return U(am(ad,a9),L)end;return{empty=n,space=o,line=p,space_line=q,text=t,concat=z,nest=C,group=G,write=K,print=U,render=V,pretty=am,pretty_print=ao}\n\nprocess.lua/    0           0     0     644     2038      `\nlocal a=require\"expect\"local b=require\"util\"local c={}function c.getpid()return b.syscall.getpid()end;function c.getppid()return b.syscall.getppid()end;function c.getuser()return b.syscall.getuser()end;function c.setuser(d)a(1,d,\"string\")return b.syscall.setuser(d)end;function c.clock()return b.syscall.clock()end;function c.getenv()return b.syscall.getenv()end;function c.getname()return b.syscall.getname()end;function c.getcwd()return b.syscall.getcwd()end;function c.chdir(e)a(1,e,\"string\")return b.syscall.chdir(e)end;function c.fork(f,g,...)a(1,f,\"function\")a(2,g,\"string\",\"nil\")return b.syscall.fork(f,g,...)end;function c.exec(h,...)a(1,h,\"string\")return b.syscall.exec(h,...)end;function c.execp(i,...)a(1,i,\"string\")local h=b.syscall.getenv().PATH;if i:find\"/\"or type(h)~=\"string\"then return b.syscall.exec(i,...)end;for e in h:gmatch\"[^:]+\"do local j=b.syscall.combine(e,i)local k=b.syscall.stat(j)if not k then j=b.syscall.combine(e,i..\".lua\")k=b.syscall.stat(j)end;if k and k.type~=\"directory\"then return b.syscall.exec(j,...)end end;error(i..\": No such file\",2)end;function c.start(h,...)a(1,h,\"string\")return b.syscall.fork(function(...)return coroutine.yield(\"syscall\",\"exec\",...)end,h,h,...)end;function c.run(i,...)a(1,i,\"string\")local l=b.syscall.getenv().PATH;local h;if i:find\"/\"or type(l)~=\"string\"then h=i else for e in l:gmatch\"[^:]+\"do local j=b.syscall.combine(e,i)local k=b.syscall.stat(j)if not k then j=b.syscall.combine(e,i..\".lua\")k=b.syscall.stat(j)end;if k and k.type~=\"directory\"then h=j;break end end;error(i..\": No such file\",2)end;local m=b.syscall.fork(function(...)return coroutine.yield(\"syscall\",\"exec\",...)end,h,h,...)local n,o;repeat n,o=coroutine.yield()until n==\"process_complete\"and o.id==m;return o.error==nil,o.error or o.value end;function c.newthread(f,...)a(1,f,\"function\")return b.syscall.newthread(f,...)end;function c.exit(p)return b.syscall.exit(p)end;function c.getplist()return b.syscall.getplist()end;function c.getpinfo(m)a(1,m,\"number\")return b.syscall.getpinfo(m)end;return c\n/0              0           0     0     644     8888      `\nlocal a=require\"expect\"local b={base64={},json={},lua={}}local c=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"function b.base64.encode(d)a(1,d,\"string\")local e=\"\"for f in d:gmatch\"...\"do local g=f:byte(1)*65536+f:byte(2)*256+f:byte(3)local h,i,j,k=bit32.extract(g,18,6),bit32.extract(g,12,6),bit32.extract(g,6,6),bit32.extract(g,0,6)e=e..c:sub(h+1,h+1)..c:sub(i+1,i+1)..c:sub(j+1,j+1)..c:sub(k+1,k+1)end;if#d%3==1 then local g=d:byte(-1)local h,i=bit32.rshift(g,2),bit32.lshift(bit32.band(g,3),4)e=e..c:sub(h+1,h+1)..c:sub(i+1,i+1)..\"==\"elseif#d%3==2 then local g=d:byte(-2)*256+d:byte(-1)local h,i,j=bit32.extract(g,10,6),bit32.extract(g,4,6),bit32.lshift(bit32.extract(g,0,4),2)e=e..c:sub(h+1,h+1)..c:sub(i+1,i+1)..c:sub(j+1,j+1)..\"=\"end;return e end;function b.base64.decode(d)a(1,d,\"string\")local e=\"\"for f in d:gmatch\"....\"do if f:sub(3,4)=='=='then e=e..string.char(bit32.bor(bit32.lshift(c:find(f:sub(1,1))-1,2),bit32.rshift(c:find(f:sub(2,2))-1,4)))elseif f:sub(4,4)=='='then local g=(c:find(f:sub(1,1))-1)*4096+(c:find(f:sub(2,2))-1)*64+c:find(f:sub(3,3))-1;e=e..string.char(bit32.extract(g,10,8))..string.char(bit32.extract(g,2,8))else local g=(c:find(f:sub(1,1))-1)*262144+(c:find(f:sub(2,2))-1)*4096+(c:find(f:sub(3,3))-1)*64+c:find(f:sub(4,4))-1;e=e..string.char(bit32.extract(g,16,8))..string.char(bit32.extract(g,8,8))..string.char(bit32.extract(g,0,8))end end;return e end;local function l(d)return setmetatable({},{__newindex=function()error(\"attempt to modify read-only table\")end,__tostring=function()return d end})end;b.json.null=l\"null\"b.json.emptyArray=l\"[]\"local m;local n={[\"\\\\\"]=\"\\\\\",[\"\\\"\"]=\"\\\"\",[\"\\b\"]=\"b\",[\"\\f\"]=\"f\",[\"\\n\"]=\"n\",[\"\\r\"]=\"r\",[\"\\t\"]=\"t\"}local o={[\"/\"]=\"/\"}for p,q in pairs(n)do o[q]=p end;local function r(j)return\"\\\\\"..(n[j]or string.format(\"u%04x\",j:byte()))end;local function s(t)return\"null\"end;local function u(t,v)local w={}v=v or{}if t==b.json.null then return\"null\"elseif t==b.json.emptyArray then return\"[]\"end;if v[t]then error(\"circular reference\")end;v[t]=true;if rawget(t,1)~=nil or next(t)==nil then local g=0;for p in pairs(t)do if type(p)~=\"number\"then error(\"invalid table: mixed or invalid key types\")end;g=g+1 end;if g~=#t then error(\"invalid table: sparse array\")end;for x,q in ipairs(t)do table.insert(w,m(q,v))end;v[t]=nil;return\"[\"..table.concat(w,\",\")..\"]\"else for p,q in pairs(t)do if type(p)~=\"string\"then error(\"invalid table: mixed or invalid key types\")end;table.insert(w,m(p,v)..\":\"..m(q,v))end;v[t]=nil;return\"{\"..table.concat(w,\",\")..\"}\"end end;local function y(t)return'\"'..t:gsub('[%z\\1-\\31\\\\\"]',r)..'\"'end;local function z(t)if t~=t or t<=-math.huge or t>=math.huge then error(\"unexpected number value '\"..tostring(t)..\"'\")end;return string.format(\"%.14g\",t)end;local A={[\"nil\"]=s,[\"table\"]=u,[\"string\"]=y,[\"number\"]=z,[\"boolean\"]=tostring}m=function(t,v)local B=type(t)local C=A[B]if C then return C(t,v)end;error(\"unexpected type '\"..B..\"'\")end;function b.json.encode(t)return m(t)end;local D;local function E(...)local w={}for x=1,select(\"#\",...)do w[select(x,...)]=true end;return w end;local F=E(\" \",\"\\t\",\"\\r\",\"\\n\")local G=E(\" \",\"\\t\",\"\\r\",\"\\n\",\"]\",\"}\",\",\")local H=E(\"\\\\\",\"/\",'\"',\"b\",\"f\",\"n\",\"r\",\"t\",\"u\")local I=E(\"true\",\"false\",\"null\")local J={[\"true\"]=true,[\"false\"]=false,[\"null\"]=nil}local function K(d,L,M,N)for x=L,#d do if M[d:sub(x,x)]~=N then return x end end;return#d+1 end;local function O(d,L,P)local Q=1;local R=1;for x=1,L-1 do R=R+1;if d:sub(x,x)==\"\\n\"then Q=Q+1;R=1 end end;error(string.format(\"%s at line %d col %d\",P,Q,R))end;local function S(g)local C=math.floor;if g<=0x7f then return string.char(g)elseif g<=0x7ff then return string.char(C(g/64)+192,g%64+128)elseif g<=0xffff then return string.char(C(g/4096)+224,C(g%4096/64)+128,g%64+128)elseif g<=0x10ffff then return string.char(C(g/262144)+240,C(g%262144/4096)+128,C(g%4096/64)+128,g%64+128)end;error(string.format(\"invalid unicode codepoint '%x'\",g))end;local function T(f)local U=tonumber(f:sub(1,4),16)local V=tonumber(f:sub(7,10),16)if V then return S((U-0xd800)*0x400+V-0xdc00+0x10000)else return S(U)end end;local function W(d,x)local w=\"\"local X=x+1;local p=X;while X<=#d do local Y=d:byte(X)if Y<32 then O(d,X,\"control character in string\")elseif Y==92 then w=w..d:sub(p,X-1)X=X+1;local j=d:sub(X,X)if j==\"u\"then local Z=d:match(\"^[dD][89aAbB]%x%x\\\\u%x%x%x%x\",X+1)or d:match(\"^%x%x%x%x\",X+1)or O(d,X-1,\"invalid unicode escape in string\")w=w..T(Z)X=X+#Z else if not H[j]then O(d,X-1,\"invalid escape char '\"..j..\"' in string\")end;w=w..o[j]end;p=X+1 elseif Y==34 then w=w..d:sub(p,X-1)return w,X+1 end;X=X+1 end;O(d,x,\"expected closing quote for string\")end;local function _(d,x)local Y=K(d,x,G)local f=d:sub(x,Y-1)local g=tonumber(f)if not g then O(d,x,\"invalid number '\"..f..\"'\")end;return g,Y end;local function a0(d,x)local Y=K(d,x,G)local a1=d:sub(x,Y-1)if not I[a1]then O(d,x,\"invalid literal '\"..a1 ..\"'\")end;return J[a1],Y end;local function a2(d,x)local w={}local g=1;x=x+1;while 1 do local Y;x=K(d,x,F,true)if d:sub(x,x)==\"]\"then x=x+1;break end;Y,x=D(d,x)w[g]=Y;g=g+1;x=K(d,x,F,true)local a3=d:sub(x,x)x=x+1;if a3==\"]\"then break end;if a3~=\",\"then O(d,x,\"expected ']' or ','\")end end;return w,x end;local function a4(d,x)local w={}x=x+1;while 1 do local a5,t;x=K(d,x,F,true)if d:sub(x,x)==\"}\"then x=x+1;break end;if d:sub(x,x)~='\"'then O(d,x,\"expected string for key\")end;a5,x=D(d,x)x=K(d,x,F,true)if d:sub(x,x)~=\":\"then O(d,x,\"expected ':' after key\")end;x=K(d,x+1,F,true)t,x=D(d,x)w[a5]=t;x=K(d,x,F,true)local a3=d:sub(x,x)x=x+1;if a3==\"}\"then break end;if a3~=\",\"then O(d,x,\"expected '}' or ','\")end end;return w,x end;local a6={['\"']=W,[\"0\"]=_,[\"1\"]=_,[\"2\"]=_,[\"3\"]=_,[\"4\"]=_,[\"5\"]=_,[\"6\"]=_,[\"7\"]=_,[\"8\"]=_,[\"9\"]=_,[\"-\"]=_,[\"t\"]=a0,[\"f\"]=a0,[\"n\"]=a0,[\"[\"]=a2,[\"{\"]=a4}D=function(d,L)local a3=d:sub(L,L)local C=a6[a3]if C then return C(d,L)end;O(d,L,\"unexpected character '\"..a3 ..\"'\")end;function b.json.decode(d)a(1,d,\"string\")local w,L=D(d,K(d,1,F,true))L=K(d,L,F,true)if L<=#d then O(d,L,\"trailing garbage\")end;return w end;function b.json.save(t,a7)a(2,a7,\"string\")local a8=assert(io.open(a7,\"w\"))a8:write(b.json.encode(t))a8:close()end;function b.json.load(a7)a(1,a7,\"string\")local a8=assert(io.open(a7,\"r\"))local a9=a8:read(\"*a\")a8:close()return b.json.decode(a9)end;local aa={[\"and\"]=true,[\"break\"]=true,[\"do\"]=true,[\"else\"]=true,[\"elseif\"]=true,[\"end\"]=true,[\"false\"]=true,[\"for\"]=true,[\"function\"]=true,[\"goto\"]=true,[\"if\"]=true,[\"in\"]=true,[\"local\"]=true,[\"nil\"]=true,[\"not\"]=true,[\"or\"]=true,[\"repeat\"]=true,[\"return\"]=true,[\"then\"]=true,[\"true\"]=true,[\"until\"]=true,[\"while\"]=true}local function ab(t,v,ac,ad)if v[t]then error(\"Cannot serialize recursive value\",0)end;local ae=type(t)if ae==\"table\"then if not next(t)then return\"{}\"end;v[t]=true;local w=ac.minified and\"{\"or\"{\\n\"local af={}for x,q in ipairs(t)do if not ac.minified then w=w..(\"    \"):rep(ad)end;af[x]=true;w=w..ab(q,v,ac,ad+1)..(ac.minified and\",\"or\",\\n\")end;for p,q in pairs(t)do if not af[p]then if not ac.minified then w=w..(\"    \"):rep(ad)end;if type(p)==\"string\"and p:match\"^[A-Za-z_][A-Za-z0-9_]*$\"and not aa[p]then w=w..p else w=w..\"[\"..ab(p,v,ac,ad+1)..\"]\"end;w=w..(ac.minified and\"=\"or\" = \")..ab(q,v,ac,ad+1)..(ac.minified and\",\"or\",\\n\")end end;if ac.minified then w=w:gsub(\",$\",\"\")else w=w..(\"    \"):rep(ad-1)end;v[t]=nil;return w..\"}\"elseif ae==\"function\"and ac.allow_functions then local ag,ah=pcall(string.dump,t)if not ag then error(\"Cannot serialize C function\",0)end;ah=(\"%q\"):format(ah):gsub(\"[%z\\1-\\31\\127-\\255]\",function(j)return(\"\\\\%03d\"):format(string.byte(j))end)local ai={n=0}v[t]=true;for x=1,math.huge do local ag,aj,ak=pcall(debug.getupvalue,t,x)if not ag or not aj then break end;ai[x]=ak;ai.n=x end;local aj=\"=(serialized function)\"local ag,al=pcall(debug.getinfo,t,\"S\")if ag then aj=al.source or aj end;local q=(\"__function(%s,%q,%s)\"):format(ah,aj,ab(ai,v,ac,ad+1))v[t]=nil;return q elseif ae==\"nil\"or ae==\"number\"or ae==\"boolean\"or ae==\"string\"then return(\"%q\"):format(t):gsub(\"\\\\\\n\",\"\\\\n\"):gsub(\"\\\\[%z\\1-\\31\\127-\\255]\",function(j)return(\"\\\\%03d\"):format(string.byte(j))end)else error(\"Cannot serialize type \"..ae,0)end end;function b.lua.encode(t,ac)a(2,ac,\"table\",\"nil\")return ab(t,{},ac or{},1)end;function b.lua.decode(d,ac)ac=a(2,ac,\"table\",\"nil\")or{}local am={}local an={}if ac.allow_functions then function am.__function(ao,aj,ai)a(1,ao,\"string\")a(3,ai,\"table\")a.field(ai,\"n\",\"number\")local ap=assert(load(ao,aj,\"b\",{}))for x=1,ai.n do debug.setupvalue(ap,x,ai[x])end;an[#an+1]=ap;return ap end end;local w=assert(load(\"return \"..d,\"=unserialize\",\"t\",am))()for aq,q in ipairs(an)do setfenv(q,_G)end;return w end;function b.lua.save(t,a7,ac)a(2,a7,\"string\")local a8=assert(io.open(a7,\"w\"))a8:write(b.lua.encode(t,ac))a8:close()end;function b.lua.load(a7,ac)a(1,a7,\"string\")local a8=assert(io.open(a7,\"r\"))local a9=a8:read(\"*a\")a8:close()return b.lua.decode(a9,ac)end;return b\nsync.lua/       0           0     0     644     3224      `\nlocal a=require\"expect\"local b=require\"util\"local c={mutex={},semaphore={},conditionVariable={},atomic={},barrier={},rwLock={}}function c.mutex.new(d)a(1,d,\"boolean\",\"nil\")return setmetatable({recursive=d and 0},{__name=\"mutex\",__index=c.mutex})end;function c.mutex:lock()a(1,self,\"mutex\")return b.syscall.lockmutex(self)end;function c.mutex:unlock()a(1,self,\"mutex\")return b.syscall.unlockmutex(self)end;function c.mutex:tryLock()a(1,self,\"mutex\")return b.syscall.trylockmutex(self)end;function c.mutex:tryLockFor(e)a(1,self,\"mutex\")a(2,e,\"number\")return b.syscall.timelockmutex(self,e)end;function c.semaphore.new(f)a(1,f,\"number\",\"nil\")if f then a.range(f,0)end;return setmetatable({count=f or 1},{__name=\"semaphore\",__index=c.semaphore})end;function c.semaphore:acquire()a(1,self,\"semaphore\")return b.syscall.acquiresemaphore(self)end;function c.semaphore:tryAcquireFor(e)a(1,self,\"semaphore\")a(2,e,\"number\")return b.syscall.timeacquiresemaphore(self,e)end;function c.semaphore:release()a(1,self,\"semaphore\")return b.syscall.releasesemaphore(self)end;function c.conditionVariable.new()return setmetatable({lock=c.mutex.new(),sem=c.semaphore.new(0),waiting=0},{__name=\"condition variable\",__index=c.conditionVariable})end;function c.conditionVariable:wait()a(1,self,\"condition variable\")self.lock:lock()self.waiting=self.waiting+1;self.lock:unlock()self.sem:acquire()self.lock:lock()self.waiting=self.waiting-1;self.lock:unlock()end;function c.conditionVariable:waitFor(e)a(1,self,\"condition variable\")a(2,e,\"number\")self.lock:lock()self.waiting=self.waiting+1;self.lock:unlock()local g=self.sem:tryAcquireUntil(e)self.lock:lock()self.waiting=self.waiting-1;self.lock:unlock()return g end;function c.conditionVariable:notifyOne()a(1,self,\"condition variable\")self.sem:release()end;function c.conditionVariable:notifyAll()a(1,self,\"condition variable\")self.lock:lock()self.sem.count=self.sem.count+self.waiting-1;self.sem:release()self.lock:unlock()end;function c.barrier.new(h)a(1,h,\"number\")a.range(h,1)return setmetatable({cvar=c.conditionVariable.new(),lock=c.mutex.new(),left=h,count=h,cycles=0},{__name=\"barrier\",__index=c.barrier})end;function c.barrier:wait()a(1,self,\"barrier\")self.lock:lock()self.left=self.left-1;if self.left==0 then self.left=self.count;self.cycles=self.cycles+1;self.lock:unlock()self.cvar:notifyAll()return true else self.lock:unlock()self.cvar:wait()return false end end;function c.rwLock.new()return setmetatable({count=0,readLock=c.mutex.new(),globalLock=c.semaphore.new(1)},{__name=\"rwlock\",__index=c.rwLock})end;function c.rwLock:lockRead()a(1,self,\"rwlock\")self.readLock:lock()self.count=self.count+1;if self.count==1 then self.globalLock:acquire()end;self.readLock:unlock()end;function c.rwLock:unlockRead()a(1,self,\"rwlock\")self.readLock:lock()self.count=self.count-1;if self.count==0 then self.globalLock:release()end;self.readLock:unlock()end;function c.rwLock:lockWrite()a(1,self,\"rwlock\")self.globalLock:acquire()end;function c.rwLock:unlockWrite()a(1,self,\"rwlock\")self.globalLock:release()end;function c.lockGuard(i,j,...)a(1,i,\"mutex\")a(2,j,\"function\")i:lock()local k=table.pack(pcall(j,...))i:unlock()if not k[1]then error(k[2],0)end;return table.unpack(k,2,k.n)end;return c\nterminal.lua/   0           0     0     644     2707      `\nlocal a=require\"expect\"local b=require\"util\"local c={}c.colors={white=0,orange=1,magenta=2,lightBlue=3,yellow=4,lime=5,pink=6,gray=7,grey=7,lightGray=8,lightGrey=8,cyan=9,purple=10,blue=11,brown=12,green=13,red=14,black=15}c.colours=c.colors;function c.toEscape(d,e)a(1,d,\"number\")a(2,e,\"boolean\",\"nil\")a.range(d,0,15)local f=37-d%8;if d<8 then f=f+60 end;if e then f=f+10 end;return\"\\x1b[\"..f..\"m\"end;function c.write(...)return b.syscall.write(...)end;function c.writeerr(...)return b.syscall.writeerr(...)end;function c.read(f)a(1,f,\"number\")return b.syscall.read(f)end;function c.readline()return b.syscall.readline()end;function c.termctl(g)a(1,g,\"table\",\"nil\")if g then a.field(g,\"cbreak\",\"boolean\",\"nil\")a.field(g,\"delay\",\"boolean\",\"nil\")a.field(g,\"echo\",\"boolean\",\"nil\")a.field(g,\"keypad\",\"boolean\",\"nil\")a.field(g,\"nlcr\",\"boolean\",\"nil\")a.field(g,\"raw\",\"boolean\",\"nil\")end;return b.syscall.termctl(g)end;function c.openterm()return b.syscall.openterm()end;function c.opengfx()return b.syscall.opengfx()end;function c.mktty(h,i)a(1,h,\"number\")a(2,i,\"number\")return b.syscall.mktty(h,i)end;function c.stdin(j)a(1,j,\"number\",\"table\",\"nil\")return b.syscall.stdin(j)end;function c.stdout(j)a(1,j,\"number\",\"table\",\"nil\")return b.syscall.stdout(j)end;function c.stderr(j)a(1,j,\"number\",\"table\",\"nil\")return b.syscall.stderr(j)end;function c.istty()return b.syscall.istty()end;function c.termsize()return b.syscall.termsize()end;c.getSize=c.termsize;local k={}function k.close()end;function k.write(l)end;function k.blit(l,m,n)end;function k.clear()end;function k.clearLine()end;function k.getCursorPos()end;function k.setCursorPos(o,p)end;function k.getCursorBlink()end;function k.setCursorBlink(q)end;function k.isColor()end;function k.getSize()end;function k.scroll(r)end;function k.getTextColor()end;function k.setTextColor(d)end;function k.getBackgroundColor()end;function k.setBackgroundColor(d)end;function k.getPaletteColor(d)end;function k.setPaletteColor(d,s,t,u)end;function k.getLine(p)end;local v={}function v.close()end;function v.getSize()end;function v.clear()end;function v.getPaletteColor(d)end;function v.setPaletteColor(d,s,t,u)end;function v.getPixel(o,p)end;function v.setPixel(o,p,d)end;function v.getPixels(o,p,h,i,w)end;function v.drawPixels(o,p,x,h,i)end;function v.getFrozen()end;function v.setFrozen(y)end;local z={isTTY=true,flags={cbreak=false,delay=true,echo=true,keypad=false,nlcr=true,raw=false},cursor={x=1,y=1},cursorBlink=true,colors={fg='0',bg='f',bold=false},size={width=51,height=19},dirtyLines={},palette={},dirtyPalette={},buffer=\"\",preBuffer=\"\",isLocked=false,isGraphics=false,textBuffer={},graphicsBuffer={},frontmostProcess=nil,processList={},eof=false}return c\n\nutil.lua/       0           0     0     644     6676      `\nlocal a=require\"expect\"local b={}b.syscall=setmetatable({},{__index=function(self,c)return function(...)local d=table.pack(coroutine.yield(\"syscall\",c,...))if d[1]then return table.unpack(d,2,d.n)else error(d[2],2)end end end,__newindex=function()end})function b.argparse(e,...)a(1,e,\"table\")a.field(e,\"\",\"table\",\"nil\")local d={}local f;local g=e[\"\"]or{}for h,i in ipairs{...}do if f then if e[f]==\"number\"then d[f]=tonumber(i)if not d[f]then return nil,\"parameter passed to argument '\"..f..\"' is not a number\"end elseif e[f]==\"multiple\"then d[f]=d[f]or{}d[f][#d[f]+1]=i elseif e[f]==\"multiple number\"then i=tonumber(i)if not i then return nil,\"parameter passed to argument '\"..f..\"' is not a number\"end;d[f]=d[f]or{}d[f][#d[f]+1]=i else d[f]=i end;f=nil elseif i:match\"^%-+$\"then local j=table.pack(...)local k=i==\"-\"and#d+1 or#d;for l=i==\"-\"and 0 or 1,j.n-h do d[k+l]=j[h+l]end;break elseif i:sub(1,2)==\"--\"then local m=i:sub(3)while type(e[m])==\"string\"and e[m]:match\"^@\"do m=e[m]:sub(2)end;if e[m]then f=m elseif e[m]==false then d[m]=true else return nil,\"unrecognized argument '--\"..m..\"'\"end elseif i:sub(1,1)==\"-\"then for m in i:sub(2):gmatch\".\"do while type(e[m])==\"string\"and e[m]:match\"^@\"do m=e[m]:sub(2)end;if e[m]then if f then return nil,\"no parameter passed to argument '\"..f..\"'\"end;f=m elseif e[m]==false then d[m]=true else return nil,\"unrecognized argument '-\"..m..\"'\"end end else if g.stopProcessingOnPositionalArgument then local j=table.pack(...)local k=#d+1;for l=0,j.n-h do d[k+l]=j[h+l]end;break else d[#d+1]=i end end end;if f then return nil,\"no parameter passed to argument '\"..f..\"'\"end;return d end;function b.timer(n)a(1,n,\"number\")return b.syscall.timer(n)end;function b.alarm(n)a(1,n,\"number\")return b.syscall.alarm(n)end;function b.cancel(o)a(1,o,\"number\")return b.syscall.cancel(o)end;function b.sleep(n)a(1,n,\"number\")local p=b.syscall.timer(n)repeat local q,r=coroutine.yield()until q==\"timer\"and r.id==p end;function b.pullEvent()return coroutine.yield()end;function b.filterEvent(...)local s={...}for h,t in ipairs(s)do a(h,t,\"string\")end;while true do local u,r=coroutine.yield()for v,t in ipairs(s)do if u==t then return u,r end end end end;function b.queueEvent(u,r)a(1,u,\"string\")a(2,r,\"table\")return b.syscall.queueEvent(u,r)end;function b.split(w,x,y)a(1,w,\"string\")a(2,x,\"string\",\"nil\")local z={}if y then local k,m=1,w:find(\"[\"..x..\"]\")while k do z[#z+1]=w:sub(k,m and m-1)k=m and m+1;m=w:find(\"[\"..x..\"]\",k)end else for A in w:gmatch(\"[^\"..(x or\"%s\")..\"]+\")do z[#z+1]=A end end;return z end;function b.copy(B)if type(B)==\"table\"then local d=setmetatable({},deepcopy(getmetatable(B)))for C,t in pairs(B)do d[deepcopy(C)]=deepcopy(t)end;return d else return B end end;local D={}function b.addEventListener(u,E)a(1,u,\"string\")a(2,E,\"function\")D[u]=D[u]or{}D[u][#D[u]+1]=E end;function b.removeEventListener(u,E)a(1,u,\"string\")a(2,E,\"function\")if D[u]then for C,t in ipairs(D[u])do if t==E then table.remove(D[u],C)return end end end end;function b.runEvents()while true do local u,r=coroutine.yield()if D[u]then for v,t in ipairs(D[u])do local F,G=pcall(t,u,r)if not F then return G end;if G then break end end end end end;function b.startEvents()return b.syscall.newthread(b.runEvents)end;function b.type(B)local z=type(B)if z==\"table\"then local H=getmetatable(B)if H and H.__name then return H.__name end end;return z end;local I={[0xEDB88320]={[0]=0x00000000,0x77073096,0xee0e612c,0x990951ba,0x076dc419,0x706af48f,0xe963a535,0x9e6495a3,0x0edb8832,0x79dcb8a4,0xe0d5e91e,0x97d2d988,0x09b64c2b,0x7eb17cbd,0xe7b82d07,0x90bf1d91,0x1db71064,0x6ab020f2,0xf3b97148,0x84be41de,0x1adad47d,0x6ddde4eb,0xf4d4b551,0x83d385c7,0x136c9856,0x646ba8c0,0xfd62f97a,0x8a65c9ec,0x14015c4f,0x63066cd9,0xfa0f3d63,0x8d080df5,0x3b6e20c8,0x4c69105e,0xd56041e4,0xa2677172,0x3c03e4d1,0x4b04d447,0xd20d85fd,0xa50ab56b,0x35b5a8fa,0x42b2986c,0xdbbbc9d6,0xacbcf940,0x32d86ce3,0x45df5c75,0xdcd60dcf,0xabd13d59,0x26d930ac,0x51de003a,0xc8d75180,0xbfd06116,0x21b4f4b5,0x56b3c423,0xcfba9599,0xb8bda50f,0x2802b89e,0x5f058808,0xc60cd9b2,0xb10be924,0x2f6f7c87,0x58684c11,0xc1611dab,0xb6662d3d,0x76dc4190,0x01db7106,0x98d220bc,0xefd5102a,0x71b18589,0x06b6b51f,0x9fbfe4a5,0xe8b8d433,0x7807c9a2,0x0f00f934,0x9609a88e,0xe10e9818,0x7f6a0dbb,0x086d3d2d,0x91646c97,0xe6635c01,0x6b6b51f4,0x1c6c6162,0x856530d8,0xf262004e,0x6c0695ed,0x1b01a57b,0x8208f4c1,0xf50fc457,0x65b0d9c6,0x12b7e950,0x8bbeb8ea,0xfcb9887c,0x62dd1ddf,0x15da2d49,0x8cd37cf3,0xfbd44c65,0x4db26158,0x3ab551ce,0xa3bc0074,0xd4bb30e2,0x4adfa541,0x3dd895d7,0xa4d1c46d,0xd3d6f4fb,0x4369e96a,0x346ed9fc,0xad678846,0xda60b8d0,0x44042d73,0x33031de5,0xaa0a4c5f,0xdd0d7cc9,0x5005713c,0x270241aa,0xbe0b1010,0xc90c2086,0x5768b525,0x206f85b3,0xb966d409,0xce61e49f,0x5edef90e,0x29d9c998,0xb0d09822,0xc7d7a8b4,0x59b33d17,0x2eb40d81,0xb7bd5c3b,0xc0ba6cad,0xedb88320,0x9abfb3b6,0x03b6e20c,0x74b1d29a,0xead54739,0x9dd277af,0x04db2615,0x73dc1683,0xe3630b12,0x94643b84,0x0d6d6a3e,0x7a6a5aa8,0xe40ecf0b,0x9309ff9d,0x0a00ae27,0x7d079eb1,0xf00f9344,0x8708a3d2,0x1e01f268,0x6906c2fe,0xf762575d,0x806567cb,0x196c3671,0x6e6b06e7,0xfed41b76,0x89d32be0,0x10da7a5a,0x67dd4acc,0xf9b9df6f,0x8ebeeff9,0x17b7be43,0x60b08ed5,0xd6d6a3e8,0xa1d1937e,0x38d8c2c4,0x4fdff252,0xd1bb67f1,0xa6bc5767,0x3fb506dd,0x48b2364b,0xd80d2bda,0xaf0a1b4c,0x36034af6,0x41047a60,0xdf60efc3,0xa867df55,0x316e8eef,0x4669be79,0xcb61b38c,0xbc66831a,0x256fd2a0,0x5268e236,0xcc0c7795,0xbb0b4703,0x220216b9,0x5505262f,0xc5ba3bbe,0xb2bd0b28,0x2bb45a92,0x5cb36a04,0xc2d7ffa7,0xb5d0cf31,0x2cd99e8b,0x5bdeae1d,0x9b64c2b0,0xec63f226,0x756aa39c,0x026d930a,0x9c0906a9,0xeb0e363f,0x72076785,0x05005713,0x95bf4a82,0xe2b87a14,0x7bb12bae,0x0cb61b38,0x92d28e9b,0xe5d5be0d,0x7cdcefb7,0x0bdbdf21,0x86d3d2d4,0xf1d4e242,0x68ddb3f8,0x1fda836e,0x81be16cd,0xf6b9265b,0x6fb077e1,0x18b74777,0x88085ae6,0xff0f6a70,0x66063bca,0x11010b5c,0x8f659eff,0xf862ae69,0x616bffd3,0x166ccf45,0xa00ae278,0xd70dd2ee,0x4e048354,0x3903b3c2,0xa7672661,0xd06016f7,0x4969474d,0x3e6e77db,0xaed16a4a,0xd9d65adc,0x40df0b66,0x37d83bf0,0xa9bcae53,0xdebb9ec5,0x47b2cf7f,0x30b5ffe9,0xbdbdf21c,0xcabac28a,0x53b39330,0x24b4a3a6,0xbad03605,0xcdd70693,0x54de5729,0x23d967bf,0xb3667a2e,0xc4614ab8,0x5d681b02,0x2a6f2b94,0xb40bbe37,0xc30c8ea1,0x5a05df1b,0x2d02ef8d}}function b.crc32(w,J,K)a(1,w,\"string\")J=a(2,J,\"table\",\"number\",\"nil\")or 0xEDB88320;K=a(3,K,\"number\",\"nil\")or 0xFFFFFFFF;local L=type(J)==\"table\"and J or I[J]if not L then L={}for h=0,255 do local M=h;for v=1,8 do if bit32.btest(M,1)then M=bit32.bxor(bit32.rshift(M,1),J)else M=bit32.rshift(M,1)end end;L[h]=M end;I[J]=L end;for h=1,#w do K=bit32.bxor(L[bit32.band(bit32.bxor(w:byte(h),bit32.band(K,0xFF)))],bit32.rshift(K,8))end;return bit32.bnot(K)end;return b\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=72698},["ar.lua"]={created=1688258016089,type="file",modified=1688258015949,data="local a=require\"system.filesystem\"local function b(c)return c:match('^()[%s%z]*$')and''or c:match('^[%s%z]*(.*[^%s%z])')end;local function d(e,f,g)return#e<f and e:sub(1,f)..(g or\" \"):rep(f-#e)or e end;local function h(i)return 0x38+(i.worldPermissions.read and 4 or 0)+(i.worldPermissions.write and 2 or 0)+(i.worldPermissions.execute and 1 or 0)+(i.permissions[i.owner].read and 256 or 0)+(i.permissions[i.owner].write and 128 or 0)+(i.permissions[i.owner].execute and 64 or 0)end;local j={verbosity=0}function j.load(k)if not a.exists(k)then return nil end;local l=a.open(k,\"rb\")if l.read(8)~=\"!<arch>\\n\"then l.close()error(\"Not an ar archive\",2)end;local m={}local n=nil;local o={}while true do local p={}local q=l.read(1)while q==\"\\n\"do q=l.read(1)end;if q==nil then break end;local r=l.read(15)if r==nil then break end;r=q..r;if r:find(\"/\")and r:find(\"/\")>1 then r=r:sub(1,r:find(\"/\")-1)else r=b(r)end;p.timestamp=tonumber(b(l.read(12)))p.owner=tonumber(b(l.read(6)))p.group=tonumber(b(l.read(6)))p.mode=tonumber(b(l.read(8)),8)local s=tonumber(b(l.read(10)))if l.read(2)~=\"`\\n\"then error(\"Invalid header for file \"..r,2)end;if r:match(\"^#1/%d+$\")then r=l.read(tonumber(r:match(\"#1/(%d+)\")))elseif r:match(\"^/%d+$\")then if n then local t=tonumber(r:match(\"/(%d+)\"))r=n:sub(t+1,n:find(\"\\n\",t+1)-1)else o[#o+1]=r end end;p.name=r;p.data=l.read(s)if r==\"//\"then n=p.data elseif r~=\"/\"and r~=\"/SYM64/\"then m[#m+1]=p end end;l.close()if n then for u,v in ipairs(o)do local t=tonumber(v:match(\"/(%d+)\"))for u,w in ipairs(m)do if w.name==v then w.name=n:sub(t,n:find(\"/\",t)-1)break end end end end;return m end;function j.write(v,x)local l=a.open(x,\"wb\")l.write(v.data)l.close()if j.verbosity>0 then print(\"Extracted to \"..x)end end;function j.extract(p,k)if type(p)==\"string\"then p=j.load(p)end;if not a.exists(k)then a.mkdir(k)end;for u,v in ipairs(p)do local x=a.combine(k,v.name)j.write(v,x)end end;function j.read(x)local i=a.stat(x)if not i then return nil end;local l=assert(a.open(x,\"rb\"))local m={name=a.basename(x),timestamp=math.floor(i.modified/1000),owner=(i.owner==\"root\"or i.owner==nil)and 0 or 501,group=0,mode=h(i),data=l.readAll()}l.close()return m end;function j.pack(k)local m={}for u,v in ipairs(a.list(k))do local x=a.combine(k,v)if not a.isDir(x)then m[v]=j.read(x)end end;return m end;function j.save(p,k)local l=a.open(k,\"wb\")l.write(\"!<arch>\\n\")local n={}local y=nil;for u,v in ipairs(p)do if#v.name>15 then n[v.name]=#(y or\"\")y=(y or\"\")..v.name..\"\\n\"end end;if y then l.write(\"//              0           0     0     666     \"..d(tostring(#y),10)..\"`\\n\"..y)if l.seek()%2==1 then l.write(\"\\n\")end end;for u,v in ipairs(p)do local r=n[v.name]and\"/\"..n[v.name]or v.name..(y and\"/\"or\"\")l.write(d(r,16)..d(tostring(v.timestamp),12)..d(tostring(v.owner),6)..d(tostring(v.group),6))l.write(d((\"%o\"):format(v.mode),8)..d(tostring(#v.data),10)..\"`\\n\"..v.data)if l.seek()%2==1 then l.write(\"\\n\")end end;l.close()end;return j\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=2941},modules={created=1688258016759,type="directory",contents={["spanfs.lua"]={created=1688258016759,type="file",modified=1688258016376,data="if not PHOENIX_VERSION then error(\"This file must be loaded as a kernel module.\")end;if not filesystem.readhandle then error(\"This module requires Phoenix 0.0.4 or later.\")end;do local _={disks={[0]=\"/disk\",\"/disk2\",\"/disk1\",\"/disk3\"},uuid=\"7f747493-a515-4dbd-bc63-b74070882b24\",name=\"Test span\",index={meta={size=0,created=0,modified=0,type=\"directory\",owner=\"root\",permissions={root={read=true,write=true,execute=true}},worldPermissions={read=true,write=false,execute=true},setuser=false},contents={[\"test.txt\"]={meta={size=13,created=0,modified=0,type=\"file\",owner=\"root\",permissions={root={read=true,write=true,execute=false}},worldPermissions={read=true,write=false,execute=false},setuser=false},uuid=\"0de93ec6-2cf9-491c-bc59-04a9977606f9\",ids={2,1},checksum=\"6b72b48f\"}}}}end;local a={[0]=0x00000000,0x77073096,0xee0e612c,0x990951ba,0x076dc419,0x706af48f,0xe963a535,0x9e6495a3,0x0edb8832,0x79dcb8a4,0xe0d5e91e,0x97d2d988,0x09b64c2b,0x7eb17cbd,0xe7b82d07,0x90bf1d91,0x1db71064,0x6ab020f2,0xf3b97148,0x84be41de,0x1adad47d,0x6ddde4eb,0xf4d4b551,0x83d385c7,0x136c9856,0x646ba8c0,0xfd62f97a,0x8a65c9ec,0x14015c4f,0x63066cd9,0xfa0f3d63,0x8d080df5,0x3b6e20c8,0x4c69105e,0xd56041e4,0xa2677172,0x3c03e4d1,0x4b04d447,0xd20d85fd,0xa50ab56b,0x35b5a8fa,0x42b2986c,0xdbbbc9d6,0xacbcf940,0x32d86ce3,0x45df5c75,0xdcd60dcf,0xabd13d59,0x26d930ac,0x51de003a,0xc8d75180,0xbfd06116,0x21b4f4b5,0x56b3c423,0xcfba9599,0xb8bda50f,0x2802b89e,0x5f058808,0xc60cd9b2,0xb10be924,0x2f6f7c87,0x58684c11,0xc1611dab,0xb6662d3d,0x76dc4190,0x01db7106,0x98d220bc,0xefd5102a,0x71b18589,0x06b6b51f,0x9fbfe4a5,0xe8b8d433,0x7807c9a2,0x0f00f934,0x9609a88e,0xe10e9818,0x7f6a0dbb,0x086d3d2d,0x91646c97,0xe6635c01,0x6b6b51f4,0x1c6c6162,0x856530d8,0xf262004e,0x6c0695ed,0x1b01a57b,0x8208f4c1,0xf50fc457,0x65b0d9c6,0x12b7e950,0x8bbeb8ea,0xfcb9887c,0x62dd1ddf,0x15da2d49,0x8cd37cf3,0xfbd44c65,0x4db26158,0x3ab551ce,0xa3bc0074,0xd4bb30e2,0x4adfa541,0x3dd895d7,0xa4d1c46d,0xd3d6f4fb,0x4369e96a,0x346ed9fc,0xad678846,0xda60b8d0,0x44042d73,0x33031de5,0xaa0a4c5f,0xdd0d7cc9,0x5005713c,0x270241aa,0xbe0b1010,0xc90c2086,0x5768b525,0x206f85b3,0xb966d409,0xce61e49f,0x5edef90e,0x29d9c998,0xb0d09822,0xc7d7a8b4,0x59b33d17,0x2eb40d81,0xb7bd5c3b,0xc0ba6cad,0xedb88320,0x9abfb3b6,0x03b6e20c,0x74b1d29a,0xead54739,0x9dd277af,0x04db2615,0x73dc1683,0xe3630b12,0x94643b84,0x0d6d6a3e,0x7a6a5aa8,0xe40ecf0b,0x9309ff9d,0x0a00ae27,0x7d079eb1,0xf00f9344,0x8708a3d2,0x1e01f268,0x6906c2fe,0xf762575d,0x806567cb,0x196c3671,0x6e6b06e7,0xfed41b76,0x89d32be0,0x10da7a5a,0x67dd4acc,0xf9b9df6f,0x8ebeeff9,0x17b7be43,0x60b08ed5,0xd6d6a3e8,0xa1d1937e,0x38d8c2c4,0x4fdff252,0xd1bb67f1,0xa6bc5767,0x3fb506dd,0x48b2364b,0xd80d2bda,0xaf0a1b4c,0x36034af6,0x41047a60,0xdf60efc3,0xa867df55,0x316e8eef,0x4669be79,0xcb61b38c,0xbc66831a,0x256fd2a0,0x5268e236,0xcc0c7795,0xbb0b4703,0x220216b9,0x5505262f,0xc5ba3bbe,0xb2bd0b28,0x2bb45a92,0x5cb36a04,0xc2d7ffa7,0xb5d0cf31,0x2cd99e8b,0x5bdeae1d,0x9b64c2b0,0xec63f226,0x756aa39c,0x026d930a,0x9c0906a9,0xeb0e363f,0x72076785,0x05005713,0x95bf4a82,0xe2b87a14,0x7bb12bae,0x0cb61b38,0x92d28e9b,0xe5d5be0d,0x7cdcefb7,0x0bdbdf21,0x86d3d2d4,0xf1d4e242,0x68ddb3f8,0x1fda836e,0x81be16cd,0xf6b9265b,0x6fb077e1,0x18b74777,0x88085ae6,0xff0f6a70,0x66063bca,0x11010b5c,0x8f659eff,0xf862ae69,0x616bffd3,0x166ccf45,0xa00ae278,0xd70dd2ee,0x4e048354,0x3903b3c2,0xa7672661,0xd06016f7,0x4969474d,0x3e6e77db,0xaed16a4a,0xd9d65adc,0x40df0b66,0x37d83bf0,0xa9bcae53,0xdebb9ec5,0x47b2cf7f,0x30b5ffe9,0xbdbdf21c,0xcabac28a,0x53b39330,0x24b4a3a6,0xbad03605,0xcdd70693,0x54de5729,0x23d967bf,0xb3667a2e,0xc4614ab8,0x5d681b02,0x2a6f2b94,0xb40bbe37,0xc30c8ea1,0x5a05df1b,0x2d02ef8d}local function b(c,d)d=d and bit32.bnot(d)or 0xFFFFFFFF;for e=1,#c do d=bit32.bxor(a[bit32.band(bit32.bxor(c:byte(e),bit32.band(d,0xFF)))],bit32.rshift(d,8))end;return bit32.bnot(d)end;local function f()return('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'):gsub('[xy]',function(g)local h=g=='x'and math.random(0,0xf)or math.random(8,0xb)return('%x'):format(h)end)end;local function i(j,k)local l=fs.combine(j.root,k:sub(1,1)==\"/\"and\"\"or j.dir,k)if\"/\"..l..\"/\"~=j.root and l:find(j.root:sub(2),1,true)~=1 then error(k..\": No such file or directory\",4)end;return l end;local m={}local n={file=0,link=2,directory=5,fifo=6,[0]=\"file\",[2]=\"link\",[5]=\"directory\",[6]=\"fifo\"}local function o(p)local q=(\"<I\"):unpack(p.read(4))local r=p.read(q)local s={meta={permissions={}}}local type,t,u,v,w;s.meta.size,s.meta.created,s.meta.modified,type,t,u,s.meta.owner,v,w=(\"<II8I8BBs2s2B\"):unpack(r)s.meta.type=n[type]s.meta.setuser=bit32.btest(t,0x80)s.meta.worldPermissions={read=bit32.btest(t,4),write=bit32.btest(t,2),execute=bit32.btest(t,1)}for _=1,v do local x,y;x,y,w=(\"<s2B\"):unpack(r,w)s.meta.permissions[x]={read=bit32.btest(y,4),write=bit32.btest(y,2),execute=bit32.btest(y,1)}end;if type==0 then local z=p.read(16)s.uuid=z:gsub(\".\",function(g)return(\"%02x\"):format(g:byte())end):gsub(\"(%x%x%x%x%x%x%x%x)(%x%x%x%x)(%x%x%x%x)(%x%x%x%x)(%x%x%x%x%x%x%x%x%x%x%x%x)\",\"%1-%2-%3-%4-%5\")local A=(\"<H\"):unpack(p.read(2))s.ids={(\"<\"..(\"H\"):rep(A)):unpack(p.read(A*2))}s.ids[#s.ids]=nil;s.checksum=(\"<I\"):unpack(p.read(4))elseif type==2 then local B=(\"<H\"):unpack(p.read(2))s.link=p.read(B)elseif type==5 then local C=(\"<I\"):unpack(p.read(4))s.contents={}for _=1,C do local D,E=o(p)s.contents[D]=E end end;return u,s end;local function F(p,s,u)local G=\"\"local v=0;for H,h in pairs(s.meta.permissions)do v=v+1;G=G..(\"<s2B\"):pack(H,(h.read and 4 or 0)+(h.write and 2 or 0)+(h.execute and 1 or 0))end;local I=(\"<II8I8BBs2s2B\"):pack(s.meta.size,s.meta.created,s.meta.modified,n[s.meta.type],(s.meta.setuser and 128 or 0)+(s.meta.worldPermissions.read and 4 or 0)+(s.meta.worldPermissions.write and 2 or 0)+(s.meta.worldPermissions.execute and 1 or 0),u or\"\",s.meta.owner,v)..G;p.write((\"<I\"):pack(#I)..I)if s.meta.type==\"file\"then p.write(s.uuid:gsub(\"%-\",\"\"):gsub(\"%x%x\",function(J)return string.char(tonumber(J,16))end)..(\"<\"..(\"H\"):rep(#s.ids+1)):pack(#s.ids,table.unpack(s.ids))..(\"<I\"):pack(s.checksum))elseif s.meta.type==\"link\"then p.write((\"<s2\"):pack(s.link))elseif s.meta.type==\"directory\"then local D=0;for _ in pairs(s.contents)do D=D+1 end;p.write((\"<I4\"):pack(D))for H,h in pairs(s.contents)do F(p,h,H)end end end;local function K(q,L,M)q=math.max(q,500)local N,O={},{}for _,h in ipairs(M)do O[h]=true end;for _,h in ipairs(L)do if not O[h]and h.space>=500 then N[#N+1]=h end end;table.sort(N,function(P,Q)if P.space==Q.space then return P.id>Q.id else return P.space>Q.space end end)local R={}while q>N[1].space do R[N[1].id]=N[1].space;q=q-N[1].space;table.remove(N,1)if#N==0 then return nil end end;if q==0 then return R end;table.sort(N,function(P,Q)if P.space==Q.space then return P.id>Q.id else return P.space>Q.space end end)for e=#N,1,-1 do if q<N[e].space then R[N[e].id]=q;return R end end;return nil end;function m:_write_meta()local p=assert(fs.open(fs.combine(self.disks[0],\"index\"),\"wb\"))F(p,self.index,self.name)p.close()end;function m:getpath(x,k,S)local T=self.index;local U=split(k,\"/\\\\\")for e,l in ipairs(U)do if not T then return nil elseif T.meta.type~=\"directory\"then error(\"Not a directory\",2)elseif T.meta.permissions[x]then if not T.meta.permissions[x].execute then error(\"Permission denied\",2)end elseif not T.meta.worldPermissions.execute then error(\"Permission denied\",2)end;T=T.contents[l]if T and T.meta.type==\"link\"and not(S and e==#U)then error{link=true,path=filesystem.combine(T.link,table.unpack(U,e+1)),orig=k}end end;return T end;function m:setpath(x,k,r,S)local T=self.index;local E=split(k,\"/\\\\\")local V=E[#E]E[#E]=nil;for e,l in ipairs(E)do if T.meta.type~=\"directory\"then error(\"Not a directory\",2)elseif T.meta.permissions[x]then if not T.meta.permissions[x].execute then error(\"Permission denied\",2)end elseif not T.meta.worldPermissions.execute then error(\"Permission denied\",2)end;if not T.contents[l]then T.contents[l]={meta={type=\"directory\",owner=T.meta.owner,permissions=deepcopy(T.meta.permissions),worldPermissions=deepcopy(T.meta.worldPermissions),setuser=false,created=os.epoch\"utc\",modified=os.epoch\"utc\"},contents={}}end;T=T.contents[l]if T and T.meta.type==\"link\"then error{link=true,path=filesystem.combine(T.link,table.unpack(E,e+1)),orig=k}end end;if T.meta.type~=\"directory\"then error(\"Not a directory\",2)elseif x~=\"root\"then if T.meta.permissions[x]then if not T.meta.permissions[x].execute then error(\"Permission denied\",2)end elseif not T.meta.worldPermissions.execute then error(\"Permission denied\",2)end end;if not S and T.contents[V]and T.contents[V].type==\"link\"then error{link=true,path=T.contents[V].link,orig=k}end;T.contents[V]=r;self:_write_meta()end;function m:new(j,k,W)if k:match\"^/\"then k=k:gsub(\"/%.spanfs$\",\"\"):gsub(\"/index$\",\"\")local p=assert(fs.open(fs.combine(k,\".spanfs\"),\"r\"))p.readLine()k=p.readLine()p.close()end;local X=setmetatable({disks={},index={}},{__index=self})local z,u=false,false;if k:match\"^%x%x%x%x%x%x%x%x%-%x%x%x%x%-%x%x%x%x%-%x%x%x%x%-%x%x%x%x%x%x%x%x%x%x%x%x$\"then z=k else u=k end;for _,Y in ipairs{hardware.find(\"drive\")}do local Z=hardware.call(j,Y,\"getMountPath\")if Z then local p=fs.open(fs.combine(Z,\".spanfs\"),\"r\")if p then local D,a0,a1=p.readLine(),p.readLine(),p.readLine()if D==u or a0==z then X.name,X.uuid,X.disks[tonumber(a1)]=D,a0,Z end;p.close()end end end;if#X.disks==0 then error(\"Could not find span '\"..(u or z)..\"'\",2)end;if not X.disks[0]then error(\"Could not find index disk for span '\"..(u or z)..\"'\",2)end;local p,a2=fs.open(fs.combine(X.disks[0],\"index\"),\"rb\")if p then _,X.index=o(p)else syslog.log({level=\"warning\",module=\"spanfs\"},\"Could not open index file for reading on span '\"..(u or z)..\"':\",a2,\". Initializing empty span.\")X.index={meta={size=0,created=os.epoch\"utc\",modified=os.epoch\"utc\",type=\"directory\",owner=j.user,permissions={[j.user]={read=true,write=true,execute=true}},worldPermissions={read=true,write=false,execute=true},setuser=false},contents={}}end;return X end;function m:_open_internal(j,k,a3)local a4,fs,do_syscall,ipairs,assert,pairs,a5=os.epoch,fs,do_syscall,ipairs,assert,pairs,string.sub;local s=self:getpath(j.user,k)if not s then return nil,\"No such file\"end;if a3==\"r\"or a3==\"rb\"then local r=\"\"for _,h in ipairs(s.ids)do if not self.disks[h]then return nil,\"Disk ID \"..h..\" is required by file but not available\"end;local p,a2=fs.open(fs.combine(self.disks[h],s.uuid),\"rb\")if not p then return nil,\"Could not open part on disk ID \"..h..\" (\"..self.disks[h]..\"): \"..a2 end;r=r..(p.readAll()or\"\")p.close()end;local a6=b(r)if a6~=s.checksum then return nil,\"Checksum failed\"end;return filesystem.readhandle(j,r,a3==\"rb\")elseif a3==\"w\"or a3==\"wb\"or#s.ids==0 and(a3==\"a\"or a3==\"ab\")then for _,h in ipairs(s.ids)do fs.delete(fs.combine(self.disks[h],s.uuid))end;s.uuid=f()s.ids={}s.checksum=0;s.meta.modified=a4\"utc\"local a7={}return filesystem.writehandle(j,function(a8,a9)local a6=b(a8,a9 and 0 or s.checksum)if#a8==0 then if a9 then s.meta.size=0 end;s.meta.modified=a4\"utc\"s.checksum=a6;do_syscall(\"callmodule\",\"spanfs\",\"_write_meta\",self)return end;if#a7~=0 then if a9 then for _,h in ipairs(a7)do local a1=a5(a8,1,#h.data)if a1~=h.data then local p=assert(fs.open(fs.combine(self.disks[h.id],s.uuid),\"wb\"))p.write(a1)p.close()h.data=a1 end;a8=a5(a8,#h.data+1)end;if#a8==0 then if a9 then s.meta.size=#a8 else s.meta.size=s.meta.size+#a8 end;s.meta.modified=a4\"utc\"s.checksum=a6;do_syscall(\"callmodule\",\"spanfs\",\"_write_meta\",self)return end end;local aa=fs.getFreeSpace(self.disks[s.ids[#s.ids]])if aa>0 then local a1=a5(a8,1,aa)local p=assert(fs.open(fs.combine(self.disks[s.ids[#s.ids]],s.uuid),\"ab\"))p.write(a1)p.close()a7[#a7].data=a7[#a7].data..a1;if aa>#a8 then if a9 then s.meta.size=#a8 else s.meta.size=s.meta.size+#a8 end;s.meta.modified=a4\"utc\"s.checksum=a6;do_syscall(\"callmodule\",\"spanfs\",\"_write_meta\",self)return end;a8=a5(a8,aa+1)end end;local N={}for e,h in pairs(self.disks)do if e~=0 then N[#N+1]={id=e,space=fs.getFreeSpace(h)}end end;local ab=K(#a8,N,s.ids)if not ab then if not a9 then a9=true;local I=\"\"for _,h in ipairs(a7)do I=I..h.data;for _,ac in ipairs(N)do if ac==h.id then ac.space=ac.space-#h.data end end end;a8=I..a8 end;ab=K(#a8,N,{})if not ab then error(\"Out of space\",2)end;for _,h in ipairs(s.ids)do fs.delete(fs.combine(self.disks[h],s.uuid))end;a7={}s.ids={}end;for e,h in pairs(ab)do local a1=a5(a8,1,h)local p=assert(fs.open(fs.combine(self.disks[e],s.uuid),\"wb\"))p.write(a1)p.close()a7[#a7+1]={data=a1,id=e}s.ids[#s.ids+1]=e;a8=a5(a8,h+1)end;if a9 then s.meta.size=#a8 else s.meta.size=s.meta.size+#a8 end;s.meta.modified=a4\"utc\"s.checksum=a6;do_syscall(\"callmodule\",\"spanfs\",\"_write_meta\",self)end,a3==\"wb\")elseif a3==\"a\"or a3==\"ab\"then local ad;do local p=fs.open(fs.combine(self.disks[s.ids[#s.ids]],s.uuid),\"rb\")if p then ad=p.readAll()or\"\"p.close()else ad=\"\"end end;local a7={{id=s.ids[#s.ids],data=ad,offset=#ad}}local ae=s.checksum;local af=s.meta.size;return filesystem.writehandle(j,function(a8,a9)local a6=b(a8,a9 and ae or s.checksum)if#a8==0 then s.meta.modified=a4\"utc\"s.checksum=a6;do_syscall(\"callmodule\",\"spanfs\",\"_write_meta\",self)return end;if a9 then for _,h in ipairs(a7)do local a1=h.offset and h.data:sub(1,h.offset)..a5(a8,1,#h.data-h.offset)or a5(a8,1,#h.data)if a1~=h.data then local p=assert(fs.open(fs.combine(self.disks[h.id],s.uuid),\"wb\"))p.write(a1)p.close()h.data=a1 end;a8=a5(a8,#h.data-(h.offset or 0)+1)end;if#a8==0 then if a9 then s.meta.size=af+#a8 else s.meta.size=s.meta.size+#a8 end;s.meta.modified=a4\"utc\"s.checksum=a6;do_syscall(\"callmodule\",\"spanfs\",\"_write_meta\",self)return end end;local aa=fs.getFreeSpace(self.disks[s.ids[#s.ids]])if aa>0 then local a1=a5(a8,1,aa)local p=assert(fs.open(fs.combine(self.disks[s.ids[#s.ids]],s.uuid),\"ab\"))p.write(a1)p.close()a7[#a7].data=a7[#a7].data..a1;if aa>#a8 then if a9 then s.meta.size=af+#a8 else s.meta.size=s.meta.size+#a8 end;s.meta.modified=a4\"utc\"s.checksum=a6;do_syscall(\"callmodule\",\"spanfs\",\"_write_meta\",self)return end;a8=a5(a8,aa+1)end;local N={}for e,h in pairs(self.disks)do if e~=0 then N[#N+1]={id=e,space=fs.getFreeSpace(h)}end end;local ab=K(#a8,N,s.ids)if not ab then local ag=\"\"for _,h in ipairs(s.ids)do local ah=false;for _,ac in ipairs(a7)do if ac.id==h then ah=true;break end end;if ah then break end;local p=assert(fs.open(fs.combine(self.disks[h],s.uuid),\"rb\"))ag=ag..(p.readAll()or\"\")p.close()end;if a9 then a8=ag..a5(a7[1].data,1,a7[1].offset)..a8 else a9=true;local I=\"\"for _,h in ipairs(a7)do I=I..h.data;for _,ac in ipairs(N)do if ac==h.id then ac.space=ac.space-#h.data end end end;a8=ag..I..a8 end;ab=K(#a8,N,{})if not ab then error(\"Out of space\",2)end;for _,h in ipairs(s.ids)do fs.delete(fs.combine(self.disks[h],s.uuid))end;a7={}s.ids={}af=0 end;for e,h in pairs(ab)do local a1=a5(a8,1,h)local p=assert(fs.open(fs.combine(self.disks[e],s.uuid),\"wb\"))p.write(a1)p.close()a7[#a7+1]={data=a1,id=e}a8=a5(a8,h+1)end;if a9 then s.meta.size=af+#a8 else s.meta.size=s.meta.size+#a8 end;s.meta.modified=a4\"utc\"s.checksum=a6;do_syscall(\"callmodule\",\"spanfs\",\"_write_meta\",self)end,a3==\"ab\")else return nil,\"Invalid mode\"end end;function m:open(j,k,a3)local ai,aj=pcall(self.stat,self,j,k)if not ai then if type(aj)==\"table\"then error(aj)end;return nil,aj elseif not aj then if a3:sub(1,1)==\"w\"or a3:sub(1,1)==\"a\"then local ak,al=pcall(self.stat,self,j,fs.getDir(k))if not ak or not al then if type(al)==\"table\"then error(al)end;local am,a2=pcall(self.mkdir,self,j,fs.getDir(k))if not am then if type(a2)==\"table\"then error(a2)end;return nil,a2:gsub(\"kernel:%d: \",\"\")end;al=self:stat(j,fs.getDir(k))end;if j.user~=\"root\"then local G=al.permissions[j.user]or al.worldPermissions;if not G.write then return nil,\"Permission denied\"end end;local an={type=\"file\",size=0,owner=j.user,permissions=deepcopy(al.permissions),worldPermissions=deepcopy(al.worldPermissions),setuser=false,created=os.epoch\"utc\",modified=os.epoch\"utc\"}local T=an.permissions[al.owner]an.permissions[al.owner]=nil;an.permissions[j.user]=T;self:setpath(j.user,k,{meta=an,uuid=f(),ids={},checksum=0})return self:_open_internal(j,k,a3)else return nil,\"File not found\"end elseif aj.type==\"directory\"then return nil,\"Is a directory\"end;if j.user~=\"root\"then local G=aj.permissions[j.user]or aj.worldPermissions;if a3:sub(1,1)==\"r\"and not G.read or(a3:sub(1,1)==\"w\"or a3:sub(1,1)==\"a\")and not G.write then return nil,\"Permission denied\"end end;if aj.type==\"fifo\"then local an=self:getpath(j.user,k)local ao=fifos[an]if not ao then ao={data=\"\"}fifos[an]=ao end;return filesystem.fifohandle(j,ao,a3)end;return self:_open_internal(j,k,a3)end;function m:list(j,k)local r=self:getpath(j.user,k)if not r or r.meta.type~=\"directory\"then error(k..\": Not a directory\",2)end;if j.user~=\"root\"then local G=r.meta.permissions[j.user]or r.meta.worldPermissions;if not G.read then error(k..\": Permission denied\",2)end end;local R={}for H in pairs(r.contents)do R[#R+1]=H end;table.sort(R)return R end;function m:stat(j,k,S)local r=self:getpath(j.user,k,S)if not r then return nil end;local ap,aq=0,0;for e,h in pairs(self.disks)do if e~=0 then ap,aq=ap+fs.getCapacity(h),aq+fs.getFreeSpace(h)end end;return{size=r.meta.size,type=r.meta.type,created=r.meta.created,modified=r.meta.modified,owner=r.meta.owner,permissions=deepcopy(r.meta.permissions),worldPermissions=deepcopy(r.meta.worldPermissions),setuser=r.meta.setuser,capacity=ap,freeSpace=aq,link=r.link,special={}}end;function m:remove(j,k)local ar=self:getpath(j.user,fs.getDir(k))local u=fs.getName(k)if not ar or ar.meta.type~=\"directory\"or not ar.contents[u]then return end;if j.user~=\"root\"and not(ar.meta.permissions[j.user]or ar.meta.worldPermissions).write then error(k..\": Permission denied\",2)end;local r=ar.contents[u]if j.user~=\"root\"and not(r.meta.permissions[j.user]or r.meta.worldPermissions).write then error(k..\": Permission denied\",2)end;local function as(I)local G=I.meta.permissions[j.user]or I.meta.worldPermissions;if j.user~=\"root\"and not G.write then error(k..\": Permission denied\",3)end;if I.meta.type==\"directory\"then if j.user~=\"root\"and not G.read then error(k..\": Permission denied\",3)end;for _,h in pairs(I.contents)do as(h)end end end;as(r)local function at(s)if s.meta.type==\"directory\"then for _,h in pairs(s.contents)do at(h)end elseif s.meta.type==\"file\"then for _,h in pairs(self.disks)do fs.delete(fs.combine(h,s.uuid))end end end;at(r)ar.contents[u]=nil;ar.meta.modified=os.epoch\"utc\"self:_write_meta()end;function m:rename(j,au,av)local aw=self:getpath(j.user,fs.getDir(au))local ax=fs.getName(au)if not aw or aw.meta.type~=\"directory\"or not aw.contents[ax]then error(au..\": No such file or directory\",2)end;if j.user~=\"root\"and not(fparen.metat.permissions[j.user]or aw.meta.worldPermissions).write then error(au..\": Permission denied\",2)end;local ay=aw.contents[ax]if j.user~=\"root\"and not(ay.permissions[j.user]or ay.worldPermissions).write then error(au..\": Permission denied\",2)end;local az=self:getpath(j.user,fs.getDir(av))local aA=fs.getName(av)if not az or az.meta.type~=\"directory\"then error(av..\": No such file or directory\",2)end;if j.user~=\"root\"and not(az.meta.permissions[j.user]or az.meta.worldPermissions).write then error(av..\": Permission denied\",2)end;local aB=az.contents[aA]if aB then error(av..\": File already exists\",2)end;az.contents[aA],aw.contents[ax]=ay,nil;local aC=os.epoch\"utc\"aw.meta.modified,az.meta.modified=aC,aC end;function m:mkdir(j,k)local T=self.index;for _,l in ipairs(split(k,\"/\\\\\"))do local G=T.meta.permissions[j.user]or T.meta.worldPermissions;if T.meta.type~=\"directory\"then error(k..\": File exists\",2)elseif j.user~=\"root\"and not G.execute then error(k..\": Permission denied\",2)end;if not T.contents[l]then if j.user~=\"root\"and not G.write then error(k..\": Permission denied\",2)end;T.contents[l]={meta={type=\"directory\",size=0,owner=T.meta.owner,permissions=deepcopy(T.meta.permissions),worldPermissions=deepcopy(T.meta.worldPermissions),created=os.epoch\"utc\",modified=os.epoch\"utc\"},contents={}}T.meta.modified=os.epoch\"utc\"end;T=T.contents[l]end;self:_write_meta()end;function m:link(j,k,aD)local aj=self:stat(j,k)if aj then error(k..\": File exists\",2)end;local ak,al=pcall(self.stat,self,j,fs.getDir(k))if not ak or not al then if type(al)==\"table\"then error(al)end;local am,a2=pcall(self.mkdir,self,j,fs.getDir(k))if not am then if type(a2)==\"table\"then error(a2)end;return nil,type(a2)==\"string\"and a2:gsub(\"kernel:%d: \",\"\")or a2 end;al=self:stat(j,fs.getDir(k))end;self:setpath(j.user,k,{meta={type=\"link\",size=0,owner=j.user,permissions=deepcopy(al.permissions),worldPermissions=deepcopy(al.worldPermissions),setuser=false,created=os.epoch\"utc\",modified=os.epoch\"utc\"},link=aD},true)end;function m:mkfifo(j,k)local aj=self:stat(j,k)if aj then error(k..\": File exists\",2)end;local ak,al=pcall(self.stat,self,j,fs.getDir(k))if not ak or not al then if type(al)==\"table\"then error(al)end;local am,a2=pcall(self.mkdir,self,j,fs.getDir(k))if not am then if type(a2)==\"table\"then error(a2)end;return nil,type(a2)==\"string\"and a2:gsub(\"kernel:%d: \",\"\")or a2 end;al=self:stat(j,fs.getDir(k))end;self:setpath(j.user,k,{meta={type=\"fifo\",size=0,owner=j.user,permissions=deepcopy(al.permissions),worldPermissions=deepcopy(al.worldPermissions),setuser=false,created=os.epoch\"utc\",modified=os.epoch\"utc\"}},true)end;function m:chmod(j,k,x,a3)local aj=self:getpath(j.user,k,true)if not aj then error(k..\": No such file or directory\",2)end;if not aj.meta.owner or j.user~=\"root\"and j.user~=aj.meta.owner then error(k..\": Permission denied\",2)end;local G;if x==nil then G=aj.meta.worldPermissions else G=aj.meta.permissions[x]if not G then G=deepcopy(aj.meta.worldPermissions)aj.meta.permissions[x]=G end end;if type(a3)==\"string\"then if a3:match\"^[%+%-=][rwxs]+$\"then local aE=a3:sub(1,1)local T={}for g in a3:gmatch(\"[rwxs]\")do if g==\"r\"then T.read=true elseif g==\"w\"then T.write=true elseif g==\"s\"then T.setuser=true else T.execute=true end end;if aE==\"+\"then if T.read then G.read=true end;if T.write then G.write=true end;if T.execute then G.execute=true end;if T.setuser then aj.meta.setuser=true end elseif aE==\"-\"then if T.read then G.read=false end;if T.write then G.write=false end;if T.execute then G.execute=false end;if T.setuser then aj.meta.setuser=false end else G.read=T.read or false;G.write=T.write or false;G.execute=T.execute or false;aj.meta.setuser=T.setuser or false end else G.read=a3:sub(1,1)~=\"-\"G.write=a3:sub(2,2)~=\"-\"G.execute=a3:sub(3,3)~=\"-\"aj.meta.setuser=a3:sub(3,3)==\"s\"end elseif type(a3)==\"number\"then aj.meta.setuser=bit32.btest(a3,8)G.read=bit32.btest(a3,4)G.write=bit32.btest(a3,2)G.execute=bit32.btest(a3,1)else if a3.read~=nil then G.read=a3.read end;if a3.write~=nil then G.write=a3.write end;if a3.execute~=nil then G.execute=a3.execute end;if a3.setuser~=nil then aj.meta.setuser=a3.setuser end end;self:_write_meta()end;function m:chown(j,k,aF)local aj=self:getpath(j.user,k,true)if not aj then error(k..\": No such file or directory\",2)end;if not aj.meta.owner or j.user~=\"root\"and j.user~=aj.meta.owner then error(k..\": Permission denied\",2)end;aj.meta.owner=aF;aj.meta.setuser=false;self:_write_meta()end;function m:info()return\"spanfs\",self.uuid,{}end;filesystems.spanfs=m;syslog.log({module=\"spanfs\"},\"spanfs is now loaded\")return{_write_meta=function(j,aG,self)for _,h in pairs(mounts)do if h==self then return m._write_meta(self)end end;error(\"Invalid mount handle\")end,info=function(j,aG,k)expect(1,k,\"string\")k=i(j,k)local aE=mounts[k]if not aE then error(k..\": No such mount\",2)end;if aE:info()~=\"spanfs\"then error(k..\": Not a spanfs filesystem\",2)end;local aH={}for _,Y in ipairs{hardware.find(\"drive\")}do local l=hardware.call(j,Y,\"getMountPath\")if l then aH[l]=Y.uuid end end;local R={disks={},name=aE.name,uuid=aE.uuid}R.freeindex=fs.getFreeSpace(aE.disks[0])for e,h in pairs(aE.disks)do if e~=0 then R.disks[e]={device=aH[h],space=fs.getFreeSpace(h)}end end;return R end,unload=function()filesystems.spanfs=nil end}\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=23869}},modified=1688258016759,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["tar.lua"]={created=1688258025976,type="file",modified=1688258025013,data="local a=require\"system.filesystem\"local function b(c)return string.match(c,'^()[%s%z]*$')and''or string.match(c,'^[%s%z]*(.*[^%s%z])')end;local function d(e,f,g)return string.len(e)<f and string.sub(e,1,f)..string.rep(g or\" \",f-string.len(e))or e end;local function h(i,j,...)if j and i[j]==nil then i[j]={}end;return j~=nil and h(i[j],...)or i end;local function k(e,l)local i={}for c in string.gmatch(e,\"([^\"..(l or\"%s\")..\"]+)\")do table.insert(i,c)end;return i end;local function m(n)return 0x38+(n.worldPermissions.read and 4 or 0)+(n.worldPermissions.write and 2 or 0)+(n.worldPermissions.execute and 1 or 0)+(n.permissions[n.owner].read and 256 or 0)+(n.permissions[n.owner].write and 128 or 0)+(n.permissions[n.owner].execute and 64 or 0)end;local o={verbosity=0,ignore_zero=false}function o.unserialize(p)local q={}local r={}for s,t in pairs(p)do local u=k(t.name,\"/\")local v=table.remove(u,table.maxn(u))local w=h(q,table.unpack(u))if t.type==0 or t.type==7 then w[v]=t elseif t.type==1 or t.type==2 then table.insert(r,t)elseif t.type==5 then w[v]={[\"//\"]=t}end end;for s,t in pairs(r)do local u=k(t.name,\"/\")local v=table.remove(u,table.maxn(u))h(q,table.unpack(u))[v]=h(q,table.unpack(k(t.link,\"/\")))end;return q end;function o.serialize(p)local q=p[\"//\"]~=nil and#p[\"//\"]>0 and{p[\"//\"]}or{}for s,t in pairs(p)do if s~=\"//\"then if t[\"//\"]~=nil or t.name==nil then local i=table.maxn(q)for x,y in ipairs(o.serialize(t))do q[i+x]=y end else table.insert(q,t)end end end;return q end;function o.load(z,A,B)if not B and not a.exists(z)then error(\"Path does not exist\",2)end;local C;if B then local c=1;C={read=function(D)if D then c=c+D;return string.sub(z,c-D,c-1)end;c=c+1;return string.byte(string.sub(z,c-1,c-1))end,close=function()end,seek=true}else C=a.open(z,\"rb\")end;local E=C.read;local F=0;local G=0;C.read=function(g)g=g or 1;if g<1 then return end;local q=nil;q=E(g)for H in q:gmatch(\".\")do F=F+H:byte()end;G=G+g;return q end;local q={}local I=0;while true do local p={}F=0;p.name=C.read(100)assert(G%512==100)if p.name==nil then break elseif p.name==string.rep(\"\\0\",100)then C.read(412)assert(G%512==0)I=I+1;if I==2 and not o.ignore_zero then break end else p.name=b(p.name)p.mode=tonumber(b(C.read(8)),8)p.owner=tonumber(b(C.read(8)),8)p.group=tonumber(b(C.read(8)),8)local J=tonumber(b(C.read(12)),8)p.timestamp=tonumber(b(C.read(12)),8)local K=F;local L=tonumber(b(C.read(8)),8)F=K+256;local i=C.read()p.type=tonumber(i==\"\\0\"and\"0\"or i)or i;p.link=b(C.read(100))if b(C.read(6))==\"ustar\"then C.read(2)p.ownerName=b(C.read(32))p.groupName=b(C.read(32))p.deviceNumber={tonumber(b(C.read(8))),tonumber(b(C.read(8)))}if p.deviceNumber[1]==nil and p.deviceNumber[2]==nil then p.deviceNumber=nil end;p.name=b(C.read(155))..p.name end;C.read(512-G%512)assert(G%512==0)if F~=L then print(\"Warning: checksum mismatch for \"..p.name)end;if J~=nil then if J==0 then p.data=\"\"else p.data=C.read(J)or\"\"if J%512~=0 then C.read(512-G%512)end end end;assert(G%512==0)table.insert(q,p)end end;C.close()return A and q or o.unserialize(q)end;function o.extract(p,z,M)a.mkdir(z)local r={}for s,t in pairs(p)do if s~=\"//\"then local N=a.combine(z,s)if t[\"//\"]~=nil then local x=o.extract(t,N,true)for O,y in pairs(x)do table.insert(r,y)end elseif t.type==1 or t.type==2 then table.insert(r,t)elseif t.type==0 or t.type==7 then local C=a.open(N,\"wb\")C.write(t.data)C.close()if t.owner~=nil then a.chmod(N,nil,bit32.band(t.mode,7))if t.ownerName~=nil and t.ownerName~=\"\"then a.chmod(N,t.ownerName,bit32.band(bit32.rshift(t.mode,3),7))a.chown(N,t.ownerName)elseif t.owner==0 then a.chmod(N,\"root\",bit32.band(bit32.rshift(t.mode,3),7))a.chown(N,\"root\")end end elseif t.type~=nil then print(\"Unimplemented type \"..t.type)end;if o.verbosity>0 then print((t[\"//\"]and t[\"//\"].name or t.name or\"?\")..\" => \"..(N or\"?\"))end end end;if M then return r else for s,t in pairs(r)do end end end;function o.read(P,N)local z=a.combine(P,N)local n=a.stat(z)if not n then return nil end;local C=a.open(z,\"rb\")local q={name=N,mode=m(n),owner=0,group=0,timestamp=n.modified,type=0,link=\"\",ownerName=n.owner,groupName=\"\",deviceNumber=nil,data=C.readAll()}C.close()return q end;function o.pack(P,z)local n=a.stat(a.combine(P,z))if n.type~=\"directory\"then return o.read(P,z)end;local q={[\"//\"]={name=z..\"/\",mode=m(n),owner=0,group=0,timestamp=n.modified,type=5,link=\"\",ownerName=n.owner,groupName=\"\",deviceNumber=nil,data=nil}}if string.sub(P,-1)==\"/\"then P=string.sub(P,1,-1)end;if z and string.sub(z,1,1)==\"/\"then z=string.sub(z,2)end;if z and string.sub(z,-1)==\"/\"then z=string.sub(z,1,-1)end;local N=z and P..\"/\"..z or P;for s,t in pairs(a.list(N))do if a.isDir(a.combine(N,t))then q[t]=o.pack(P,z and z..\"/\"..t or t)else q[t]=o.read(P,z and z..\"/\"..t or t)end;if o.verbosity>0 then print(a.combine(N,t)..\" => \"..(z and z..\"/\"..t or t))end end;return q end;function o.save(p,z,A)if not A then p=o.serialize(p)end;local Q=z==nil;local C;local G=0;if not Q then C=a.open(z,\"wb\")local R=C.write;C.write=function(e)for g in string.gmatch(e,\".\")do R(string.byte(g))end;G=G+string.len(e)end else C=\"\"end;for s,t in pairs(p)do local S=\"\"S=S..d(string.sub(t.name,-100),100,\"\\0\")S=S..(t.mode and string.format(\"%07o\\0\",t.mode)or string.rep(\"\\0\",8))S=S..(t.owner and string.format(\"%07o\\0\",t.owner)or string.rep(\"\\0\",8))S=S..(t.group and string.format(\"%07o\\0\",t.group)or string.rep(\"\\0\",8))S=S..(t.data and string.format(\"%011o\\0\",string.len(t.data))or string.rep(\"0\",11)..\"\\0\")S=S..(t.timestamp and string.format(\"%011o\\0\",t.timestamp)or string.rep(\"\\0\",12))S=S..t.type;S=S..(t.link and d(t.link,100,\"\\0\")or string.rep(\"\\0\",100))S=S..\"ustar  \\0\"S=S..(t.ownerName and d(t.ownerName,32,\"\\0\")or string.rep(\"\\0\",32))S=S..(t.groupName and d(t.groupName,32,\"\\0\")or string.rep(\"\\0\",32))S=S..(t.deviceNumber and t.deviceNumber[1]and string.format(\"%07o\\0\",t.deviceNumber[1])or string.rep(\"\\0\",8))S=S..(t.deviceNumber and t.deviceNumber[2]and string.format(\"%07o\\0\",t.deviceNumber[2])or string.rep(\"\\0\",8))S=S..(string.len(t.name)>100 and d(string.sub(t.name,1,-101),155,\"\\0\")or string.rep(\"\\0\",155))if string.len(S)<504 then S=S..string.rep(\"\\0\",504-string.len(S))end;local F=256;for g in string.gmatch(S,\".\")do F=F+string.byte(g)end;S=string.sub(S,1,148)..string.format(\"%06o\\0 \",F)..string.sub(S,149)if Q then C=C..S else C.write(S)end;if t.data~=nil and t.data~=\"\"then if Q then C=C..d(t.data,math.ceil(string.len(t.data)/512)*512,\"\\0\")else C.write(d(t.data,math.ceil(string.len(t.data)/512)*512,\"\\0\"))end end end;if Q then C=C..string.rep(\"\\0\",1024)else C.write(string.rep(\"\\0\",1024))end;if Q then C=C..string.rep(\"\\0\",10240-string.len(C)%10240)else C.write(string.rep(\"\\0\",10240-G%10240))end;if not Q then C.close()end;if Q then return C end end;return o\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=6722},["typescript.lua"]={created=1688258077644,type="file",modified=1688258077450,data="local function a(b)return type(b)==\"table\"and(b[1]~=nil or next(b)==nil)end;local function c(self,...)local d={...}local e={}local f=0;for g=1,#self do f=f+1;e[f]=self[g]end;for g=1,#d do local h=d[g]if a(h)then for i=1,#h do f=f+1;e[f]=h[i]end else f=f+1;e[f]=h end end;return e end;local j,k;do local l={__tostring=function(self)return(\"Symbol(\"..(self.description or\"\"))..\")\"end}function j(m)return setmetatable({description=m},l)end;k={iterator=j(\"Symbol.iterator\"),hasInstance=j(\"Symbol.hasInstance\"),species=j(\"Symbol.species\"),toStringTag=j(\"Symbol.toStringTag\")}end;local function n(o)local p=0;return{[k.iterator]=function(self)return self end,next=function(self)local e={done=o[p+1]==nil,value={p,o[p+1]}}p=p+1;return e end}end;local function q(self,r,s)for g=1,#self do if not r(s,self[g],g-1,self)then return false end end;return true end;local function t(self,r,s)local e={}local f=0;for g=1,#self do if r(s,self[g],g-1,self)then f=f+1;e[f]=self[g]end end;return e end;local function u(self,v,s)for g=1,#self do v(s,self[g],g-1,self)end end;local function w(self,x,s)for g=1,#self do local y=self[g]if x(s,y,g-1,self)then return y end end;return nil end;local function z(self,v,s)for g=1,#self do if v(s,self[g],g-1,self)then return g-1 end end;return-1 end;local A;do local function B(self)local C=self.____coroutine;local D,b=coroutine.resume(C)if not D then error(b,0)end;if coroutine.status(C)==\"dead\"then return end;return true,b end;local function E(self)local e=self:next()if e.done then return end;return true,e.value end;local function F(self,G)G=G+1;if G>#self then return end;return G,string.sub(self,G,G)end;function A(H)if type(H)==\"string\"then return F,H,0 elseif H.____coroutine~=nil then return B,H elseif H[k.iterator]then local I=H[k.iterator](H)return E,I else return ipairs(H)end end end;local J;do local function K(self,G)G=G+1;if G>self.length then return end;return G,self[G]end;local function L(M)if type(M.length)==\"number\"then return K,M,0 end;return A(M)end;function J(N,O,s)local e={}if O==nil then for P,Q in L(N)do e[#e+1]=Q end else for g,Q in L(N)do e[#e+1]=O(s,Q,g-1)end end;return e end end;local function R(self,S,T)if T==nil then T=0 end;local f=#self;local U=T;if T<0 then U=f+T end;if U<0 then U=0 end;for g=U+1,f do if self[g]==S then return true end end;return false end;local function V(self,S,T)if T==nil then T=0 end;local f=#self;if f==0 then return-1 end;if T>=f then return-1 end;if T<0 then T=f+T;if T<0 then T=0 end end;for g=T+1,f do if self[g]==S then return g-1 end end;return-1 end;local function W(self,X)if X==nil then X=\",\"end;local Y={}for g=1,#self do Y[g]=tostring(self[g])end;return table.concat(Y,X)end;local function Z(self,r,s)local e={}for g=1,#self do e[g]=r(s,self[g],g-1,self)end;return e end;local function _(self,...)local d={...}local f=#self;for g=1,#d do f=f+1;self[f]=d[g]end;return f end;local function a0(self,d)local f=#self;for g=1,#d do f=f+1;self[f]=d[g]end;return f end;local function a1(...)return select(\"#\",...)end;local function a2(self,v,...)local f=#self;local U=0;local a3=nil;if a1(...)~=0 then a3=...elseif f>0 then a3=self[1]U=1 else error(\"Reduce of empty array with no initial value\",0)end;for g=U+1,f do a3=v(nil,a3,self[g],g-1,self)end;return a3 end;local function a4(self,v,...)local f=#self;local U=f-1;local a3=nil;if a1(...)~=0 then a3=...elseif f>0 then a3=self[U+1]U=U-1 else error(\"Reduce of empty array with no initial value\",0)end;for g=U+1,1,-1 do a3=v(nil,a3,self[g],g-1,self)end;return a3 end;local function a5(self)local g=1;local i=#self;while g<i do local a6=self[i]self[i]=self[g]self[g]=a6;g=g+1;i=i-1 end;return self end;local function a7(self,...)local d={...}local a8=#d;if a8==0 then return#self end;for g=#self,1,-1 do self[g+a8]=self[g]end;for g=1,a8 do self[g]=d[g]end;return#self end;local function a9(self,aa)if aa~=nil then table.sort(self,function(ab,ac)return aa(nil,ab,ac)<0 end)else table.sort(self)end;return self end;local function ad(self,ae,af)local f=#self;local ag=ae;if ag==nil then ag=0 end;ae=ag;if ae<0 then ae=f+ae;if ae<0 then ae=0 end else if ae>f then ae=f end end;local ah=af;if ah==nil then ah=f end;af=ah;if af<0 then af=f+af;if af<0 then af=0 end else if af>f then af=f end end;local ai={}ae=ae+1;af=af+1;local aj=1;while ae<af do ai[aj]=self[ae]ae=ae+1;aj=aj+1 end;return ai end;local function ak(self,r,s)for g=1,#self do if r(s,self[g],g-1,self)then return true end end;return false end;local function al(self,...)local am={...}local f=#self;local an=a1(...)local ao=am[1]local ap=am[2]if ao<0 then ao=f+ao;if ao<0 then ao=0 end elseif ao>f then ao=f end;local aq=an-2;if aq<0 then aq=0 end;local ar;if an==0 then ar=0 elseif an==1 then ar=f-ao else local as=ap;if as==nil then as=0 end;ar=as;if ar<0 then ar=0 end;if ar>f-ao then ar=f-ao end end;local ai={}for U=1,ar do local at=ao+U;if self[at]~=nil then ai[U]=self[at]end end;if aq<ar then for U=ao+1,f-ar do local at=U+ar;local au=U+aq;if self[at]then self[au]=self[at]else self[au]=nil end end;for U=f-ar+aq+1,f do self[U]=nil end elseif aq>ar then for U=f-ar,ao+1,-1 do local at=U+ar;local au=U+aq;if self[at]then self[au]=self[at]else self[au]=nil end end end;local i=ao+1;for g=3,an do self[i]=am[g]i=i+1 end;for U=#self,f-ar+aq+1,-1 do self[U]=nil end;return ai end;local function av(self)local aw={}for g=1,#self do aw[g-1]=self[g]end;return aw end;local function ax(self,ay)if ay==nil then ay=1 end;local e={}local f=0;for g=1,#self do local b=self[g]if ay>0 and a(b)then local az;if ay==1 then az=b else az=ax(b,ay-1)end;for i=1,#az do local aA=az[i]f=f+1;e[f]=aA end else f=f+1;e[f]=b end end;return e end;local function aB(self,aC,s)local e={}local f=0;for g=1,#self do local b=aC(s,self[g],g-1,self)if a(b)then for i=1,#b do f=f+1;e[f]=b[i]end else f=f+1;e[f]=b end end;return e end;local function aD(self,aE)if aE<0 or aE~=aE or aE==math.huge or math.floor(aE)~=aE then error(\"invalid array length: \"..tostring(aE),0)end;for g=aE+1,#self do self[g]=nil end;return aE end;local function aF(aG,aH)if type(aH)~=\"table\"then error(\"Right-hand side of 'instanceof' is not an object\",0)end;if aH[k.hasInstance]~=nil then return not not aH[k.hasInstance](aH,aG)end;if type(aG)==\"table\"then local aI=aG.constructor;while aI~=nil do if aI==aH then return true end;aI=aI.____super end end;return false end;local function aJ(aK,...)local aL=setmetatable({},aK.prototype)aL:____constructor(...)return aL end;local function aM(self)local aN={prototype={}}aN.prototype.__index=aN.prototype;aN.prototype.constructor=aN;return aN end;local aO=table.unpack or unpack;local function aP(aQ,...)local aR={...}return function(P,...)local am={...}a7(am,aO(aR))return aQ(aO(am))end end;local aS;do local function aT(self)local aU;local aV;local aW=aJ(aS,function(P,aX,aY)aU=aX;aV=aY end)return{promise=aW,resolve=aU,reject=aV}end;local function aZ(self,a_)return aF(a_,aS)end;aS=aM()aS.name=\"__TS__Promise\"function aS.prototype.____constructor(self,b0)self.state=0;self.fulfilledCallbacks={}self.rejectedCallbacks={}self.finallyCallbacks={}do local function b1(b2)self:reject(b2)end;local b3,b4=pcall(function()b0(nil,aP(self.resolve,self),aP(self.reject,self))end)if not b3 then b1(b4)end end end;function aS.resolve(b5)local aW=aJ(aS,function()end)aW.state=1;aW.value=b5;return aW end;function aS.reject(b6)local aW=aJ(aS,function()end)aW.state=2;aW.rejectionReason=b6;return aW end;aS.prototype[\"then\"]=function(self,b7,b8)local b9=aT(nil)local aW=b9.promise;local aU=b9.resolve;local aV=b9.reject;local ba=self.state==1;local bb=self.state==2;if b7 then local bc=self:createPromiseResolvingCallback(b7,aU,aV)local bd=self.fulfilledCallbacks;bd[#bd+1]=bc;if ba then bc(nil,self.value)end else local be=self.fulfilledCallbacks;be[#be+1]=function(P,Q)return aU(nil,Q)end end;if b8 then local bc=self:createPromiseResolvingCallback(b8,aU,aV)local bf=self.rejectedCallbacks;bf[#bf+1]=bc;if bb then bc(nil,self.rejectionReason)end else local bg=self.rejectedCallbacks;bg[#bg+1]=function(P,bh)return aV(nil,bh)end end;if ba then aU(nil,self.value)end;if bb then aV(nil,self.rejectionReason)end;return aW end;function aS.prototype.catch(self,b8)return self[\"then\"](self,nil,b8)end;function aS.prototype.finally(self,bi)if bi then local bj=self.finallyCallbacks;bj[#bj+1]=bi;if self.state~=0 then bi(nil)end end;return self end;function aS.prototype.resolve(self,b5)if aF(b5,aS)then b5[\"then\"](b5,function(P,Q)return self:resolve(Q)end,function(P,bh)return self:reject(bh)end)return end;if self.state==0 then self.state=1;self.value=b5;for P,aC in ipairs(self.fulfilledCallbacks)do aC(nil,b5)end;for P,aC in ipairs(self.finallyCallbacks)do aC(nil)end end end;function aS.prototype.reject(self,b6)if self.state==0 then self.state=2;self.rejectionReason=b6;for P,aC in ipairs(self.rejectedCallbacks)do aC(nil,b6)end;for P,aC in ipairs(self.finallyCallbacks)do aC(nil)end end end;function aS.prototype.createPromiseResolvingCallback(self,bk,aU,aV)return function(P,b)do local function b1(b2)aV(nil,b2)end;local b3,b4=pcall(function()self:handleCallbackData(bk(nil,b),aU,aV)end)if not b3 then b1(b4)end end end end;function aS.prototype.handleCallbackData(self,b5,aU,aV)if aZ(nil,b5)then local bl=b5;if bl.state==1 then aU(nil,bl.value)elseif bl.state==2 then aV(nil,bl.rejectionReason)else b5[\"then\"](b5,aU,aV)end else aU(nil,b5)end end end;local function bm(bn)return aJ(aS,function(P,aU,aV)local bo,bp,bq,br,bs;function bo(self,b)local bt;if aF(b,aS)then bt=b else bt=aS.resolve(b)end;return bt end;function bp(self,b)local bu,bv=coroutine.resume(bs,b)if bu then bq(nil,bv)else aV(nil,bv)end end;function bq(self,e)if br then return end;if coroutine.status(bs)==\"dead\"then aU(nil,e)else local bw=bo(nil,e)bw[\"then\"](bw,bp,aV)end end;br=false;bs=coroutine.create(bn)local bu,bv=coroutine.resume(bs,function(P,Q)br=true;local bx=bo(nil,Q)bx[\"then\"](bx,aU,aV)end)if bu then bq(nil,bv)else aV(nil,bv)end end)end;local function by(a_)return coroutine.yield(a_)end;local function bz(aK,bA)aK.____super=bA;local bB=setmetatable({__index=bA},bA)setmetatable(aK,bB)local bC=getmetatable(bA)if bC then if type(bC.__index)==\"function\"then bB.__index=bC.__index end;if type(bC.__newindex)==\"function\"then bB.__newindex=bC.__newindex end end;setmetatable(aK.prototype,bA.prototype)if type(bA.prototype.__index)==\"function\"then aK.prototype.__index=bA.prototype.__index end;if type(bA.prototype.__newindex)==\"function\"then aK.prototype.__newindex=bA.prototype.__newindex end;if type(bA.prototype.__tostring)==\"function\"then aK.prototype.__tostring=bA.prototype.__tostring end end;local function bD(bE)local b;local bF;local bG;local bH;local bI;local bJ;bJ=bE.enumerable;bI=bE.configurable;bH=bE.get;bG=bE.set;bF=bE.writable;b=bE.value;local bK={enumerable=bJ==true,configurable=bI==true}local bL=bH~=nil or bG~=nil;local bM=bF~=nil or b~=nil;if bL and bM then error(\"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute.\",0)end;if bH or bG then bK.get=bH;bK.set=bG else bK.value=b;bK.writable=bF==true end;return bK end;local function bN(aK,...)local bO={...}for g=1,#bO do local bP=bO[g]for p in pairs(bP)do aK[p]=bP[p]end end;return aK end;local function bQ(aw,p)local bR=getmetatable(aw)if not bR then return end;if not rawget(bR,\"_descriptors\")then return end;return rawget(bR,\"_descriptors\")[p]end;local bS;do local function bT(self,p)local b=rawget(self,p)if b~=nil then return b end;local bR=getmetatable(self)while bR do local bU=rawget(bR,p)if bU~=nil then return bU end;local bV=rawget(bR,\"_descriptors\")if bV then local bK=bV[p]if bK then if bK.get then return bK.get(self)end;return bK.value end end;bR=getmetatable(bR)end end;local function bW(self,p,b)local bR=getmetatable(self)while bR do local bV=rawget(bR,\"_descriptors\")if bV then local bK=bV[p]if bK then if bK.set then bK.set(self,b)else if bK.writable==false then error((((\"Cannot assign to read only property '\"..p)..\"' of object '\")..tostring(self))..\"'\",0)end;bK.value=b end;return end end;bR=getmetatable(bR)end;rawset(self,p,b)end;function bS(aK,p,bX,bY)if bY==nil then bY=false end;local bZ;if bY then bZ=aK else bZ=getmetatable(aK)end;local bR=bZ;if not bR then bR={}setmetatable(aK,bR)end;local b=rawget(aK,p)if b~=nil then rawset(aK,p,nil)end;if not rawget(bR,\"_descriptors\")then bR._descriptors={}end;local bK=bD(bX)bR._descriptors[p]=bK;bR.__index=bT;bR.__newindex=bW end end;local function b_(c0,aK,p,bX)local e=aK;do local g=#c0;while g>=0 do local c1=c0[g+1]if c1 then local c2=e;if p==nil then e=c1(nil,e)elseif bX==true then local b=rawget(aK,p)local bK=bQ(aK,p)or{configurable=true,writable=true,value=b}local bX=c1(nil,aK,p,bK)or bK;local c3=bX.configurable==true and bX.writable==true and not bX.get and not bX.set;if c3 then rawset(aK,p,bX.value)else bS(aK,p,bN({},bK,bX))end elseif bX==false then e=c1(nil,aK,p,bX)else e=c1(nil,aK,p)end;e=e or c2 end;g=g-1 end end;return e end;local function c4(c5,c1)return function(P,aK,p)return c1(nil,aK,p,c5)end end;local function c6(self,c7,c8)if not c8 then c8=1 else c8=c8+1 end;local G=string.find(self,c7,c8,true)return G~=nil end;local c9,ca,cb,cc,cd,ce;do local function cf(self,cg)local ch=1;while true do local ci=debug.getinfo(ch,\"f\")ch=ch+1;if not ci then ch=1;break elseif ci.func==cg then break end end;if c6(_VERSION,\"Lua 5.0\")then return debug.traceback((\"[Level \"..tostring(ch))..\"]\")else return debug.traceback(nil,ch)end end;local function cj(self,ck)return function(self)local m=ck(self)local cl=debug.getinfo(3,\"f\")local cm=c6(_VERSION,\"Lua 5.0\")or _VERSION==\"Lua 5.1\"if cm or cl and cl.func~=error then return m else return(tostring(m)..\"\\n\")..self.stack end end end;local function cn(self,co,cp)co.name=cp;return setmetatable(co,{__call=function(P,cq,cr)return aJ(co,cr)end})end;local cs=cn;local ct=aM()ct.name=\"\"function ct.prototype.____constructor(self,cr)if cr==nil then cr=\"\"end;self.message=cr;self.name=\"Error\"self.stack=cf(nil,self.constructor.new)local bR=getmetatable(self)if not bR.__errorToStringPatched then bR.__errorToStringPatched=true;bR.__tostring=cj(nil,bR.__tostring)end end;function ct.prototype.__tostring(self)local cu;if self.message~=\"\"then cu=(self.name..\": \")..self.message else cu=self.name end;return cu end;c9=cs(nil,ct,\"Error\")local function cv(self,cp)local cw=cn;local cx=aM()cx.name=cx.name;bz(cx,c9)function cx.prototype.____constructor(self,...)cx.____super.prototype.____constructor(self,...)self.name=cp end;return cw(nil,cx,cp)end;ca=cv(nil,\"RangeError\")cb=cv(nil,\"ReferenceError\")cc=cv(nil,\"SyntaxError\")cd=cv(nil,\"TypeError\")ce=cv(nil,\"URIError\")end;local function cy(aw)local bR=getmetatable(aw)if not bR then return{}end;return rawget(bR,\"_descriptors\")or{}end;local function cz(aK,p)local bV=cy(aK)local bK=bV[p]if bK then if not bK.configurable then error(aJ(cd,(((\"Cannot delete property \"..tostring(p))..\" of \")..tostring(aK))..\".\"),0)end;bV[p]=nil;return true end;aK[p]=nil;return true end;local function cA(self,G)if G>=0 and G<#self then return string.sub(self,G+1,G+1)end end;local function cB(H)if type(H)==\"string\"then for G=0,#H-1 do coroutine.yield(cA(H,G))end elseif H.____coroutine~=nil then local C=H.____coroutine;while true do local D,b=coroutine.resume(C)if not D then error(b,0)end;if coroutine.status(C)==\"dead\"then return b else coroutine.yield(b)end end elseif H[k.iterator]then local I=H[k.iterator](H)while true do local e=I:next()if e.done then return e.value else coroutine.yield(e.value)end end else for P,b in ipairs(H)do coroutine.yield(b)end end end;local cC;do local function cD(self)return self end;local function cE(self,...)local C=self.____coroutine;if coroutine.status(C)==\"dead\"then return{done=true}end;local D,b=coroutine.resume(C,...)if not D then error(b,0)end;return{value=b,done=coroutine.status(C)==\"dead\"}end;function cC(aQ)return function(...)local am={...}local cF=a1(...)return{____coroutine=coroutine.create(function()return aQ(aO(am,1,cF))end),[k.iterator]=cD,next=cE}end end end;local function cG(b)local cH=type(b)return cH==\"table\"or cH==\"function\"end;local function cI(self,cJ,cK)local cL={}local p,b=self(cJ,cK)while p do cL[#cL+1]={p,b}p,b=self(cJ,p)end;return aO(cL)end;local cM;do cM=aM()cM.name=\"Map\"function cM.prototype.____constructor(self,cN)self[k.toStringTag]=\"Map\"self.items={}self.size=0;self.nextKey={}self.previousKey={}if cN==nil then return end;local H=cN;if H[k.iterator]then local I=H[k.iterator](H)while true do local e=I:next()if e.done then break end;local b=e.value;self:set(b[1],b[2])end else local o=cN;for P,cO in ipairs(o)do self:set(cO[1],cO[2])end end end;function cM.prototype.clear(self)self.items={}self.nextKey={}self.previousKey={}self.firstKey=nil;self.lastKey=nil;self.size=0 end;function cM.prototype.delete(self,p)local cP=self:has(p)if cP then self.size=self.size-1;local next=self.nextKey[p]local cQ=self.previousKey[p]if next and cQ then self.nextKey[cQ]=next;self.previousKey[next]=cQ elseif next then self.firstKey=next;self.previousKey[next]=nil elseif cQ then self.lastKey=cQ;self.nextKey[cQ]=nil else self.firstKey=nil;self.lastKey=nil end;self.nextKey[p]=nil;self.previousKey[p]=nil end;self.items[p]=nil;return cP end;function cM.prototype.forEach(self,aC)for P,p in A(self:keys())do aC(nil,self.items[p],p,self)end end;function cM.prototype.get(self,p)return self.items[p]end;function cM.prototype.has(self,p)return self.nextKey[p]~=nil or self.lastKey==p end;function cM.prototype.set(self,p,b)local cR=not self:has(p)if cR then self.size=self.size+1 end;self.items[p]=b;if self.firstKey==nil then self.firstKey=p;self.lastKey=p elseif cR then self.nextKey[self.lastKey]=p;self.previousKey[p]=self.lastKey;self.lastKey=p end;return self end;cM.prototype[k.iterator]=function(self)return self:entries()end;function cM.prototype.entries(self)local d=self.items;local cS=self.nextKey;local p=self.firstKey;return{[k.iterator]=function(self)return self end,next=function(self)local e={done=not p,value={p,d[p]}}p=cS[p]return e end}end;function cM.prototype.keys(self)local cS=self.nextKey;local p=self.firstKey;return{[k.iterator]=function(self)return self end,next=function(self)local e={done=not p,value=p}p=cS[p]return e end}end;function cM.prototype.values(self)local d=self.items;local cS=self.nextKey;local p=self.firstKey;return{[k.iterator]=function(self)return self end,next=function(self)local e={done=not p,value=d[p]}p=cS[p]return e end}end;cM[k.species]=cM end;local cT=string.match;local cU=math.atan2 or math.atan;local cV=math.modf;local function cW(aA)if aA>0 then return 1 elseif aA<0 then return-1 end;return 0 end;local function cX(ab,ac)return ab-math.floor(ab/ac)*ac end;local function cY(b)local cH=type(b)if cH==\"number\"then return b elseif cH==\"string\"then local cZ=tonumber(b)if cZ then return cZ end;if b==\"Infinity\"then return math.huge end;if b==\"-Infinity\"then return-math.huge end;local c_=string.gsub(b,\"%s\",\"\")if c_==\"\"then return 0 end;return 0/0 elseif cH==\"boolean\"then return b and 1 or 0 else return 0/0 end end;local function d0(b)return type(b)==\"number\"and b==b and b~=math.huge and b~=-math.huge end;local function d1(b)return b~=b end;local d2;do local d3=\"0123456789abcdefghijklmnopqrstuvwxyz\"function d2(self,d4)if d4==nil or d4==10 or self==math.huge or self==-math.huge or self~=self then return tostring(self)end;d4=math.floor(d4)if d4<2 or d4>36 then error(\"toString() radix argument must be between 2 and 36\",0)end;local d5,d6=cV(math.abs(self))local e=\"\"if d4==8 then e=string.format(\"%o\",d5)elseif d4==16 then e=string.format(\"%x\",d5)else repeat do e=cA(d3,d5%d4)..e;d5=math.floor(d5/d4)end until not(d5~=0)end;if d6~=0 then e=e..\".\"local d7=1e-16;repeat do d6=d6*d4;d7=d7*d4;local d8=math.floor(d6)e=e..cA(d3,d8)d6=d6-d8 end until not(d6>=d7)end;if self<0 then e=\"-\"..e end;return e end end;local function d9(aK,p,bX)local bt;if type(p)==\"number\"then bt=p+1 else bt=p end;local da=bt;local b=rawget(aK,da)local bL=bX.get~=nil or bX.set~=nil;local bK;if bL then if b~=nil then error(\"Cannot redefine property: \"..tostring(p),0)end;bK=bX else local db=b~=nil;local dc=bX.set;local dd=bX.get;local cu;if bX.configurable~=nil then cu=bX.configurable else cu=db end;local de;if bX.enumerable~=nil then de=bX.enumerable else de=db end;local df;if bX.writable~=nil then df=bX.writable else df=db end;local dg;if bX.value~=nil then dg=bX.value else dg=b end;bK={set=dc,get=dd,configurable=cu,enumerable=de,writable=df,value=dg}end;bS(aK,da,bK)return aK end;local function dh(aG)local e={}local f=0;for p in pairs(aG)do f=f+1;e[f]={p,aG[p]}end;return e end;local function di(cN)local aG={}local H=cN;if H[k.iterator]then local I=H[k.iterator](H)while true do local e=I:next()if e.done then break end;local b=e.value;aG[b[1]]=b[2]end else for P,dj in ipairs(cN)do aG[dj[1]]=dj[2]end end;return aG end;local function dk(aG)local e={}local f=0;for p in pairs(aG)do f=f+1;e[f]=p end;return e end;local function dl(aK,dm)local e={}for dn in pairs(aK)do if not dm[dn]then e[dn]=aK[dn]end end;return e end;local function dp(aG)local e={}local f=0;for p in pairs(aG)do f=f+1;e[f]=aG[p]end;return e end;local function dq(dr)local ds=cT(dr,\"^%s*(-?Infinity)\")if ds then local bt;if cA(ds,0)==\"-\"then bt=-math.huge else bt=math.huge end;return bt end;local dt=tonumber(cT(dr,\"^%s*(-?%d+%.?%d*)\"))local du=dt;if du==nil then du=0/0 end;return du end;local function dv(self,at,aE)if at~=at then at=0 end;if aE~=nil then if aE~=aE or aE<=0 then return\"\"end;aE=aE+at end;if at>=0 then at=at+1 end;return string.sub(self,at,aE)end;local function dw(self,ao,dx)if dx~=dx then dx=0 end;if dx~=nil and ao>dx then ao,dx=dx,ao end;if ao>=0 then ao=ao+1 else ao=1 end;if dx~=nil and dx<0 then dx=0 end;return string.sub(self,ao,dx)end;local dy;do local dz=\"0123456789aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTvVwWxXyYzZ\"function dy(dr,bA)if bA==nil then bA=10;local dA=cT(dr,\"^%s*-?0[xX]\")if dA then bA=16;local dB;if cT(dA,\"-\")then dB=\"-\"..dv(dr,#dA)else dB=dv(dr,#dA)end;dr=dB end end;if bA<2 or bA>36 then return 0/0 end;local cu;if bA<=10 then cu=dw(dz,0,bA)else cu=dv(dz,0,10+2*(bA-10))end;local dC=cu;local dD=(\"^%s*(-?[\"..dC)..\"]*)\"local dt=tonumber(cT(dr,dD),bA)if dt==nil then return 0/0 end;if dt>=0 then return math.floor(dt)else return math.ceil(dt)end end end;local function dE(H)local cL={}local dF={}local dG=0;local g=0;for P,h in A(H)do if aF(h,aS)then if h.state==1 then cL[g+1]=h.value elseif h.state==2 then return aS.reject(h.rejectionReason)else dG=dG+1;dF[g]=h end else cL[g+1]=h end;g=g+1 end;if dG==0 then return aS.resolve(cL)end;return aJ(aS,function(P,aU,aV)for G,aW in pairs(dF)do aW[\"then\"](aW,function(P,b5)cL[G+1]=b5;dG=dG-1;if dG==0 then aU(nil,cL)end end,function(P,b6)aV(nil,b6)end)end end)end;local function dH(H)local cL={}local dF={}local dG=0;local g=0;for P,h in A(H)do if aF(h,aS)then if h.state==1 then cL[g+1]={status=\"fulfilled\",value=h.value}elseif h.state==2 then cL[g+1]={status=\"rejected\",reason=h.rejectionReason}else dG=dG+1;dF[g]=h end else cL[g+1]={status=\"fulfilled\",value=h}end;g=g+1 end;if dG==0 then return aS.resolve(cL)end;return aJ(aS,function(P,aU)for G,aW in pairs(dF)do aW[\"then\"](aW,function(P,b5)cL[G+1]={status=\"fulfilled\",value=b5}dG=dG-1;if dG==0 then aU(nil,cL)end end,function(P,b6)cL[G+1]={status=\"rejected\",reason=b6}dG=dG-1;if dG==0 then aU(nil,cL)end end)end end)end;local function dI(H)local dJ={}local dK={}for P,h in A(H)do if aF(h,aS)then if h.state==1 then return aS.resolve(h.value)elseif h.state==2 then dJ[#dJ+1]=h.rejectionReason else dK[#dK+1]=h end else return aS.resolve(h)end end;if#dK==0 then return aS.reject(\"No promises to resolve with .any()\")end;local dL=0;return aJ(aS,function(P,aU,aV)for P,aW in ipairs(dK)do aW[\"then\"](aW,function(P,b5)aU(nil,b5)end,function(P,b6)dJ[#dJ+1]=b6;dL=dL+1;if dL==#dK then aV(nil,{name=\"AggregateError\",message=\"All Promises rejected\",errors=dJ})end end)end end)end;local function dM(H)local dK={}for P,h in A(H)do if aF(h,aS)then if h.state==1 then return aS.resolve(h.value)elseif h.state==2 then return aS.reject(h.rejectionReason)else dK[#dK+1]=h end else return aS.resolve(h)end end;return aJ(aS,function(P,aU,aV)for P,aW in ipairs(dK)do aW[\"then\"](aW,function(P,b)return aU(nil,b)end,function(P,b6)return aV(nil,b6)end)end end)end;local dN;do dN=aM()dN.name=\"Set\"function dN.prototype.____constructor(self,dO)self[k.toStringTag]=\"Set\"self.size=0;self.nextKey={}self.previousKey={}if dO==nil then return end;local H=dO;if H[k.iterator]then local I=H[k.iterator](H)while true do local e=I:next()if e.done then break end;self:add(e.value)end else local o=dO;for P,b in ipairs(o)do self:add(b)end end end;function dN.prototype.add(self,b)local cR=not self:has(b)if cR then self.size=self.size+1 end;if self.firstKey==nil then self.firstKey=b;self.lastKey=b elseif cR then self.nextKey[self.lastKey]=b;self.previousKey[b]=self.lastKey;self.lastKey=b end;return self end;function dN.prototype.clear(self)self.nextKey={}self.previousKey={}self.firstKey=nil;self.lastKey=nil;self.size=0 end;function dN.prototype.delete(self,b)local cP=self:has(b)if cP then self.size=self.size-1;local next=self.nextKey[b]local cQ=self.previousKey[b]if next and cQ then self.nextKey[cQ]=next;self.previousKey[next]=cQ elseif next then self.firstKey=next;self.previousKey[next]=nil elseif cQ then self.lastKey=cQ;self.nextKey[cQ]=nil else self.firstKey=nil;self.lastKey=nil end;self.nextKey[b]=nil;self.previousKey[b]=nil end;return cP end;function dN.prototype.forEach(self,aC)for P,p in A(self:keys())do aC(nil,p,p,self)end end;function dN.prototype.has(self,b)return self.nextKey[b]~=nil or self.lastKey==b end;dN.prototype[k.iterator]=function(self)return self:values()end;function dN.prototype.entries(self)local cS=self.nextKey;local p=self.firstKey;return{[k.iterator]=function(self)return self end,next=function(self)local e={done=not p,value={p,p}}p=cS[p]return e end}end;function dN.prototype.keys(self)local cS=self.nextKey;local p=self.firstKey;return{[k.iterator]=function(self)return self end,next=function(self)local e={done=not p,value=p}p=cS[p]return e end}end;function dN.prototype.values(self)local cS=self.nextKey;local p=self.firstKey;return{[k.iterator]=function(self)return self end,next=function(self)local e={done=not p,value=p}p=cS[p]return e end}end;dN[k.species]=dN end;local function dP(...)local dQ={...}dQ.sparseLength=a1(...)return dQ end;local function dR(dQ,...)local am={...}local dS=a1(...)local dT=dQ.sparseLength;for g=1,dS do dQ[dT+g]=am[g]end;dQ.sparseLength=dT+dS end;local function dU(dQ)local dV=unpack;if dV==nil then dV=table.unpack end;local dW=dV;return dW(dQ,1,dQ.sparseLength)end;local dX;do dX=aM()dX.name=\"WeakMap\"function dX.prototype.____constructor(self,cN)self[k.toStringTag]=\"WeakMap\"self.items={}setmetatable(self.items,{__mode=\"k\"})if cN==nil then return end;local H=cN;if H[k.iterator]then local I=H[k.iterator](H)while true do local e=I:next()if e.done then break end;local b=e.value;self.items[b[1]]=b[2]end else for P,cO in ipairs(cN)do self.items[cO[1]]=cO[2]end end end;function dX.prototype.delete(self,p)local cP=self:has(p)self.items[p]=nil;return cP end;function dX.prototype.get(self,p)return self.items[p]end;function dX.prototype.has(self,p)return self.items[p]~=nil end;function dX.prototype.set(self,p,b)self.items[p]=b;return self end;dX[k.species]=dX end;local dY;do dY=aM()dY.name=\"WeakSet\"function dY.prototype.____constructor(self,dO)self[k.toStringTag]=\"WeakSet\"self.items={}setmetatable(self.items,{__mode=\"k\"})if dO==nil then return end;local H=dO;if H[k.iterator]then local I=H[k.iterator](H)while true do local e=I:next()if e.done then break end;self.items[e.value]=true end else for P,b in ipairs(dO)do self.items[b]=true end end end;function dY.prototype.add(self,b)self.items[b]=true;return self end;function dY.prototype.delete(self,b)local cP=self:has(b)self.items[b]=nil;return cP end;function dY.prototype.has(self,b)return self.items[b]==true end;dY[k.species]=dY end;local function dZ(d_,e0)_G.__TS__sourcemap=_G.__TS__sourcemap or{}_G.__TS__sourcemap[d_]=e0;if _G.__TS__originalTraceback==nil then local e1=debug.traceback;_G.__TS__originalTraceback=e1;debug.traceback=function(e2,cr,ch)local e3;if e2==nil and cr==nil and ch==nil then e3=e1()elseif c6(_VERSION,\"Lua 5.0\")then e3=e1(((\"[Level \"..tostring(ch))..\"] \")..cr)else e3=e1(e2,cr,ch)end;if type(e3)~=\"string\"then return e3 end;local function e4(P,e5,e6,e7)local e8=_G.__TS__sourcemap[e5]if e8 and e8[e7]then local b5=e8[e7]if type(b5)==\"number\"then return(e6 ..\":\")..tostring(b5)end;return(tostring(b5.file)..\":\")..tostring(b5.line)end;return(e5 ..\":\")..e7 end;local e=string.gsub(e3,\"(%S+)%.lua:(%d+)\",function(e5,e7)return e4(nil,e5 ..\".lua\",e5 ..\".ts\",e7)end)local function e9(P,e5,e7)local e8=_G.__TS__sourcemap[e5]if e8 and e8[e7]then local ea=cT(e5,\"%[string \\\"([^\\\"]+)\\\"%]\")local eb=string.gsub(ea,\".lua$\",\".ts\")local b5=e8[e7]if type(b5)==\"number\"then return(eb..\":\")..tostring(b5)end;return(tostring(b5.file)..\":\")..tostring(b5.line)end;return(e5 ..\":\")..e7 end;e=string.gsub(e,\"(%[string \\\"[^\\\"]+\\\"%]):(%d+)\",function(e5,e7)return e9(nil,e5,e7)end)return e end end end;local function ec(H)local M={}if type(H)==\"string\"then for g=0,#H-1 do M[g+1]=cA(H,g)end else local f=0;for P,h in A(H)do f=f+1;M[f]=h end end;return aO(M)end;local function ed(self,ee)if ee~=ee then ee=0 end;if ee<0 then return\"\"end;return string.sub(self,ee+1,ee+1)end;local function ef(self,G)if G~=G then G=0 end;if G<0 then return 0/0 end;local eg=string.byte(self,G+1)if eg==nil then eg=0/0 end;return eg end;local function eh(self,c7,ei)if ei==nil or ei>#self then ei=#self end;return string.sub(self,ei-#c7+1,ei)==c7 end;local function ej(self,ek,el)if el==nil then el=\" \"end;if ek~=ek then ek=0 end;if ek==-math.huge or ek==math.huge then error(\"Invalid string length\",0)end;if#self>=ek or#el==0 then return self end;ek=ek-#self;if ek>#el then el=el..string.rep(el,math.floor(ek/#el))end;return self..string.sub(el,1,math.floor(ek))end;local function em(self,ek,el)if el==nil then el=\" \"end;if ek~=ek then ek=0 end;if ek==-math.huge or ek==math.huge then error(\"Invalid string length\",0)end;if#self>=ek or#el==0 then return self end;ek=ek-#self;if ek>#el then el=el..string.rep(el,math.floor(ek/#el))end;return string.sub(el,1,math.floor(ek))..self end;local en;do local eo=string.sub;function en(bP,ep,eq)local er,es=string.find(bP,ep,nil,true)if not er then return bP end;local et=eo(bP,1,er-1)local bt;if type(eq)==\"string\"then bt=eq else bt=eq(nil,ep,er-1,bP)end;local eu=bt;local ev=eo(bP,es+1)return(et..eu)..ev end end;local ew;do local eo=string.sub;local ex=string.find;function ew(bP,X,ey)if ey==nil then ey=4294967295 end;if ey==0 then return{}end;local e={}local ez=1;if X==nil or X==\"\"then for g=1,#bP do e[ez]=eo(bP,g,g)ez=ez+1 end else local eA=1;while ez<=ey do local er,es=ex(bP,X,eA,true)if not er then break end;e[ez]=eo(bP,eA,er-1)ez=ez+1;eA=es+1 end;if ez<=ey then e[ez]=eo(bP,eA)end end;return e end end;local eB;do local eo=string.sub;local ex=string.find;function eB(bP,ep,eq)if type(eq)==\"string\"then local eC=table.concat(ew(bP,ep),eq)if#ep==0 then return(eq..eC)..eq end;return eC end;local Y={}local eD=1;if#ep==0 then Y[1]=eq(nil,\"\",0,bP)eD=2;for g=1,#bP do Y[eD]=eo(bP,g,g)Y[eD+1]=eq(nil,\"\",g,bP)eD=eD+2 end else local eA=1;while true do local er,es=ex(bP,ep,eA,true)if not er then break end;Y[eD]=eo(bP,eA,er-1)Y[eD+1]=eq(nil,ep,er-1,bP)eD=eD+2;eA=es+1 end;Y[eD]=eo(bP,eA)end;return table.concat(Y)end end;local function eE(self,ao,dx)if ao==nil or ao~=ao then ao=0 end;if dx~=dx then dx=0 end;if ao>=0 then ao=ao+1 end;if dx~=nil and dx<0 then dx=dx-1 end;return string.sub(self,ao,dx)end;local function eF(self,c7,c8)if c8==nil or c8<0 then c8=0 end;return string.sub(self,c8+1,#c7+c8)==c7 end;local function eG(self)local e=string.gsub(self,\"^[%sÂ ï»¿]*(.-)[%sÂ ï»¿]*$\",\"%1\")return e end;local function eH(self)local e=string.gsub(self,\"[%sÂ ï»¿]*$\",\"\")return e end;local function eI(self)local e=string.gsub(self,\"^[%sÂ ï»¿]*\",\"\")return e end;local eJ,eK;do local eL={}function eJ(p)if not eL[p]then eL[p]=j(p)end;return eL[p]end;function eK(eM)for p in pairs(eL)do if eL[p]==eM then return p end end end end;local function eN(b)local eO=type(b)if eO==\"table\"then return\"object\"elseif eO==\"nil\"then return\"undefined\"else return eO end end;return{__TS__ArrayConcat=c,__TS__ArrayEntries=n,__TS__ArrayEvery=q,__TS__ArrayFilter=t,__TS__ArrayForEach=u,__TS__ArrayFind=w,__TS__ArrayFindIndex=z,__TS__ArrayFrom=J,__TS__ArrayIncludes=R,__TS__ArrayIndexOf=V,__TS__ArrayIsArray=a,__TS__ArrayJoin=W,__TS__ArrayMap=Z,__TS__ArrayPush=_,__TS__ArrayPushArray=a0,__TS__ArrayReduce=a2,__TS__ArrayReduceRight=a4,__TS__ArrayReverse=a5,__TS__ArrayUnshift=a7,__TS__ArraySort=a9,__TS__ArraySlice=ad,__TS__ArraySome=ak,__TS__ArraySplice=al,__TS__ArrayToObject=av,__TS__ArrayFlat=ax,__TS__ArrayFlatMap=aB,__TS__ArraySetLength=aD,__TS__AsyncAwaiter=bm,__TS__Await=by,__TS__Class=aM,__TS__ClassExtends=bz,__TS__CloneDescriptor=bD,__TS__CountVarargs=a1,__TS__Decorate=b_,__TS__DecorateParam=c4,__TS__Delete=cz,__TS__DelegatedYield=cB,Error=c9,RangeError=ca,ReferenceError=cb,SyntaxError=cc,TypeError=cd,URIError=ce,__TS__FunctionBind=aP,__TS__Generator=cC,__TS__InstanceOf=aF,__TS__InstanceOfObject=cG,__TS__Iterator=A,__TS__LuaIteratorSpread=cI,Map=cM,__TS__Match=cT,__TS__MathAtan2=cU,__TS__MathModf=cV,__TS__MathSign=cW,__TS__Modulo50=cX,__TS__New=aJ,__TS__Number=cY,__TS__NumberIsFinite=d0,__TS__NumberIsNaN=d1,__TS__NumberToString=d2,__TS__ObjectAssign=bN,__TS__ObjectDefineProperty=d9,__TS__ObjectEntries=dh,__TS__ObjectFromEntries=di,__TS__ObjectGetOwnPropertyDescriptor=bQ,__TS__ObjectGetOwnPropertyDescriptors=cy,__TS__ObjectKeys=dk,__TS__ObjectRest=dl,__TS__ObjectValues=dp,__TS__ParseFloat=dq,__TS__ParseInt=dy,__TS__Promise=aS,__TS__PromiseAll=dE,__TS__PromiseAllSettled=dH,__TS__PromiseAny=dI,__TS__PromiseRace=dM,Set=dN,__TS__SetDescriptor=bS,__TS__SparseArrayNew=dP,__TS__SparseArrayPush=dR,__TS__SparseArraySpread=dU,WeakMap=dX,WeakSet=dY,__TS__SourceMapTraceBack=dZ,__TS__Spread=ec,__TS__StringAccess=cA,__TS__StringCharAt=ed,__TS__StringCharCodeAt=ef,__TS__StringEndsWith=eh,__TS__StringIncludes=c6,__TS__StringPadEnd=ej,__TS__StringPadStart=em,__TS__StringReplace=en,__TS__StringReplaceAll=eB,__TS__StringSlice=eE,__TS__StringSplit=ew,__TS__StringStartsWith=eF,__TS__StringSubstr=dv,__TS__StringSubstring=dw,__TS__StringTrim=eG,__TS__StringTrimEnd=eH,__TS__StringTrimStart=eI,__TS__Symbol=j,Symbol=k,__TS__SymbolRegistryFor=eJ,__TS__SymbolRegistryKeyFor=eK,__TS__TypeOf=eN,__TS__Unpack=aO}\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=34501},["libcraftos.a"]={created=1688258010626,type="file",modified=1688258010593,data="!<arch>\ncolors.lua/     0           0     0     644     669       `\nlocal a=require\"cc.expect\"local b={white=0,orange=1,magenta=2,lightBlue=3,yellow=4,lime=5,ping=6,gray=7,lightGray=8,cyan=9,purple=10,blue=11,brown=12,green=13,red=14,black=15}function b.combine(...)return math.max(...)end;function b.subtract(...)return math.min(...)end;function b.test(c,d)return c==d end;function b.packRGB(e,f,d)a(1,e,\"number\")a(2,f,\"number\")a(3,d,\"number\")return bit32.bor(bit32.lshift(e*255,16),bit32.lshift(f*255,8),d*255)end;function b.unpackRGB(g)a(1,g,\"number\")return bit32.band(bit32.rshift(g,16),0xFF)/255,bit32.band(bit32.rshift(g,8),0xFF)/255,bit32.band(g,0xFF)/255 end;function b.toBlit(h)a(1,h,\"number\")return(\"%x\"):format(h)end;return b\n\ncolours.lua/    0           0     0     644     669       `\nlocal a=require\"cc.expect\"local b={white=0,orange=1,magenta=2,lightBlue=3,yellow=4,lime=5,ping=6,grey=7,lightGrey=8,cyan=9,purple=10,blue=11,brown=12,green=13,red=14,black=15}function b.combine(...)return math.max(...)end;function b.subtract(...)return math.min(...)end;function b.test(c,d)return c==d end;function b.packRGB(e,f,d)a(1,e,\"number\")a(2,f,\"number\")a(3,d,\"number\")return bit32.bor(bit32.lshift(e*255,16),bit32.lshift(f*255,8),d*255)end;function b.unpackRGB(g)a(1,g,\"number\")return bit32.band(bit32.rshift(g,16),0xFF)/255,bit32.band(bit32.rshift(g,8),0xFF)/255,bit32.band(g,0xFF)/255 end;function b.toBlit(h)a(1,h,\"number\")return(\"%x\"):format(h)end;return b\n\ndisk.lua/       0           0     0     644     1488      `\nlocal a=require\"cc.expect\"local b=require\"_syscall\"local function c(d)local e=b.devinfo(d)return e and e.types.drive end;local f={}function f.isPresent(d)a(1,d,\"string\")return b.devlookup(d)~=nil and b.devcall(d,\"getState\")~=nil end;function f.getLabel(d)a(1,d,\"string\")if not c(d)then return nil end;local g=b.devcall(d,\"getState\")return g and g.label end;function f.setLabel(d,h)a(1,d,\"string\")a(2,h,\"string\",\"nil\")if not c(d)then return end;b.devcall(d,\"setLabel\",h)end;function f.hasData(d)a(1,d,\"string\")if not c(d)then return false end;local g=b.devcall(d,\"getState\")return g and not g.isAudio end;function f.getMountPath(d)a(1,d,\"string\")local e=b.devinfo(d)if not e or not e.types.drive then return nil end;local i=b.mountlist()for j,k in ipairs(i)do if k.type==\"drivefs\"and k.uuid==e.uuid then return k.path end end;return nil end;function f.hasAudio(d)a(1,d,\"string\")if not c(d)then return false end;local g=b.devcall(d,\"getState\")return g and g.audio~=nil end;function f.getAudioTitle(d)a(1,d,\"string\")if not c(d)then return nil end;local g=b.devcall(d,\"getState\")return g and g.audio end;function f.playAudio(d)a(1,d,\"string\")if not c(d)then return end;b.devcall(d,\"play\")end;function f.stopAudio(d)a(1,d,\"string\")if not c(d)then return end;b.devcall(d,\"stop\")end;function f.eject(d)a(1,d,\"string\")if not c(d)then return end;b.devcall(d,\"eject\")end;function f.getID(d)a(1,d,\"string\")if not c(d)then return nil end;local g=b.devcall(d,\"getState\")return g and g.id end;return f\nfs.lua/         0           0     0     644     2804      `\nlocal a=require\"cc.expect\"local b=require\"_syscall\"local c={}function c.list(d)a(1,d,\"string\")return b.list(d)end;function c.exists(d)a(1,d,\"string\")return b.stat(d)~=nil end;function c.isDir(d)a(1,d,\"string\")local e=b.stat(d)return e~=nil and e.type==\"directory\"end;function c.isReadOnly(d)a(1,d,\"string\")local e=b.stat(d)while e==nil do d=c.getDir(d)e=b.stat(d)end;local f=b.getuser()if e.permissions[f]then return not e.permissions[f].write else return not e.worldPermissions.write end end;function c.getName(d)a(1,d,\"string\")return filesystem.combine(d):match\"[^/]+$\"end;function c.getDrive(d)a(1,d,\"string\")local e=b.stat(d)return e and(e.mountpoint==\"/\"and\"hdd\"or e.mountpoint:gsub(\"^/\",\"\"))end;function c.getSize(d)a(1,d,\"string\")local e=b.stat(d)return e and e.size end;function c.getFreeSpace(d)a(1,d,\"string\")local e=b.stat(d)return e and e.freeSpace end;function c.makeDir(d)a(1,d,\"string\")return b.mkdir(d)end;function c.move(g,h)a(1,g,\"string\")a(2,h,\"string\")local i,j=assert(b.stat(g)),assert(b.stat(h))if i.mountpoint==j.mountpoint then return b.rename(g,h)end;c.copy(g,h)b.remove(g)end;function c.copy(g,h)a(1,g,\"string\")a(2,h,\"string\")local e=b.stat(g)if e.type==\"directory\"then local k=b.list(g)b.mkdir(h)for l,m in ipairs(k)do c.copy(b.combine(g,m),b.combine(h,m))end else local n,o=b.open(g,\"rb\")if not n then error(o,2)end;local p,o=b.open(h,\"wb\")if not p then n.close()error(o,2)end;repeat local q=n.read(512)if q then p.write(q)end until not q;p.close()n.close()end end;function c.delete(d)a(1,d,\"string\")return b.remove(d)end;function c.combine(...)return b.combine(...)end;function c.open(d,r)a(1,d,\"string\")a(2,r,\"string\")return b.open(d,r)end;local function s(t,u,v)if v>#u then return{}end;local w=u[v]:gsub(\"[%^%$%(%)%%%.%+%-]\",\"%%%1\"):gsub(\"%*\",\".*\"):gsub(\"%?\",\".\"):gsub(\"%[!\",\"[^\")local x={}for l,y in ipairs(t)do local z,A=pcall(b.list,y)if z then for l,d in ipairs(A)do if d:match(w)then x[#x+1]=b.combine(y,d)end end end end;if v+1>#u then return x end;return s(x,u,v+1)end;function c.find(B)a(1,B,\"string\")local C={}for D in B:gmatch(\"[^/]+\")do C[#C+1]=D end;local E=s({B:sub(1,1)==\"/\"and\"/\"or\".\"},C,1)table.sort(E)return E end;function c.getDir(d)a(1,d,\"string\")local D=b.combine(d):match\"^(.*)[^/]*$\"if D==\"\"then if d:sub(1,1)==\"/\"then return\"/\"else return\".\"end else return D end end;function c.complete(F,d,G,H)end;function c.attributes(d)a(1,d,\"string\")local e=b.stat(d)if not e then return nil end;e.isDir=e.type==\"directory\"local f=b.getuser()if e.permissions[f]then e.isReadOnly=not e.permissions[f].write else e.isReadOnly=not e.worldPermissions.write end end;function c.getCapacity(d)a(1,d,\"string\")local e=b.stat(d)return e and e.capacity end;function c.isDriveRoot(d)a(1,d,\"string\")local e=b.stat(d)return e~=nil and b.combine(d)==e.mountpoint end;return c\ngps.lua/        0           0     0     644     53        `\nlocal a={}function a.locate()return nil end;return a\n\nhelp.lua/       0           0     0     644     698       `\nlocal a=require\"cc.expect\"local b=require\"fs\"local c={}local d=\"/usr/share/man/*:/usr/local/share/man/*\"function c.path()return d end;function c.setPath(e)a(1,e,\"string\")d=e end;function c.lookup(f)a(1,f,\"string\")for g in d:gmatch\"[^:]+\"do local h=b.find(b.combine(g,f..\".*\"))if#h>0 then return table.unpack(h)end end;return nil end;function c.topics()local i={}for g in d:gmatch\"[^:]+\"do for j in ipairs(b.find(g))do for k,l in ipairs(b.list(j))do i[#i+1]=l:gsub(\"%..*$\",\"\")end end end;return i end;function c.completeTopic(f)a(1,f,\"string\")local i={}for g in d:gmatch\"[^:]+\"do for k,l in ipairs(b.find(b.combine(g,f..\"*\")))do i[#i+1]=l:match(f..\"([^/%.]+)%.?[^/]*$\")end end;return i end;return c\nhttp.lua/       0           0     0     644     3221      `\nlocal a=require\"cc.expect\"local b=require\"_handles\"local c=require\"_syscall\"local d=require\"craftos.os\"local e={}local function f(g)local h={}function h.read(i)return g:read(i or 1)end;function h.readLine(j)return g:read(j and\"*L\"or\"*l\")end;function h.readAll()return g:read(\"*a\")end;function h.getResponseCode()return g:responseCode()end;function h.getResponseHeaders()return g:responseHeaders()end;function h.close()return g:close()end;return h end;local function k(g,l)local h={}function h.send(m,n)return g:write(m)end;function h.receive(o)local p;if o then p=d.startTimer(o)end;while true do if g.status==\"closed\"then error('attempt to use a closed file',2)end;local q,r,s=d.pullEvent()if q=='websocket_message'and r==l then return s elseif q=='websocket_closed'and r==l and g.status==\"closed\"then return nil elseif q=='timer'and r==p then return nil end end end;function h.close()return g:close()end;return h end;function e.get(r,t,n)a(1,r,\"string\",\"table\")if type(r)==\"string\"then r={url=r,headers=t,binary=n}end;a.field(r,\"url\",\"string\")a.field(r,\"headers\",\"table\",\"nil\")a.field(r,\"binary\",\"boolean\",\"nil\")a.field(r,\"method\",\"string\",\"nil\")a.field(r,\"redirect\",\"boolean\",\"nil\")r.method=\"GET\"return e.post(r)end;function e.post(r,u,t,n)a(1,r,\"string\",\"table\")if type(r)==\"string\"then r={url=r,body=u,headers=t,binary=n}end;a.field(r,\"url\",\"string\")a.field(r,\"body\",\"string\",\"nil\")a.field(r,\"headers\",\"table\",\"nil\")a.field(r,\"binary\",\"boolean\",\"nil\")a.field(r,\"method\",\"string\",\"nil\")a.field(r,\"redirect\",\"boolean\",\"nil\")r.encoding=r.binary and\"binary\"or\"utf8\"local g,v=c.connect(r)if not g then return nil,v end;local w=f(g)b.http[g.id]={url=r.url,handle=g,craftos=w}if r.body then g:write(r.body)else g:write()end;while true do local x,y=d.pullEvent()if x==\"http_success\"and y==r.url then return w elseif x==\"http_failure\"and y==r.url then return nil,g.error,w end end end;function e.request(r,u,t,n)a(1,r,\"string\",\"table\")if type(r)==\"string\"then r={url=r,body=u,headers=t,binary=n}end;a.field(r,\"url\",\"string\")a.field(r,\"body\",\"string\",\"nil\")a.field(r,\"headers\",\"table\",\"nil\")a.field(r,\"binary\",\"boolean\",\"nil\")a.field(r,\"method\",\"string\",\"nil\")a.field(r,\"redirect\",\"boolean\",\"nil\")r.encoding=r.binary and\"binary\"or\"utf8\"local g,v=c.connect(r)if not g then d.queueEvent(\"http_failure\",r.url,v)return false,v end;local w=f(g)b.http[g.id]={url=r.url,handle=g,craftos=w}if r.body then g:write(r.body)else g:write()end;return true end;function e.checkURLAsync(r)a(1,r,\"string\")local z=c.checkuri(r)d.queueEvent(\"http_check\",r,z)end;function e.checkURL(r)a(1,r,\"string\")return c.checkuri(r)end;function e.websocketAsync(r,t)a(1,r,\"string\")a(2,t,\"table\",\"nil\")local g,v=c.connect({url=r,headers=t})if not g then d.queueEvent(\"websocket_failure\",r.url,v)return false,v end;local w=k(g,r)b.websocket[g.id]={url=r.url,handle=g,craftos=w}return true end;function e.websocket(r,t)a(1,r,\"string\")a(2,t,\"table\",\"nil\")local g,v=c.connect({url=r,headers=t})if not g then return nil,v end;local w=k(g,r)b.websocket[g.id]={url=r.url,handle=g,craftos=w}while true do local x,y=d.pullEvent()if x==\"websocket_success\"and y==r.url then return w elseif x==\"websocket_failure\"and y==r.url then return nil,g.error end end end;return e\n\ninit.lua/       0           0     0     644     3543      `\nlocal a=require\"cc.expect\"local b=require\"_syscall\"package.loaded.os=nil;local c={colors=require\"colors\",colours=require\"colours\",disk=require\"disk\",fs=require\"fs\",gps=require\"gps\",help=require\"help\",http=require\"http\",keys=require\"keys\",os=require\"os\",paintutils=require\"paintutils\",parallel=require\"parallel\",peripheral=require\"peripheral\",rednet=require\"rednet\",redstone=require\"redstone\",settings=require\"settings\",shell=require\"shell\",term=require\"term\",textutils=require\"textutils\",vector=require\"vector\",window=require\"window\"}c.rs=c.redstone;c._HOST=b.cchost()c._CC_DEFAULT_SETTINGS=\"\"c.sleep=c.os.sleep;function c.write(d)a(1,d,\"string\")local e=0;local f,g=c.term.getSize()local function h(i)e=e+1;if i>g-1 then c.term.scroll(1)return i else return i+1 end end;while#d>0 do local j=d:find(\"\\n\")or#d;local k=d:sub(1,j)d=d:sub(#k+1)local l=k:sub(-1)==\"\\n\"if l then k=k:sub(1,-2)end;local m,i=c.term.getCursorPos()while#k>0 do if m>f then c.term.setCursorPos(1,h(i))m,i=c.term.getCursorPos()end;local n=k:sub(1,f-m+1)c.term.write(n)k=k:sub(#n+1)m,i=c.term.getCursorPos()end;if l then c.term.setCursorPos(1,h(i))end end;return e end;function c.print(...)local o=table.pack(...)for p=1,o.n,1 do o[p]=tostring(o[p])end;return c.write(table.concat(o,\"  \")..\"\\n\")end;function c.printError(...)local q=c.term.getTextColor()c.term.setTextColor(c.colors.red)print(...)c.term.setTextColor(q)end;local r={}function c.read(s,t,u,v)a(1,s,\"string\",\"nil\")a(2,t,\"table\",\"nil\")a(3,u,\"function\",\"nil\")a(4,v,\"string\",\"nil\")if s then s=s:sub(1,1)end;local w=t or{}t={}for p=1,#w,1 do t[p]=w[p]end;local x=v or\"\"local y=x;t[#t+1]=x;local z=#t;local A=0;local B,C=c.term.getCursorPos()local f,g=c.term.getSize()local D=false;local E={}local F=0;local function G()if E[F]then c.write((\" \"):rep(#E[F]))end end;local function H(I)if I or D then if u and x~=y then E=u(x)or r;F=math.min(1,#E)end;y=x;c.term.setCursorPos(B,C)local d=x;if s then d=s:rep(#d)end;local J=c.write(d)if E[F]then local K=c.term.getTextColor()local L=c.term.getBackgroundColor()c.term.setTextColor(c.colors.white)c.term.setBackgroundColor(c.colors.gray)J=J+c.write(E[F])c.term.setTextColor(K)c.term.setBackgroundColor(L)else J=J+c.write(\" \")end;if C+J>g then C=C-(C+J-g)end end;local m,i=B,C;m=m+#x-A;while m>f do m=m-f;i=i+1 end;c.term.setCursorPos(m,i)end;c.term.setCursorBlink(true)while true do H()local M,N=c.os.pullEvent()if M==\"char\"then D=true;G()if A==0 then x=x..N elseif A==#x then x=N..x else x=x:sub(0,-A-1)..N..x:sub(-A)end elseif M==\"paste\"then D=true;G()if A==0 then x=x..N elseif A==#x then x=N..x else x=x:sub(0,-A-1)..N..x:sub(-A+#id-1)end elseif M==\"key\"then local id=c.keys.getName(N)if id==\"backspace\"and#x>0 then D=true;if A==0 then x=x:sub(1,-2)G()elseif A<#x then x=x:sub(0,-A-2)..x:sub(-A)end elseif id==\"delete\"and A>0 then D=true;if A==#x then x=x:sub(2)elseif A==1 then x=x:sub(1,-2)else x=x:sub(0,-A-1)..x:sub(-A+1)end;A=A-1 elseif id==\"up\"then if#E>1 then D=true;G()if F>1 then F=F-1 else F=#E end elseif z>1 then A=0;t[z]=x;z=z-1;x=(\" \"):rep(#x)H(true)x=t[z]D=true end elseif id==\"down\"then if#E>1 then D=true;G()if F<#E then F=F+1 else F=1 end elseif z<#t then A=0;t[z]=x;z=z+1;x=(\" \"):rep(#x)H(true)x=t[z]D=true end elseif id==\"left\"then if A<#x then G()A=A+1 end elseif id==\"right\"then if A>0 then A=A-1 elseif F>0 then D=true;x=x..E[F]end elseif id==\"tab\"then if F>0 then D=true;x=x..E[F]end elseif id==\"home\"then A=#x elseif id==\"end\"then A=0 elseif id==\"enter\"then G()c.write(\"\\n\")break end end end;c.term.setCursorBlink(false)return x end;return c\n\nkeys.lua/       0           0     0     644     1330      `\nlocal a={}for b=0x61,0x7A do a[string.char(b)]=b end;for b=0x81,0x99 do a[\"f\"..bit32.band(b,31)]=b end;for b=0xA0,0xA9 do a[\"numPad\"..bit32.band(b,15)]=b end;a.backspace=0x08;a.tab=0x09;a.enter=0x0A;a.space=0x20;a.apostrophe=0x27;a.comma=0x2C;a.minus=0x2D;a.period=0x2E;a.slash=0x2F;a.zero=0x30;a.one=0x31;a.two=0x32;a.three=0x33;a.four=0x34;a.five=0x35;a.six=0x36;a.seven=0x37;a.eight=0x38;a.nine=0x39;a.semicolon=0x3B;a.equals=0x3D;a.leftBracket=0x5B;a.backslash=0x5C;a.rightBracket=0x5D;a.grave=0x60;a.delete=0x7F;a.insert=0x80;a.convert=0x9A;a.noconvert=0x9B;a.kana=0x9C;a.kanji=0x9D;a.yen=0x9E;a.numPadDecimal=0x9F;a.numPadAdd=0xAA;a.numPadSubtract=0xAB;a.numPadMultiply=0xAC;a.numPadDivide=0xAD;a.numPadEqual=0xAE;a.numPadEnter=0xAF;a.leftCtrl=0xB0;a.rightCtrl=0xB1;a.leftAlt=0xB2;a.rightAlt=0xB3;a.leftShift=0xB4;a.rightShift=0xB5;a.leftSuper=0xB6;a.rightSuper=0xB7;a.capsLock=0xB8;a.numLock=0xB9;a.scrollLock=0xBA;a.printScreen=0xBB;a.pause=0xBC;a.menu=0xBD;a.stop=0xBE;a.ax=0xBF;a.up=0xC0;a.down=0xC1;a.left=0xC2;a.right=0xC3;a.pageUp=0xC4;a.pageDown=0xC5;a.home=0xC6;a[\"end\"]=0xC7;a.circumflex=0xC8;a.at=0xC9;a.colon=0xCA;a.underscore=0xCB;local c={}for d,e in pairs(a)do c[e]=d end;function a.getName(f)if type(f)~=\"number\"then error(\"bad argument #1 (expected number, got \"..type(f)..\")\",2)end;return c[f]end;return a\nmultishell.lua/ 0           0     0     644     1         `\n\n\nos.lua/         0           0     0     644     4451      `\nlocal a=require\"cc.expect\"local b=require\"_syscall\"local c=require\"_handles\"local d=os;local os={date=d.date}function os.loadAPI(e)a(1,e,\"string\")local f=setmetatable({},{__index=_G})local g=loadfile(e,nil,f)if not g then return false end;if not pcall(g)then return false end;setmetatable(f,nil)_G[e:match(\"([^/]+)%.lua$\")or e:match(\"[^/]+\")]=f;return true end;function os.unloadAPI(h)_G[h]=nil end;function os.pullEvent(i)local j=table.pack(os.pullEventRaw(i))if j[1]==\"terminate\"then error(\"Terminated\",2)end;return table.unpack(j,1,j.n)end;function os.pullEventRaw(i)local j;repeat j=table.pack(coroutine.yield())if j.n==2 and type(j[1])==\"string\"and type(j[2])==\"table\"then local k,l=j[1],j[2]if k==\"alarm\"or k==\"timer\"then j={k,l.id,n=2}elseif k==\"char\"then j={\"char\",l.character,n=2}elseif k==\"disk\"or k==\"disk_eject\"or k==\"speaker_audio_empty\"or k==\"monitor_resize\"or k==\"device_added\"or k==\"device_removed\"then j={k,l.device,n=2}elseif k==\"key\"then j={\"key\",l.keycode,l.isRepeat,n=3}elseif k==\"key_up\"then j={\"key_up\",l.keycode,n=2}elseif k==\"modem_message\"then j={\"modem_message\",l.device,l.channel,l.replyChannel,l.message,l.distance,n=6}elseif k==\"mouse_click\"or k==\"mouse_drag\"or k==\"mouse_up\"or k==\"mouse_move\"then j={k,l.button,l.x,l.y,n=4}elseif k==\"mouse_scroll\"then j={\"mouse_scroll\",l.direction,l.x,l.y,n=4}elseif k==\"paste\"then j={\"paste\",l.text,n=2}elseif k==\"redstone\"or k==\"term_resize\"or k==\"turtle_inventory\"or k==\"terminate\"then j={k,n=1}elseif k==\"craftos_event\"then j=l elseif k==\"handle_status_change\"then if c.http[l.id]then if l.status==\"open\"then j={\"http_success\",c.http[l.id].url,c.http[l.id].craftos,n=3}c.http[l.id]=nil elseif l.status==\"error\"then j={\"http_failure\",c.http[l.id].url,c.http[l.id].handle.error,c.http[l.id].craftos,n=4}c.http[l.id]=nil end elseif c.websocket[l.id]then if l.status==\"open\"then j={\"websocket_success\",c.websocket[l.id].url,c.websocket[l.id].craftos,n=3}elseif l.status==\"error\"then j={\"websocket_failure\",c.websocket[l.id].url,c.websocket[l.id].error,n=3}elseif l.status==\"closed\"then j={\"websocket_closed\",c.websocket[l.id].url,n=2}c.websocket[l.id]=nil end end elseif k==\"handle_data_ready\"then if c.websocket[l.id]then j={\"websocket_message\",c.websocket[l.id].url,c.websocket[l.id].handle:read(\"*a\"),true,n=4}elseif c.rednet[l.id]then j={\"rednet_message\",c.rednet[l.id].id,c.rednet[l.id].handle:read(\"*a\"),n=3}end else j={\"phoenix_event\",{event=k,param=l},n=2}end end until i==nil or j[1]==i or j[1]==\"terminate\"return table.unpack(j,1,j.n)end;function os.sleep(m)a(1,m,\"number\")local n=b.timer(m)repeat local j,l=os.pullEvent()until j==\"timer\"and l==n end;function os.version()return\"Phoenix \"..b.version()end;function os.run(f,e,...)a(1,f,\"table\")a(2,e,\"string\")setmetatable(f,{__index=_ENV})local g,o=loadfile(e,nil,f)if not g then return false end;local p,q=pcall(g,...)return p end;function os.queueEvent(h,...)a(1,h,\"string\")b.queueEvent(\"craftos_event\",table.pack(h,...))end;function os.startTimer(m)a(1,m,\"number\")return b.timer(m)end;function os.cancelTimer(r)a(1,r,\"number\")return b.cancel(r)end;os.cancelAlarm=os.cancelTimer;function os.setAlarm(m)a(1,m,\"number\")return b.alarm(m)end;function os.shutdown()b.devcall(\"/\",\"shutdown\")end;function os.reboot()b.devcall(\"/\",\"reboot\")end;function os.getComputerID()return b.devinfo(\"/\").metadata.id end;os.computerID=os.getComputerID;function os.getComputerLabel()return b.devcall(\"/\",\"getLabel\")end;os.computerLabel=os.getComputerLabel;function os.setComputerLabel(s)a(1,s,\"string\")return b.devcall(\"/\",\"setLabel\",s)end;function os.clock()return b.uptime()end;function os.time(t)a(1,t,\"string\",\"table\",\"nil\")if type(t)==\"table\"then return d.time(t)end;local u;if t==\"utc\"then u=os.date(\"!*t\")elseif t==\"local\"then u=os.date(\"*t\")elseif t==\"ingame\"or u==nil then u=os.date(\"?*t\")else error(\"Unsupported operation\",2)end;return u.hour+u.min/60+u.sec/3600 end;function os.day(t)a(1,t,\"string\",\"nil\")local u;if t==\"utc\"then u=os.date(\"!*t\")elseif t==\"local\"then u=os.date(\"*t\")elseif t==\"ingame\"or u==nil then u=os.date(\"?*t\")else error(\"Unsupported operation\",2)end;return math.floor((u.year-1970)*365.24)+u.yday end;function os.epoch(t)a(1,t,\"string\",\"nil\")if t==\"utc\"then return d.time()*1000 elseif t==\"local\"then return(d.time()+d.time(os.date(\"*t\"))-d.time(os.date(\"!*t\")))*1000 elseif t==\"ingame\"then return d.time\"ingame\"*1000 elseif t==\"nano\"then return d.time\"nano\"else error(\"Unsupported operation\",2)end end;return os\n\npaintutils.lua/ 0           0     0     644     2739      `\nlocal a=require\"cc.expect\"local b=require\"_syscall\"local c=require\"term\"local d={}function d.drawPixel(e,f,g)a(1,e,\"number\")a(2,f,\"number\")local h,i=c.getCursorPos()local j=c.getBackgroundColor()c.setCursorPos(e,f)if g then c.setBackgroundColor(g)end;c.write(\" \")c.setCursorPos(h,i)c.setBackgroundColor(j)end;local function k(l,m,n,o,p)if math.abs(p-n)<math.abs(o-m)then if m>o then m,n,o,p=o,p,m,n end;local q,r,s=o-m,p-n,1;if r<0 then s,r=-1,-r end;local t,f=2*r-q,n;if s<0 then f=p;for e=o,m,-1 do l(e,f)if t>0 then f=f+1;t=t+2*(r-q)else t=t+2*r end end else for e=m,o do l(e,f)if t>0 then f=f+1;t=t+2*(r-q)else t=t+2*r end end end else if n>p then m,n,o,p=o,p,m,n end;local q,r,u=o-m,p-n,1;if q<0 then u,q=-1,-q end;local t,e=2*q-r,m;for f=n,p do l(e,f)if t>0 then e=e+u;t=t+2*(q-r)else t=t+2*q end end end end;function d.drawLine(m,n,o,p,g)a(1,m,\"number\")a(2,n,\"number\")a(3,o,\"number\")a(4,p,\"number\")a(5,g,\"number\")if n==p then local v=math.abs(o-m)+1;local w,x=c.getBackgroundColor(),c.getTextColor()local h,i=c.getCursorPos()local y,z=(\"%x\"):format(x),(\"%x\"):format(g)c.setCursorPos(m,n)c.blit((\" \"):rep(v),y:rep(v),z:rep(v))c.setCursorPos(h,i)c.setBackgroundColor(w)return end;local l,A;local j=c.getBackgroundColor()local h,i=c.getCursorPos()c.setBackgroundColor(g)l,A=function(e,f)c.setCursorPos(e,f)c.write(\" \")end,function()c.setBackgroundColor(j)c.setCursorPos(h,i)end;k(l,m,n,o,p)A()end;function d.drawBox(e,f,v,B,g)a(1,e,\"number\")a(2,f,\"number\")a(3,v,\"number\")a(4,B,\"number\")a(5,g,\"number\")local w,x=c.getBackgroundColor(),c.getTextColor()local h,i=c.getCursorPos()local y,z=(\"%x\"):format(x),(\"%x\"):format(g)c.setCursorPos(e,f)c.blit((\" \"):rep(v),y:rep(v),z:rep(v))c.setCursorPos(e,f+B-1)c.blit((\" \"):rep(v),y:rep(v),z:rep(v))for C=f+1,f+B-2 do c.setCursorPos(e,C)c.blit(\" \",y,z)c.setCursorPos(e+v-1,C)c.blit(\" \",y,z)end;c.setBackgroundColor(w)c.setCursorPos(h,i)end;function d.drawFilledBox(e,f,v,B,g)a(1,e,\"number\")a(2,f,\"number\")a(3,v,\"number\")a(4,B,\"number\")a(5,g,\"number\")local w,x=c.getBackgroundColor(),c.getTextColor()local h,i=c.getCursorPos()local D,y,z=(\" \"):rep(v),(\"%x\"):format(x):rep(v),(\"%x\"):format(g):rep(v)for C=f,f+B-1 do c.setCursorPos(e,C)c.blit(D,y,z)end;c.setBackgroundColor(w)c.setCursorPos(h,i)end;function d.drawImage(e,f,E)a(1,e,\"number\")a(2,f,\"number\")a(3,E,\"table\")for F,G in ipairs(E)do c.setCursorPos(e,f+F-1)for H,j in ipairs(G)do c.setBackgroundColor(j)c.write(\" \")end end end;function d.parseImage(E)a(1,E,\"string\")local I={}for G in E:gmatch\"[^\\n]+\"do local J={}for j in G:gmatch\".\"do J[#J+1]=tonumber(j,16)end;I[#I+1]=J end;return I end;function d.loadImage(K)a(1,K,\"string\")local L=b.open(K,\"r\")if not L then return nil end;local M=L.readAll()L.close()return d.parseImage(M)end;return d\n\nparallel.lua/   0           0     0     644     837       `\nlocal a=require\"craftos.os\"local b={}local function c(d,e)local f={}for g,h in ipairs(d)do if type(h)~=\"function\"then error(\"bad argument #\"..g..\" (expected function, got \"..type(h)..\")\",2)end;f[g]={coro=coroutine.create(h),filter=nil,pos=g}end;local i={n=0}while#f>=e do local g=1;while g<#f do if f[g].filter==nil or f[g].filter==i[1]then local j=i;repeat local k=table.pack(f[g].coro(table.unpack(j,1,j.n)))if not k[1]then error(k[2],0)end;if k[2]==\"syscall\"then j=table.pack(coroutine.yield(table.unpack(k,1,k.n)))else f[g].filter=k[2]end until k[2]~=\"syscall\"if f[g]:status()==\"dead\"then local l=f[g].pos;table.remove(f,g)if#f<e then return l end;g=g-1 end end;g=g+1 end;i=table.pack(a.pullEvent())end;return 1 end;function b.waitForAny(...)return c({...},select(\"#\",...))end;function b.waitForAll(...)return c({...},1)end;return b\n\nperipheral.lua/ 0           0     0     644     2243      `\nlocal a=require\"cc.expect\"local b=require\"_syscall\"local c={}function c.getNames()return b.devchildren(\"/\")end;function c.isPresent(d)a(1,d,\"string\")return b.devinfo(d)~=nil end;function c.getType(e)a(1,e,\"string\",\"table\")if type(e)==\"string\"then local f=b.devinfo(e)if not f then return nil end;local g={}for h in pairs(f.types)do g[#g+1]=h end;return table.unpack(g)else local i=getmetatable(e)if not i or i.__name~=\"peripheral\"or type(i.types)~=\"table\"then error(\"bad argument #1 (table is not a peripheral)\",2)end;return table.unpack(i.types)end end;function c.hasType(e,j)a(1,e,\"string\",\"table\")a(2,j,\"string\")if type(c)==\"string\"then local f=b.devinfo(e)if not f then return nil end;return f.types[j]~=nil else local i=getmetatable(e)if not i or i.__name~=\"peripheral\"or type(i.types)~=\"table\"then error(\"bad argument #1 (table is not a peripheral)\",2)end;return i.types[j]~=nil end end;function c.getMethods(d)a(1,d,\"string\")local k,g=pcall(b.devmethods,d)return k and g or nil end;function c.getName(e)a(1,e,\"table\")local i=getmetatable(e)if not i or i.__name~=\"peripheral\"or type(i.name)~=\"string\"then error(\"bad argument #1 (table is not a peripheral)\",2)end;return i.name end;function c.call(d,l,...)a(1,d,\"string\")a(2,l,\"string\")return b.devcall(d,l,...)end;function c.wrap(d)a(1,d,\"string\")local f=b.devinfo(d)if not f then return nil end;local m,n=b.devmethods(d),b.devproperties(d)for o,p in ipairs(n)do n[p]=true end;for h in pairs(f.types)do if type(h)==\"string\"then f.types[#f.types+1]=h end end;local g={}for o,p in ipairs(m)do g[p]=function(self,...)return b.devcall(d,p,...)end end;return setmetatable(g,{__name=\"peripheral\",name=d,type=f.types[1],types=f.types,__index=function(self,q)if type(q)==\"string\"and n[q]then return b.devcall(d,\"get\"..q:gsub(\"^.\",string.upper))end end,__newindex=function(self,q,r)if type(q)==\"string\"and n[q]and m[\"set\"..q:gsub(\"^.\",string.upper)]then return b.devcall(d,\"set\"..q:gsub(\"^.\",string.upper),r)end end,__tostring=function(self)return\"wrapped device: \"..(f.displayName or f.uuid)end})end;function c.find(j,s)a(1,j,\"string\")a(2,s,\"function\",\"nil\")local g={}for o,p in ipairs{b.devfind(j)}do local t=c.wrap(p)if not s or s(p,t)then g[#g+1]=t end end;return table.unpack(g)end;return c\n\nrednet.lua/     0           0     0     644     19        `\nlocal a={}return a\n\nredstone.lua/   0           0     0     644     1339      `\nlocal a=require\"_syscall\"local b=require\"cc.expect\"local c={}function c.getSides()return a.devchildren(\"/redstone\")end;function c.getInput(d)b(1,d,\"string\")return a.devcall(\"/redstone/\"..d,\"getInput\")>0 end;function c.getOutput(d)b(1,d,\"string\")return a.devcall(\"/redstone/\"..d,\"getOutput\")>0 end;function c.setOutput(d,e)b(1,d,\"string\")b(2,e,\"boolean\")return a.devcall(\"/redstone/\"..d,\"setOutput\",e and 15 or 0)end;function c.getAnalogInput(d)b(1,d,\"string\")return a.devcall(\"/redstone/\"..d,\"getInput\")end;function c.getAnalogOutput(d)b(1,d,\"string\")return a.devcall(\"/redstone/\"..d,\"getOutput\")end;function c.setAnalogOutput(d,e)b(1,d,\"string\")b(2,e,\"number\")b.range(e,0,15)return a.devcall(\"/redstone/\"..d,\"setOutput\",e)end;function c.getBundledInput(d)b(1,d,\"string\")return a.devcall(\"/redstone/\"..d,\"getBundledInput\")end;function c.getBundledOutput(d)b(1,d,\"string\")return a.devcall(\"/redstone/\"..d,\"getBundledOutput\")end;function c.setBundledOutput(d,e)b(1,d,\"string\")b(2,e,\"number\")b.range(e,0,65535)return a.devcall(\"/redstone/\"..d,\"setBundledOutput\",e)end;function c.testBundledInput(d,f)b(1,d,\"string\")b(2,f,\"number\")b.range(f,0,65535)return bit32.band(a.devcall(\"/redstone/\"..d,\"getBundledInput\"),f)==f end;c.getAnalogueInput=c.getAnalogInput;c.getAnalogueOutput=c.getAnalogOutput;c.setAnalogueOutput=c.setAnalogOutput;return c\n\nsettings.lua/   0           0     0     644     3872      `\nlocal a=require\"cc.expect\"local b=require\"fs\"local c=require\"textutils\"local d={}local e={}local f={}function d.get(g,h)a(1,g,\"string\")if e[g]~=nil then return e[g]elseif h~=nil then return h else return f[g]and f[g].default end end;function d.set(g,i)a(1,g,\"string\")if i==nil then error(\"bad argument #2 (expected value, got nil)\",2)end;if f[g]and f[g].type then a(2,i,f[g].value)end;e[g]=i end;function d.unset(g)a(1,g,\"string\")e[g]=nil end;function d.define(g,j)a(1,g,\"string\")if j~=nil then a(2,j,\"table\")a.field(j,\"description\",\"string\",\"nil\")a.field(j,\"type\",\"string\",\"nil\")if j.type then a.field(j,\"default\",j.type,\"nil\")end end;f[g]=j or{}end;function d.undefine(g)a(1,g,\"string\")f[g]=nil end;function d.getDetails(g)a(1,g,\"string\")local k=f[g]if k then return{description=k.description,default=k.default,type=k.type,value=e[g]}else return{value=e[g]}end end;function d.clear()e={}end;function d.getNames()local l={}for m in pairs(f)do l[#l+1]=m end;table.sort(l)return l end;function d.load(n)n=a(1,n,\"string\",\"nil\")or\"/etc/settings\"if not b.exists(n)then return false end;local o=b.open(n,\"r\")if not o then return false end;local p,q=pcall(c.unserialize,o.readAll())o.close()if not p or type(q)~=\"table\"then return false end;for m,r in pairs(q)do e[m]=r end;return true end;function d.save(n)n=a(1,n,\"string\",\"nil\")or\"/etc/settings\"local o=b.open(n,\"r\")if not o then return false end;o.write(c.serialize(e))o.close()return true end;d.define(\"shell.allow_startup\",{default=true,description=\"Run startup files when the computer turns on.\",type=\"boolean\"})d.define(\"shell.allow_disk_startup\",{default=true,description=\"Run startup files from disk drives when the computer turns on.\",type=\"boolean\"})d.define(\"shell.autocomplete\",{default=false,description=\"Autocomplete program and arguments in the shell.\",type=\"boolean\"})d.define(\"edit.autocomplete\",{default=false,description=\"Autocomplete API and function names in the editor.\",type=\"boolean\"})d.define(\"lua.autocomplete\",{default=false,description=\"Autocomplete API and function names in the Lua REPL.\",type=\"boolean\"})d.define(\"edit.default_extension\",{default=\"lua\",description=[[The file extension the editor will use if none is given. Set to \"\" to disable.]],type=\"string\"})d.define(\"paint.default_extension\",{default=\"nfp\",description=[[The file extension the paint program will use if none is given. Set to \"\" to disable.]],type=\"string\"})d.define(\"list.show_hidden\",{default=false,description=[[Show hidden files (those starting with \".\" in the Lua REPL).]],type=\"boolean\"})d.define(\"motd.enable\",{default=true,description=\"Display a random message when the computer starts up.\",type=\"boolean\"})d.define(\"motd.path\",{default=\"/rom/motd.txt:/motd.txt\",description=[[The path to load random messages from. Should be a colon (\":\") separated string of file paths.]],type=\"string\"})d.define(\"lua.warn_against_use_of_local\",{default=true,description=[[Print a message when input in the Lua REPL starts with the word 'local'. Local variables defined in the Lua REPL are be inaccessable on the next input.]],type=\"boolean\"})d.define(\"lua.function_args\",{default=true,description=\"Show function arguments when printing functions.\",type=\"boolean\"})d.define(\"lua.function_source\",{default=false,description=\"Show where a function was defined when printing functions.\",type=\"boolean\"})d.define(\"bios.strict_globals\",{default=false,description=\"Prevents assigning variables into a program's environment. Make sure you use the local keyword or assign to _G explicitly.\",type=\"boolean\"})d.define(\"shell.autocomplete_hidden\",{default=false,description=[[Autocomplete hidden files and folders (those starting with \".\").]],type=\"boolean\"})d.define(\"bios.use_multishell\",{default=true,description=[[Allow running multiple programs at once, through the use of the \"fg\" and \"bg\" programs.]],type=\"boolean\"})d.load()return d\nshell.lua/      0           0     0     644     1632      `\nlocal a=require\"_syscall\"local b=require\"cc.expect\"local c=require\"craftos.os\"local d={}local e=a.getenv().PATH or\"/bin:/sbin:/usr/bin\"local f={}local g={}function d.dir()return a.getcwd()end;function d.setDir(h)b(1,h,\"string\")return a.chdir(h)end;function d.path()return e end;function d.setPath(i)b(1,i,\"string\")e=i end;function d.getRunningProgram()return a.getname()end;function d.resolve(e)b(1,e,\"string\")if e:sub(1,1)==\"/\"then return e end;return a.combine(a.getcwd(),e)end;function d.run(...)local j=\"\"for k,l in ipairs{...}do j=j..(j==\"\"and\"\"or\" \")..l end;local m={}for n in j:gmatch\"%S+\"do m[#m+1]=n end;return d.execute(table.unpack(m))end;function d.execute(...)local o=setmetatable({shell=d},{__index=_ENV})local p,q=loadfile(e,nil,o)if not p then return false end;local r,s=pcall(p,...)return r end;function d.aliases()local t={}for u,l in pairs(f)do t[u]=l end;return t end;function d.setAlias(v,w)b(1,v,\"string\")b(2,w,\"string\")f[v]=w end;function d.clearAlias(v)b(1,v,\"string\")f[v]=nil end;function d.getCompletionInfo()return g end;function d.setCompletionFunction(w,p)end;function d.complete(x)return{}end;function d.completeProgram(w)return{}end;function d.resolveProgram(v)for y in e:gmatch\"[^:]+\"do local r,z=pcall(a.list,y)if r then for A in ipairs(z)do if v==A or v..\".lua\"==A then return a.combine(y,A)end end end end;return nil end;function d.programs(B)b(1,B,\"boolean\",\"nil\")local t={}for y in e:gmatch\"[^:]+\"do local r,z=pcall(a.list,y)if r then for A in ipairs(z)do if a.stat(a.combine(y,A)).type~=\"directory\"and(B or not A:match\"^%.\")then t[#t+1]=A:gsub(\"%.lua$\",\"\")end end end end;return t end;return d\n_syscall.lua/   0           0     0     644     217       `\nreturn setmetatable({},{__index=function(self,a)return function(...)local b=table.pack(coroutine.yield(\"syscall\",a,...))if b[1]then return table.unpack(b,2,b.n)else error(b[2],2)end end end,__newindex=function()end})\n\nterm.lua/       0           0     0     644     525       `\nlocal a=require\"cc.expect\"local b=require\"_syscall\"local c={}local d=assert(b.openterm())local e=d;for f in pairs(d)do c[f]=function(...)return e[f](...)end end;function c.redirect(g)a(1,g,\"table\")if g==c then error(\"term is not a recommended redirect target, try term.current() instead\",2)end;for f in pairs(d)do if type(g[f])~=\"function\"then g[f]=function()error(\"Redirect object is missing method \"..f..\".\",2)end end end;local h=e;e=g;return h end;function c.current()return e end;function c.native()return d end;return c\n\ntextutils.lua/  0           0     0     644     8967      `\nlocal a=require\"cc.expect\"local b=require\"_syscall\"local c=require\"craftos.os\"local d=require\"term\"local e={}function e.slowWrite(f,g)a(1,f,\"string\")g=a(2,g,\"number\",\"nil\")or 20;local h,i=d.getCursorPos()local j,k=d.getSize()for l in f:gmatch\".\"do d.write(l)h=h+1;if l=='\\n'or h>j then h,i=1,i+1;if i>k then d.scroll(1)i=i-1 end;d.setCursorPos(h,i)end;local m=b.timer(1/g)repeat local n,o=c.pullEvent()until n==\"timer\"and o==m end end;function e.slowPrint(f,g)return e.slowWrite(f..\"\\n\",g)end;function e.formatTime(p,q)a(1,p,\"number\")a(2,q,\"boolean\",\"nil\")local r,s=math.floor(p),math.floor(p%1*60)return c.date(q and\"%H:%M\"or\"%I:%M %p\",c.time{year=1970,month=1,day=1,hour=r,min=s})end;function e.pagedPrint(f,t)error(\"Not implemented\")end;local function u(v,...)local t={}local w={}local x={}for y,z in ipairs{...}do local A=type(z)if A==\"number\"then x[#t+1]=z elseif A==\"table\"then t[#t+1]=z;for B=1,#z do z[B]=tostring(z[B])w[B]=math.max(w[B]or 0,#z[B]+1)end else error((\"bad argument #%d (expected table or number, got %s)\"):format(y,A),3)end end;local h,i=d.getCursorPos()local j,k=d.getSize()local function C()h,i=1,i+1;if i>k then d.scroll(1)i=i-1;if v then d.setCursorPos(h,i)d.write(\"Press any key to continue\")c.pullEvent(\"key\")d.clearLine()end end;d.setCursorPos(h,i)end;for y,z in ipairs(t)do if x[y]then d.setTextColor(x[y])end;for D,E in ipairs(z)do if h+w[y]>j then C()end;d.write(E..(\" \"):rep(w[y]-#E))h=h+w[y]end;C()end end;function e.tabulate(...)return u(false,...)end;function e.pagedTabulate(...)return u(true,...)end;local function F(G)return setmetatable({},{__newindex=function()error(\"attempt to modify read-only table\")end,__tostring=function()return G end})end;e.json_null=F\"null\"e.empty_json_array=F\"[]\"local H;local I={[\"\\\\\"]=\"\\\\\",[\"\\\"\"]=\"\\\"\",[\"\\b\"]=\"b\",[\"\\f\"]=\"f\",[\"\\n\"]=\"n\",[\"\\r\"]=\"r\",[\"\\t\"]=\"t\"}local J={[\"/\"]=\"/\"}for B,z in pairs(I)do J[z]=B end;local function K(l)return\"\\\\\"..(I[l]or string.format(\"u%04x\",l:byte()))end;local function L(M)return\"null\"end;local function N(M,O)local P={}O=O or{}if M==e.json_null then return\"null\"elseif M==e.empty_json_array then return\"[]\"end;if O[M]then error(\"circular reference\")end;O[M]=true;if rawget(M,1)~=nil or next(M)==nil then local Q=0;for B in pairs(M)do if type(B)~=\"number\"then error(\"invalid table: mixed or invalid key types\")end;Q=Q+1 end;if Q~=#M then error(\"invalid table: sparse array\")end;for y,z in ipairs(M)do table.insert(P,H(z,O))end;O[M]=nil;return\"[\"..table.concat(P,\",\")..\"]\"else for B,z in pairs(M)do if type(B)~=\"string\"then error(\"invalid table: mixed or invalid key types\")end;table.insert(P,H(B,O)..\":\"..H(z,O))end;O[M]=nil;return\"{\"..table.concat(P,\",\")..\"}\"end end;local function R(M)return'\"'..M:gsub('[%z\\1-\\31\\\\\"]',K)..'\"'end;local function S(M)if M~=M or M<=-math.huge or M>=math.huge then error(\"unexpected number value '\"..tostring(M)..\"'\")end;return string.format(\"%.14g\",M)end;local T={[\"nil\"]=L,[\"table\"]=N,[\"string\"]=R,[\"number\"]=S,[\"boolean\"]=tostring}H=function(M,O)local U=type(M)local V=T[U]if V then return V(M,O)end;error(\"unexpected type '\"..U..\"'\")end;function e.serializeJSON(M,W)a(2,W,\"boolean\",\"nil\")return H(M)end;local X;local function Y(...)local P={}for y=1,select(\"#\",...)do P[select(y,...)]=true end;return P end;local Z=Y(\" \",\"\\t\",\"\\r\",\"\\n\")local _=Y(\" \",\"\\t\",\"\\r\",\"\\n\",\"]\",\"}\",\",\")local a0=Y(\"\\\\\",\"/\",'\"',\"b\",\"f\",\"n\",\"r\",\"t\",\"u\")local a1=Y(\"true\",\"false\",\"null\")local a2={[\"true\"]=true,[\"false\"]=false,[\"null\"]=nil}local function a3(G,a4,a5,a6)for y=a4,#G do if a5[G:sub(y,y)]~=a6 then return y end end;return#G+1 end;local function a7(G,a4,a8)local a9=1;local aa=1;for y=1,a4-1 do aa=aa+1;if G:sub(y,y)==\"\\n\"then a9=a9+1;aa=1 end end;error(string.format(\"%s at line %d col %d\",a8,a9,aa))end;local function ab(Q)local V=math.floor;if Q<=0x7f then return string.char(Q)elseif Q<=0x7ff then return string.char(V(Q/64)+192,Q%64+128)elseif Q<=0xffff then return string.char(V(Q/4096)+224,V(Q%4096/64)+128,Q%64+128)elseif Q<=0x10ffff then return string.char(V(Q/262144)+240,V(Q%262144/4096)+128,V(Q%4096/64)+128,Q%64+128)end;error(string.format(\"invalid unicode codepoint '%x'\",Q))end;local function ac(E)local ad=tonumber(E:sub(1,4),16)local ae=tonumber(E:sub(7,10),16)if ae then return ab((ad-0xd800)*0x400+ae-0xdc00+0x10000)else return ab(ad)end end;local function af(G,y)local P=\"\"local ag=y+1;local B=ag;while ag<=#G do local ah=G:byte(ag)if ah<32 then a7(G,ag,\"control character in string\")elseif ah==92 then P=P..G:sub(B,ag-1)ag=ag+1;local l=G:sub(ag,ag)if l==\"u\"then local ai=G:match(\"^[dD][89aAbB]%x%x\\\\u%x%x%x%x\",ag+1)or G:match(\"^%x%x%x%x\",ag+1)or a7(G,ag-1,\"invalid unicode escape in string\")P=P..ac(ai)ag=ag+#ai else if not a0[l]then a7(G,ag-1,\"invalid escape char '\"..l..\"' in string\")end;P=P..J[l]end;B=ag+1 elseif ah==34 then P=P..G:sub(B,ag-1)return P,ag+1 end;ag=ag+1 end;a7(G,y,\"expected closing quote for string\")end;local function aj(G,y,ak)local ah=a3(G,y,_)local E=G:sub(y,ah-1)if ak.nbt_style then E=E:gsub(\"[bBsSlLfFdD]%s*$\",\"\")end;local Q=tonumber(E)if not Q then a7(G,y,\"invalid number '\"..E..\"'\")end;return Q,ah end;local function al(G,y,ak)local ah=a3(G,y,_)local am=G:sub(y,ah-1)if not a1[am]then a7(G,y,\"invalid literal '\"..am..\"'\")end;if am==\"null\"and ak.parse_null then return e.json_null,ah end;return a2[am],ah end;local function an(G,y,ak)local P={}local Q=1;y=y+1;while 1 do local ah;y=a3(G,y,Z,true)if G:sub(y,y)==\"]\"then y=y+1;break elseif Q==1 and ak.nbt_style and G:sub(y,y):match(\"[BIL]\")then local ao=y;y=a3(G,y,Z,true)if G:sub(y,y)==\";\"then y=a3(G,y,Z,true)if G:sub(y,y)==\"]\"then y=y+1;break end else y=ao end end;ah,y=X(G,y,ak)P[Q]=ah;Q=Q+1;y=a3(G,y,Z,true)local ap=G:sub(y,y)y=y+1;if ap==\"]\"then break end;if ap~=\",\"then a7(G,y,\"expected ']' or ','\")end end;if#P==0 and ak.parse_empty_array~=false then return e.empty_json_array,y end;return P,y end;local function aq(G,y,ak)local P={}y=y+1;while 1 do local ar,M;y=a3(G,y,Z,true)if G:sub(y,y)==\"}\"then y=y+1;break end;if G:sub(y,y)=='\"'then ar,y=X(G,y,ak)elseif ak.nbt_style then local ao=y;ar,y=G:match(\"([A-Za-z0-9_%-%.%+]+)()\",y)if not ar then a7(G,ao,\"expected key\")end else a7(G,y,\"expected string for key\")end;y=a3(G,y,Z,true)if G:sub(y,y)~=\":\"then a7(G,y,\"expected ':' after key\")end;y=a3(G,y+1,Z,true)M,y=X(G,y,ak)P[ar]=M;y=a3(G,y,Z,true)local ap=G:sub(y,y)y=y+1;if ap==\"}\"then break end;if ap~=\",\"then a7(G,y,\"expected '}' or ','\")end end;return P,y end;local as={['\"']=af,[\"0\"]=aj,[\"1\"]=aj,[\"2\"]=aj,[\"3\"]=aj,[\"4\"]=aj,[\"5\"]=aj,[\"6\"]=aj,[\"7\"]=aj,[\"8\"]=aj,[\"9\"]=aj,[\"-\"]=aj,[\"t\"]=al,[\"f\"]=al,[\"n\"]=al,[\"[\"]=an,[\"{\"]=aq}X=function(G,a4,ak)local ap=G:sub(a4,a4)local V=as[ap]if V then return V(G,a4,ak)end;a7(G,a4,\"unexpected character '\"..ap..\"'\")end;function e.unserializeJSON(G,ak)a(1,G,\"string\")ak=a(2,ak,\"table\",\"nil\")or{}a.field(ak,\"nbt_style\",\"boolean\",\"nil\")a.field(ak,\"parse_null\",\"boolean\",\"nil\")a.field(ak,\"parse_empty_array\",\"boolean\",\"nil\")local P,a4=X(G,a3(G,1,Z,true),ak)a4=a3(G,a4,Z,true)if a4<=#G then a7(G,a4,\"trailing garbage\")end;return P end;local at={[\"and\"]=true,[\"break\"]=true,[\"do\"]=true,[\"else\"]=true,[\"elseif\"]=true,[\"end\"]=true,[\"false\"]=true,[\"for\"]=true,[\"function\"]=true,[\"goto\"]=true,[\"if\"]=true,[\"in\"]=true,[\"local\"]=true,[\"nil\"]=true,[\"not\"]=true,[\"or\"]=true,[\"repeat\"]=true,[\"return\"]=true,[\"then\"]=true,[\"true\"]=true,[\"until\"]=true,[\"while\"]=true}local function au(M,O,ak,av)if O[M]then error(\"Cannot serialize recursive value\",0)end;local A=type(M)if A==\"table\"then if not next(M)then return\"{}\"end;O[M]=true;local P=ak.compact and\"{\"or\"{\\n\"local aw={}for y,z in ipairs(M)do if not ak.compact then P=P..(\"    \"):rep(av)end;aw[y]=true;P=P..au(z,O,ak,av+1)..(ak.compact and\",\"or\",\\n\")end;for B,z in pairs(M)do if not aw[B]then if not ak.compact then P=P..(\"    \"):rep(av)end;if type(B)==\"string\"and not at[B]then P=P..B else P=P..\"[\"..au(B,O,ak,av+1)..\"]\"end;P=P..(ak.compact and\"=\"or\" = \")..au(z,O,ak,av+1)..(ak.compact and\",\"or\",\\n\")end end;if ak.compact then P=P:gsub(\",$\",\"\")else P=P..(\"    \"):rep(av-1)end;if not ak.allow_repetitons then O[M]=nil end;return P..\"}\"elseif A==\"nil\"or A==\"number\"or A==\"boolean\"or A==\"string\"then return(\"%q\"):format(M):gsub(\"[%z\\1-\\31\\127-\\255]\",function(l)return'\\\\'..(\"%03d\"):format(string.byte(l))end)else error(\"Cannot serialize type \"..A,0)end end;function e.serialize(M,ak)ak=a(2,ak,\"table\",\"nil\")or{}a.field(ak,\"compact\",\"boolean\",\"nil\")a.field(ak,\"allow_repetitions\",\"boolean\",\"nil\")return au(M,{},ak,1)end;function e.unserialize(E)a(1,E,\"string\")return assert(load(\"return \"..E,\"=unserialize\",\"t\",{}))()end;function e.urlEncode(G)a(1,G,\"string\")return G:gsub(\"\\n\",\"\\r\\n\"):gsub(\"([^A-Za-z0-9 %-%_%.])\",function(l)local Q=l:byte()if Q<128 then return(\"%%%02X\"):format(Q)else return(\"%%%02X%%%02X\"):format(bit32.rshift(Q,6)+0xC0,bit32.band(Q,0x3F)+0x80)end end):gsub(\" \",\"+\")end;function e.complete(ax,ay)error(\"Not implemented\")end;e.serialise=e.serialize;e.unserialise=e.unserialize;e.serialiseJSON=e.serializeJSON;e.unserialiseJSON=e.unserializeJSON;return e\n\nvector.lua/     0           0     0     644     1002      `\nlocal a={}local b={__name=\"vector\",__index=a}local function c(d,e,f)return setmetatable({x=tonumber(d)or 0,y=tonumber(e)or 0,z=tonumber(f)or 0},b)end;function a:add(g)return c(self.x+g.x,self.y+g.y,self.z+g.z)end;b.__add=a.add;function a:sub(g)return c(self.x-g.x,self.y-g.y,self.z-g.z)end;b.__sub=a.sub;function a:mul(h)return c(self.x*h,self.y*h,self.z*h)end;b.__mul=a.mul;function a:div(h)return c(self.x/h,self.y/h,self.z/h)end;b.__div=a.div;function a:unm()return c(-self.x,-self.y,-self.z)end;b.__unm=a.unm;function a:dot(g)return self.x*g.x+self.y*g.y+self.z*g.z end;function a:cross(g)return c(self.y*g.z-self.z*g.y,self.z*g.x-self.x*g.z,self.x*g.y-self.y*g.x)end;function a:length()return math.sqrt(self.x*self.x+self.y*self.y+self.z*self.z)end;function a:normalize()return self:mul(1/self:length())end;function a:tostring()return self.x..\",\"..self.y..\",\"..self.z end;b.__tostring=a.tostring;function a:equals(g)return self.x==g.x and self.y==g.y and self.z==g.z end;b.__eq=a.eq;return{new=c}\nwindow.lua/     0           0     0     644     7320      `\nlocal a=require\"cc.expect\"return{new=function(b,c,d,e,f,g)a(1,b,\"table\")a(2,c,\"number\")a(3,d,\"number\")a(4,e,\"number\")a(5,f,\"number\")a(6,g,\"boolean\",\"nil\")if g==nil then g=true end;local h={width=e,height=f}local i={cursor={x=1,y=1},cursorBlink=false,colors={fg='0',bg='f'},palette={},dirtyLines={},dirtyPalette={}}for j=1,h.height do i[j]={(' '):rep(h.width),('0'):rep(h.width),('f'):rep(h.width)}i.dirtyLines[j]=true end;if b then for k=0,15 do i.palette[k]={b.getPaletteColor(k)}i.dirtyPalette[k]=true end else i.palette={[0]={0.94117647058824,0.94117647058824,0.94117647058824},{0.94901960784314,0.69803921568627,0.2},{0.89803921568627,0.49803921568627,0.84705882352941},{0.6,0.69803921568627,0.94901960784314},{0.87058823529412,0.87058823529412,0.42352941176471},{0.49803921568627,0.8,0.098039215686275},{0.94901960784314,0.69803921568627,0.8},{0.29803921568627,0.29803921568627,0.29803921568627},{0.6,0.6,0.6},{0.29803921568627,0.6,0.69803921568627},{0.69803921568627,0.4,0.89803921568627},{0.2,0.4,0.8},{0.49803921568627,0.4,0.29803921568627},{0.34117647058824,0.65098039215686,0.30588235294118},{0.8,0.29803921568627,0.29803921568627},{0.066666666666667,0.066666666666667,0.066666666666667}}for k=0,15 do i.dirtyPalette[k]=true end end;local l=setmetatable({},{__name=\"Terminal\"})function l.close()end;function l.write(m)m=tostring(m)a(1,m,\"string\")if i.cursor.y<1 or i.cursor.y>h.height then return elseif i.cursor.x>h.width or i.cursor.x+#m<1 then i.cursor.x=i.cursor.x+#m;return elseif i.cursor.x<1 then m=m:sub(-i.cursor.x+2)i.cursor.x=1 end;local n=#m;if i.cursor.x+#m>h.width then m=m:sub(1,h.width-i.cursor.x+1)end;i[i.cursor.y][1]=i[i.cursor.y][1]:sub(1,i.cursor.x-1)..m..i[i.cursor.y][1]:sub(i.cursor.x+#m)i[i.cursor.y][2]=i[i.cursor.y][2]:sub(1,i.cursor.x-1)..i.colors.fg:rep(#m)..i[i.cursor.y][2]:sub(i.cursor.x+#m)i[i.cursor.y][3]=i[i.cursor.y][3]:sub(1,i.cursor.x-1)..i.colors.bg:rep(#m)..i[i.cursor.y][3]:sub(i.cursor.x+#m)i.cursor.x=i.cursor.x+n;i.dirtyLines[i.cursor.y]=true;l.redraw()end;function l.blit(m,o,p)m=tostring(m)a(1,m,\"string\")a(2,o,\"string\")a(3,p,\"string\")if#m~=#o or#o~=#p then error(\"Arguments must be the same length\",2)end;if i.cursor.y<1 or i.cursor.y>h.height then return elseif i.cursor.x>h.width or i.cursor.x<1-#m then i.cursor.x=i.cursor.x+#m;l.redraw()return elseif i.cursor.x<1 then m,o,p=m:sub(-i.cursor.x+2),o:sub(-i.cursor.x+2),p:sub(-i.cursor.x+2)i.cursor.x=1 end;local n=#m;if i.cursor.x+#m>h.width then m,o,p=m:sub(1,h.width-i.cursor.x+1),o:sub(1,h.width-i.cursor.x+1),p:sub(1,h.width-i.cursor.x+1)end;i[i.cursor.y][1]=i[i.cursor.y][1]:sub(1,i.cursor.x-1)..m..i[i.cursor.y][1]:sub(i.cursor.x+#m)i[i.cursor.y][2]=i[i.cursor.y][2]:sub(1,i.cursor.x-1)..o..i[i.cursor.y][2]:sub(i.cursor.x+#o)i[i.cursor.y][3]=i[i.cursor.y][3]:sub(1,i.cursor.x-1)..p..i[i.cursor.y][3]:sub(i.cursor.x+#p)i.cursor.x=i.cursor.x+n;i.dirtyLines[i.cursor.y]=true;l.redraw()end;function l.clear()for j=1,h.height do i[j]={(' '):rep(h.width),i.colors.fg:rep(h.width),i.colors.bg:rep(h.width)}i.dirtyLines[j]=true end;l.redraw()end;function l.clearLine()if i.cursor.y>=1 and i.cursor.y<=h.height then i[i.cursor.y]={(' '):rep(h.width),i.colors.fg:rep(h.width),i.colors.bg:rep(h.width)}i.dirtyLines[i.cursor.y]=true;l.redraw()end end;function l.getCursorPos()return i.cursor.x,i.cursor.y end;function l.setCursorPos(q,r)a(1,q,\"number\")a(2,r,\"number\")if q==i.cursor.x and r==i.cursor.y then return end;i.cursor.x,i.cursor.y=math.floor(q),math.floor(r)l.redraw()end;function l.getCursorBlink()return i.cursorBlink end;function l.setCursorBlink(s)a(1,s,\"boolean\")i.cursorBlink=s;l.redraw()end;function l.isColor()return true end;function l.getSize()return h.width,h.height end;function l.scroll(t)a(1,t,\"number\")if math.abs(t)>=h.width then for j=1,h.height do i[j]={(' '):rep(h.width),i.colors.fg:rep(h.width),i.colors.bg:rep(h.width)}end elseif t>0 then for k=t+1,h.height do i[k-t]=i[k]end;for k=h.height-t+1,h.height do i[k]={(' '):rep(h.width),i.colors.fg:rep(h.width),i.colors.bg:rep(h.width)}end elseif t<0 then for k=1,h.height+t do i[k-t]=i[k]end;for k=1,-t do i[k]={(' '):rep(h.width),i.colors.fg:rep(h.width),i.colors.bg:rep(h.width)}end else return end;for k=1,h.height do i.dirtyLines[k]=true end;l.redraw()end;function l.getTextColor()return tonumber(i.colors.fg)end;function l.setTextColor(u)a(1,u,\"number\")a.range(u,0,15)i.colors.fg=(\"%x\"):format(u)end;function l.getBackgroundColor()return tonumber(i.colors.bg)end;function l.setBackgroundColor(u)a(1,u,\"number\")a.range(u,0,15)i.colors.bg=(\"%x\"):format(u)end;function l.getPaletteColor(u)a(1,u,\"number\")a.range(u,0,15)return table.unpack(i.palette[math.floor(u)])end;function l.setPaletteColor(u,v,w,s)a(1,u,\"number\")a(2,v,\"number\")if w==nil and s==nil then v,w,s=bit32.band(bit32.rshift(v,16),0xFF)/255,bit32.band(bit32.rshift(v,8),0xFF)/255,bit32.band(v,0xFF)/255 end;a(3,w,\"number\")a(4,s,\"number\")a.range(u,0,15)if v<0 or v>1 then error(\"bad argument #2 (value out of range)\",2)end;if w<0 or w>1 then error(\"bad argument #3 (value out of range)\",2)end;if s<0 or s>1 then error(\"bad argument #4 (value out of range)\",2)end;i.palette[math.floor(u)]={v,w,s}i.dirtyPalette[math.floor(u)]=true;l.redraw()end;function l.getLine(j)a(1,j,\"number\")local x=i[j]return x and table.unpack(x,1,3)end;function l.getPosition()return c,d end;function l.reposition(y,j,e,f,z)a(1,y,\"number\",\"nil\")a(2,j,\"number\",\"nil\")c=y or c;d=j or d;if z then l.reparent(z)end;if y or j then l.redraw(true)end;if e or f then return l.resize(e,f)end end;function l.resize(A,B)a(1,A,\"number\",\"nil\")a(2,B,\"number\",\"nil\")if A>h.width then for j=1,h.height do i[j][1]=i[j][1]..(' '):rep(A-h.width)i[j][2]=i[j][2]..i.colors.fg:rep(A-h.width)i[j][3]=i[j][3]..i.colors.bg:rep(A-h.width)i.dirtyLines[j]=true end elseif A<h.width then for j=1,h.height do i[j][1]=i[j][1]:sub(1,A)i[j][2]=i[j][2]:sub(1,A)i[j][3]=i[j][3]:sub(1,A)end end;h.width=A;if B>h.height then for j=h.height+1,B do i[j]={(' '):rep(A),i.colors.fg:rep(A),i.colors.bg:rep(A)}i.dirtyLines[j]=true end elseif B<h.height then for j=B+1,h.height do i[j]=nil end end;h.height=B end;function l.reparent(z)a(1,z,\"Terminal\",\"nil\")b=z;l.redraw()end;function l.redraw(C)if not b or not g then return end;b.setCursorBlink(false)if C then b.clear()for j=1,h.height do b.setCursorPos(c,d+j-1)b.blit(i[j][1],i[j][2],i[j][3])end;for k=0,15 do b.setPaletteColor(k,i.palette[k][1],i.palette[k][2],i.palette[k][3])end else for j in pairs(i.dirtyLines)do b.setCursorPos(c,d+j-1)if#i[j][1]~=#i[j][2]or#i[j][2]~=#i[j][3]then error(\"Internal error: Invalid lengths\")end;b.blit(i[j][1],i[j][2],i[j][3])end;for k in pairs(i.dirtyPalette)do b.setPaletteColor(k,i.palette[k][1],i.palette[k][2],i.palette[k][3])end end;b.setCursorPos(c+i.cursor.x-1,d+i.cursor.y-1)b.setCursorBlink(i.cursorBlink)i.dirtyLines,i.dirtyPalette={},{}end;function l.restoreCursor()if not b or not g then return end;b.setCursorPos(c+i.cursor.x-1,d+i.cursor.y-1)b.setCursorBlink(i.cursorBlink)end;function l.isVisible()return g end;function l.setVisible(D)a(1,D,\"boolean\")g=D;l.redraw()end;l.isColour=l.isColor;l.getTextColour=l.getTextColor;l.setTextColour=l.setTextColor;l.getBackgroundColour=l.getBackgroundColor;l.setBackgroundColour=l.setBackgroundColor;l.getPaletteColour=l.getPaletteColor;l.setPaletteColour=l.setPaletteColor;l.redraw()return l end}\n_handles.lua/   0           0     0     644     39        `\nreturn{http={},websocket={},rednet={}}\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=51142},["startmgr.lua"]={created=1688258028536,type="file",modified=1688258026746,data="local a=require\"system.expect\"local b=require\"system.ipc\"local c=require\"system.process\"local d={}local function e(f,g,h)h=h or c.getuser()local i=b.lookup(h==\"root\"and\"ServiceManager\"or\"ServiceManager.\"..h)if not i then error(\"Could not connect to service manager\",2)end;b.sendEvent(i,\"startmgr.request\",{func=f,param=g})while true do local j,k=b.receiveEvent(i,\"startmgr.response\",5)if not k then error(\"Timed out waiting for service manager\",2)end;if k.func==f then if k.ok then return table.unpack(k.result)else error(k.error,3)end end end end;function d.start(l,h)a(1,l,\"string\")a(2,h,\"string\",\"nil\")return e(\"start\",l,h)end;function d.stop(l,h)a(1,l,\"string\")a(2,h,\"string\",\"nil\")return e(\"stop\",l,h)end;function d.kill(l,h)a(1,l,\"string\")a(2,h,\"string\",\"nil\")return e(\"kill\",l,h)end;function d.restart(l,h)a(1,l,\"string\")a(2,h,\"string\",\"nil\")return e(\"restart\",l,h)end;function d.reload(l,h)a(1,l,\"string\",\"nil\")a(2,h,\"string\",\"nil\")return e(\"reload\",l,h)end;function d.add(m,h)a(1,m,\"string\")a(2,h,\"string\",\"nil\")return e(\"add\",m,h)end;function d.remove(l,h)a(1,l,\"string\")a(2,h,\"string\",\"nil\")return e(\"remove\",l,h)end;function d.list(h)a(1,h,\"string\",\"nil\")return e(\"list\",nil,h)end;function d.status(l,h)a(1,l,\"string\")a(2,h,\"string\",\"nil\")return e(\"status\",l,h)end;function d.install(l,h)a(1,l,\"string\")a(2,h,\"string\",\"nil\")return e(\"install\",l,h)end;function d.uninstall(l,h)a(1,l,\"string\")a(2,h,\"string\",\"nil\")return e(\"uninstall\",l,h)end;function d.shutdown()if c.getuser()~=\"root\"then error(\"Permission denied\")end;return e(\"shutdown\",{},\"root\")end;function d.reboot()if c.getuser()~=\"root\"then error(\"Permission denied\")end;return e(\"reboot\",{},\"root\")end;return d\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1682},["libcc.a"]={created=1688258010623,type="file",modified=1688258010583,data="!<arch>\naudio.dfpwm.lua/0           0     0     644     1285      `\nlocal a=require\"expect\".expect;local b,c,d,e,f=string.char,string.byte,math.floor,bit32.band,bit32.arshift;local g=10;local h=2^g;local i=2^(g-1)local j=2^(g-8+1)local function k()local l,m,n=0,0,false;return function(o)local p=o and 127 or-128;local q=l+d((m*(p-l)+i)/h)if q==l and q~=p then q=q+(o and 1 or-1)end;local r=o==n and h-1 or 0;local s=m;if s~=r then s=s+(o==n and 1 or-1)end;if s<j then s=j end;l,m,n=q,s,o;return l end end;local function t()local u=k()local v=0;return function(w)a(1,w,\"table\")local x,y={},0;for z=1,#w,8 do local A=0;for B=0,7 do local C=d(w[z+B]or 0)if C>127 or C<-128 then error((\"Amplitude at position %d was %d, but should be between -128 and 127\"):format(z+B,C),2)end;local o=C>v or C==v and C==127;A=d(A/2)+(o and 128 or 0)v=u(o)end;y=y+1;x[y]=b(A)end;return table.concat(x,\"\",1,y)end end;local function D()local u=k()local E=0;local v,n=0,false;return function(w,x)a(1,w,\"string\")local x,y={},0;for z=1,#w do local F=c(w,z)for G=1,8 do local o=e(F,1)~=0;local l=u(o)local H=l;if o~=n then H=d((l+v+1)/2)end;v,n=l,o;E=E+d(((H-E)*140+0x80)/256)y=y+1;x[y]=E;F=f(F,1)end end;return x end end;local function I(w)a(1,w,\"string\")return D()(w)end;local function J(w)a(1,w,\"table\")return t()(w)end;return{make_encoder=t,encode=J,make_decoder=D,decode=I}\n\nexpect.lua/     0           0     0     644     1273      `\nlocal a={}local b={[\"nil\"]=true,boolean=true,number=true,string=true,table=true,[\"function\"]=true,userdata=true,thread=true}local function c(d,e,...)local f=type(e)local g;if f==\"table\"then local h=getmetatable(e)if h then g=h.__name end end;local i=table.pack(...)for j,k in ipairs(i)do if b[k]then if f==k then return e end elseif g==k then return e end end;local l=debug.getinfo(2,\"n\")if l and l.name and l.name~=\"\"then d=d..\" to '\"..l.name..\"'\"end;local m;if i.n==1 then m=i[1]elseif i.n==2 then m=i[1]..\" or \"..i[2]else m=table.concat(i,\", \",1,i.n-1)..\", or \"..i[i.n]end;error(d..\" (expected \"..m..\", got \"..f..\")\",3)end;function a.expect(n,e,...)return c(\"bad argument #\"..n,e,...)end;function a.field(o,p,...)local q,r=pcall(string.format,\"%q\",p)if not q then r=tostring(p)end;return c(\"bad field \"..r,o[p],...)end;function a.range(s,t,u)a.expect(1,s,\"number\")a.expect(2,t,\"number\",\"nil\")a.expect(3,u,\"number\",\"nil\")if u and t and u<t then error(\"bad argument #3 (min must be less than or equal to max)\",2)end;if s~=s or s<(t or-math.huge)or s>(u or math.huge)then error((\"number outside of range (expected %s to be within %s and %s)\"):format(s,t or-math.huge,u or math.huge),3)end;return s end;return setmetatable(a,{__call=function(j,...)return a.expect(...)end})\n\nimage.nft.lua/  0           0     0     644     943       `\nlocal a=require\"expect\".expect;local function b(c)a(1,c,\"string\")local d={}local e=1;local f=\"0\"local g=\"f\"local h,i=1,#c;while h<=i do local j=c:sub(h,h)if j==\"\\31\"and h<i then h=h+1;f=c:sub(h,h)elseif j==\"\\30\"and h<i then h=h+1;g=c:sub(h,h)elseif j==\"\\n\"then if d[e]==nil then d[e]={text=\"\",foreground=\"\",background=\"\"}end;e=e+1;f,g=\"0\",\"f\"else local k=c:find(\"[\\n\\30\\31]\",h)or#c+1;local l=k-h;local m=d[e]if m==nil then m={foreground=\"\",background=\"\",text=\"\"}d[e]=m end;m.text=m.text..c:sub(h,k-1)m.foreground=m.foreground..f:rep(l)m.background=m.background..g:rep(l)h=k-1 end;h=h+1 end;return d end;local function n(o)a(1,o,\"string\")local p,q=io.open(o,\"r\")if not p then return nil,q end;local d=p:read(\"*a\")p:close()return b(d)end;local function r(c,s,t,u)a(1,c,\"table\")a(2,s,\"number\")a(3,t,\"number\")a(4,u,\"table\")for v,e in ipairs(c)do u.setCursorPos(s,t+v-1)u.blit(e.text,e.foreground,e.background)end end;return{parse=b,load=n,draw=r}\n\npretty.lua/     0           0     0     644     6449      `\nlocal term=term or require\"craftos.term\"local a=require\"expect\"local a,b=a.expect,a.field;local type,getmetatable,setmetatable,colours,c,tostring=type,getmetatable,setmetatable,colours,write,tostring;local d,e=debug.getinfo,debug.getlocal;local function f(g,h)local i=g.n+1;g[i],g.n=h,i end;local j={}local function k(l)return setmetatable(l,j)end;local m=k({tag=\"nil\"})local n=k({tag=\"text\",text=\" \"})local o=k({tag=\"line\",flat=m})local p=k({tag=\"line\",flat=n})local q={[\"\"]=m,[\" \"]=n,[\"\\n\"]=p}local function r(s,t)return q[s]or setmetatable({tag=\"text\",text=s,colour=t},j)end;local function s(s,t)a(1,s,\"string\")a(2,t,\"number\",\"nil\")local u=q[s]if u then return u end;local v=s:find(\"\\n\",1)if not v then return r(s,t)end;local w=setmetatable({tag=\"concat\",n=0},j)if v~=1 then f(w,r(s:sub(1,v-1),t))end;v=v+1;while true do local x=s:find(\"\\n\",v)f(w,p)if not x then if v<=#s then f(w,r(s:sub(v),t))end;return w else if v<=x-1 then f(w,r(s:sub(v,x-1),t))end;v=x+1 end end end;local function y(...)local z=table.pack(...)for A=1,z.n do if type(z[A])==\"string\"then z[A]=s(z[A])end;if getmetatable(z[A])~=j then a(A,z[A],\"document\")end end;if z.n==0 then return m end;if z.n==1 then return z[1]end;z.tag=\"concat\"return setmetatable(z,j)end;j.__concat=y;local function B(C,w)a(1,C,\"number\")if getmetatable(w)~=j then a(2,w,\"document\")end;if C<=0 then error(\"depth must be a positive number\",2)end;return setmetatable({tag=\"nest\",depth=C,w},j)end;local function D(w)if w.flat then return w.flat end;local E=w.tag;if E==\"nil\"or E==\"text\"then return w elseif E==\"concat\"then local g=setmetatable({tag=\"concat\",n=w.n},j)for A=1,w.n do g[A]=D(w[A])end;w.flat,g.flat=g,g;return g elseif E==\"nest\"then return D(w[1])elseif E==\"group\"then return w[1]else error(\"Unknown doc \"..E)end end;local function F(w)if getmetatable(w)~=j then a(1,w,\"document\")end;if w.tag==\"group\"then return w end;local G=D(w)if G==w then return w end;return setmetatable({tag=\"group\",G,w},j)end;local function H(w,I)local E=w.tag;if E==\"nil\"or E==\"line\"then return I elseif E==\"text\"then return I-#w.text elseif E==\"concat\"then for A=1,w.n do I=H(w[A],I)if I<0 then break end end;return I elseif E==\"group\"or E==\"nest\"then return H(E[1])else error(\"Unknown doc \"..E)end end;local function write(w,J)if getmetatable(w)~=j then a(1,w,\"document\")end;a(2,J,\"number\",\"nil\")local term=term;local I,K=term.getSize()local L=(J or 0.6)*I;if L<0 then L=0 end;if L>I then L=I end;local M=term.getTextColour()local N=M;local function O(w,P,Q)local E=w.tag;if E==\"nil\"then return Q elseif E==\"text\"then local R=w.colour or M;if R~=N then term.setTextColour(R)N=R end;c(w.text)return Q+#w.text elseif E==\"line\"then local S,T=term.getCursorPos()if T<K then term.setCursorPos(P+1,T+1)else term.scroll(1)term.setCursorPos(P+1,K)end;return P elseif E==\"concat\"then for A=1,w.n do Q=O(w[A],P,Q)end;return Q elseif E==\"nest\"then return O(w[1],P+w.depth,Q)elseif E==\"group\"then if H(w[1],math.min(I,L+P)-Q)>=0 then return O(w[1],P,Q)else return O(w[2],P,Q)end else error(\"Unknown doc \"..E)end end;local Q=math.max(term.getCursorPos()-1,0)O(w,0,Q)if N~=M then term.setTextColour(M)end end;local function U(w,J)if getmetatable(w)~=j then a(1,w,\"document\")end;a(2,J,\"number\",\"nil\")write(w,J)c(\"\\n\")end;local function V(w,I,J)if getmetatable(w)~=j then a(1,w,\"document\")end;a(2,I,\"number\",\"nil\")a(3,J,\"number\",\"nil\")local L;if I then L=(J or 0.6)*I;if L<0 then L=0 end;if L>I then L=I end end;local g={n=0}local function O(w,P,Q)local E=w.tag;if E==\"nil\"then return Q elseif E==\"text\"then f(g,w.text)return Q+#w.text elseif E==\"line\"then f(g,\"\\n\"..(\" \"):rep(P))return P elseif E==\"concat\"then for A=1,w.n do Q=O(w[A],P,Q)end;return Q elseif E==\"nest\"then return O(w[1],P+w.depth,Q)elseif E==\"group\"then if not I or H(w[1],math.min(I,L+P)-Q)>=0 then return O(w[1],P,Q)else return O(w[2],P,Q)end else error(\"Unknown doc \"..E)end end;O(w,0,0)return table.concat(g,\"\",1,g.n)end;j.__tostring=V;local W={[\"and\"]=true,[\"break\"]=true,[\"do\"]=true,[\"else\"]=true,[\"elseif\"]=true,[\"end\"]=true,[\"false\"]=true,[\"for\"]=true,[\"function\"]=true,[\"if\"]=true,[\"in\"]=true,[\"local\"]=true,[\"nil\"]=true,[\"not\"]=true,[\"or\"]=true,[\"repeat\"]=true,[\"return\"]=true,[\"then\"]=true,[\"true\"]=true,[\"until\"]=true,[\"while\"]=true}local X=s(\",\")local Y=s(\"{}\")local Z,_=s(\"{\"),s(\"}\")local a0,a1=s(\"[\"),s(\"] = \")local function a2(a3,a4)local a5,a6=type(a3),type(a4)if a5==\"string\"then return a6~=\"string\"or a3<a4 elseif a6==\"string\"then return false end;if a5==\"number\"then return a6~=\"number\"or a3<a4 end;return false end;local function a7(a8,a9)local aa=d and d(a8,\"Su\")local ab;if a9.function_source and aa and aa.short_src and aa.linedefined and aa.linedefined>=1 then ab=\"function<\"..aa.short_src..\":\"..aa.linedefined..\">\"else ab=tostring(a8)end;if a9.function_args and aa and aa.what==\"Lua\"and aa.nparams and e then local z={}for A=1,aa.nparams do z[A]=e(a8,A)or\"?\"end;if aa.isvararg then z[#z+1]=\"...\"end;ab=ab..\"(\"..table.concat(z,\", \")..\")\"end;return ab end;local function ac(ad,a9,ae)local af=type(ad)if af==\"string\"then local ag=(\"%q\"):format(ad):gsub(\"\\\\\\n\",\"\\\\n\")return s(ag,colours.red)elseif af==\"number\"then return s(tostring(ad),colours.magenta)elseif af==\"function\"then return s(a7(ad,a9),colours.lightGrey)elseif af~=\"table\"or ae[ad]then return s(tostring(ad),colours.lightGrey)elseif getmetatable(ad)~=nil and getmetatable(ad).__tostring then return s(tostring(ad))elseif next(ad)==nil then return Y else ae[ad]=true;local w=setmetatable({tag=\"concat\",n=1,p},j)local ah,ai,aj=#ad,{},1;for ak in pairs(ad)do if type(ak)~=\"number\"or ak%1~=0 or ak<1 or ak>ah then ai[aj],aj=ak,aj+1 end end;table.sort(ai,a2)for A=1,ah do if A>1 then f(w,X)f(w,p)end;f(w,ac(ad[A],a9,ae))end;for A=1,aj-1 do if A>1 or ah>=1 then f(w,X)f(w,p)end;local ak=ai[A]local al=ad[ak]if type(ak)==\"string\"and not W[ak]and ak:match(\"^[%a_][%a%d_]*$\")then f(w,s(ak..\" = \"))f(w,ac(al,a9,ae))else f(w,a0)f(w,ac(ak,a9,ae))f(w,a1)f(w,ac(al,a9,ae))end end;ae[ad]=nil;return F(y(Z,B(2,y(table.unpack(w,1,w.n))),p,_))end end;local function am(ad,a9)a(2,a9,\"table\",\"nil\")a9=a9 or{}local an={function_source=b(a9,\"function_source\",\"boolean\",\"nil\")or false,function_args=b(a9,\"function_args\",\"boolean\",\"nil\")or false}return ac(ad,an,{})end;local function ao(ad,a9,J)a(2,a9,\"table\",\"nil\")a9=a9 or{}a(3,J,\"number\",\"nil\")return U(am(ad,a9),J)end;return{empty=m,space=n,line=o,space_line=p,text=s,concat=y,nest=B,group=F,write=write,print=U,render=V,pretty=am,pretty_print=ao}\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=10202}},modified=1688258077644,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},tmp={created=1688258089253,type="directory",contents={},modified=1688258089253,owner="root",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},size=0},root={created=1688258089253,type="directory",contents={},modified=1688258089253,owner="root",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},size=0},home={created=1688258078490,type="directory",contents={phoenix={created=1688258094727,type="directory",contents={[".cashrc"]={created=1688258078620,type="file",modified=1688258078620,data="PS1=\"\\033[1;32m\\u@\\h\\033[39m:\\033[34m\\W\\033[0m\\$ \"",setuser=false,permissions={phoenix={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="phoenix",size=50}},modified=1688258094727,setuser=false,permissions={root={execute=true,read=true,write=true},phoenix={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="phoenix",size=0}},modified=1688258078490,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},var={created=1688258005299,type="directory",contents={lib={created=1688258005299,type="directory",contents={dpkg={created=1688258077710,type="directory",contents={status={created=1688258077744,type="file",modified=1688258077744,data="Package: typescript\nArchitecture: phoenix\nVersion: 1.10.1-1\nSection: libraries\nStatus: install ok installed\nPriority: optional\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nHomepage: https://typescript-to-lua.github.io\nDescription: TypeScriptToLua library features bundle\n Provides important polyfills to allow TypeScript code to run on Lua platforms.To use, set \"luaLibImport\" to \"require\" in tsconfig.json, and either set\"luaLibName\" to \"typescript\" (requires @jackmacwindows/typescript-to-lua), orreplace `require(\"lualib-bundle\")` with `require(\"typescript\")` in generatedfiles.\n\nPackage: initrd-utils\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nVersion: 0.1-1\nSection: admin\nStatus: install ok installed\nPriority: optional\nRequires: libsystem\nArchitecture: phoenix\nDescription: initrd management tools\n Contains a collection of utility programs to createand manage initial ramdisk (initrd) files.\n\nPackage: pxboot\nEssential: yes\nVersion: 0.1.1-1\nSection: admin\nStatus: install ok installed\nPriority: required\nArchitecture: phoenix\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nDescription: Multipurpose bootloader for ComputerCraft\n A bootloader for ComputerCraft operating systemswith built-in UnBIOS functionality, a configurableselection menu, and more. Designed for Phoenix,but supports other OSes as well, including CraftOS.\n\nPackage: yahtcc\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nVersion: 1.0-2\nSection: games\nStatus: install ok installed\nPriority: optional\nRequires: libsystem\nArchitecture: phoenix\nDescription: Yahtzee game for Phoenix\n Yahtzee game for Phoenix\n\nPackage: dpkg\nDepends: ar, diff, libdeflate, libsystem, muxzcat, sha2, tar\nVersion: 0.2.2-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: required\nArchitecture: phoenix\nSection: admin\nDescription: Debian Package Manager for Phoenix\n A port of the Debian Package Manager to thePhoenix operating system, written in Lua.\n\nPackage: startmgr\nEssential: yes\nDepends: libsystem\nVersion: 0.1.1-2\nSection: admin\nStatus: install ok installed\nPriority: standard\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nArchitecture: phoenix\nDescription: Phoenix service manager and init system\n Provides automatic service management facilitiesfor Phoenix systems.\n\nPackage: tar\nDepends: libsystem\nVersion: 1.0.1-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: important\nArchitecture: phoenix\nSection: utils\nDescription: TAR archive format library and program\n Allows creating and extracting TAR archives.\n\nPackage: diff\nDepends: libsystem\nVersion: 1.0-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: important\nSection: utils\nArchitecture: phoenix\nDescription: File comparison library and utility\n Provides a library for comparing files, as well asprograms for comparing and patching using the lib.\n\nPackage: libdeflate\nVersion: 1.0.2-1\nArchitecture: phoenix\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nPriority: optional\nStatus: install ok installed\nSection: libraries\nDescription: DEFLATE/zlib compression library\n Provides compression and decompression for DEFLATEformatted archives, including zlib and gzip files.\n\nPackage: ccryptolib\nDepends: libsystem\nVersion: 1.0.0-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: optional\nArchitecture: phoenix\nSection: libraries\nDescription: cryptography library for Phoenix\n An integrated collection of cryptographic primitives written in Lua usingthe ComputerCraft/Phoenix system API.\n\nPackage: baseutils\nDepends: libsystem\nVersion: 0.1.3-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: important\nSection: utils\nArchitecture: phoenix\nDescription: base utility set for Phoenix\n Contains a standard set of POSIX utilities for Phoenix.\n\nPackage: phoenix-docs\nSection: doc\nVersion: 0.0.4-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nPriority: optional\nStatus: install ok installed\nArchitecture: all\nDescription: Documentation files for Phoenix\n Contains manual files for Phoenix syscalls andkernel API functions, libsystem modules, andbaseutils programs. These are separated from themain packages to save space.\n\nPackage: spanfs\nDepends: libsystem\nVersion: 0.1-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: optional\nArchitecture: phoenix\nSection: kernel\nDescription: Spanning filesystem kernel module & utilities\n spanfs provides a RAID-like spanning filesystemthat allows concatenating multiple disk drivesinto a single large virtual disk. One disk storesan index file containing the filesystem structure,and the file data is spread across the rest of thedisks.\n\nPackage: libsystem\nEssential: yes\nVersion: 0.1.2-1\nSection: libraries\nStatus: install ok installed\nPriority: required\nArchitecture: phoenix\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nDescription: System libraries for Phoenix\n Provides convenient wrapper functions for usingPhoenix syscalls, as well as various usefulcomponents for programs.\n\nPackage: phoenix\nEssential: yes\nVersion: 0.0.4-1\nSection: kernel\nStatus: install ok installed\nPriority: required\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nArchitecture: phoenix\nDescription: Phoenix kernel\n The kernel for the Phoenix operating system.\n\nPackage: sha2\nArchitecture: phoenix\nVersion: 12-2\nSection: libraries\nStatus: install ok installed\nPriority: optional\nRequires: libsystem\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nDescription: SHA-1, SHA-2, SHA-3, BLAKE2 and BLAKE3 functions written in pure Lua and optimized for speed.\n This module contains functions to calculate SHA digest:   MD5, SHA-1,   SHA-224, SHA-256, SHA-512/224, SHA-512/256, SHA-384, SHA-512,   SHA3-224, SHA3-256, SHA3-384, SHA3-512, SHAKE128, SHAKE256,   HMAC,   BLAKE2b, BLAKE2s, BLAKE2bp, BLAKE2sp, BLAKE2Xb, BLAKE2Xs,   BLAKE3, BLAKE3_KDFWritten in pure Lua.Compatible with:   Lua 5.1, Lua 5.2, Lua 5.3, Lua 5.4, Fengari, LuaJIT 2.0/2.1 (any CPU endianness).Main feature of this module: it was heavily optimized for speed.For every Lua version the module contains particular implementation branch to get benefits from version-specific features.   - branch for Lua 5.1 (emulating bitwise operators using look-up table)   - branch for Lua 5.2 (using bit32/bit library), suitable for both Lua 5.2 with native \"bit32\" and Lua 5.1 with external library \"bit\"   - branch for Lua 5.3/5.4 (using native 64-bit bitwise operators)   - branch for Lua 5.3/5.4 (using native 32-bit bitwise operators) for Lua built with LUA_INT_TYPE=LUA_INT_INT   - branch for LuaJIT without FFI library (useful in a sandboxed environment)   - branch for LuaJIT x86 without FFI library (LuaJIT x86 has oddity because of lack of CPU registers)   - branch for LuaJIT 2.0 with FFI library (bit.* functions work only with Lua numbers)   - branch for LuaJIT 2.1 with FFI library (bit.* functions can work with \"int64_t\" arguments)\n\nPackage: muxzcat\nVersion: 1.0-2\nArchitecture: phoenix\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nPriority: optional\nStatus: install ok installed\nSection: libraries\nDescription: LZMA/XZ decompression library\n Provides functions for decompressing LZMA and XZformat compressed files.\n\nPackage: ar\nDepends: libsystem\nVersion: 1.1-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: standard\nSection: utils\nArchitecture: phoenix\nDescription: ar archive format library and program\n Allows creating and extracting ar/.a archives.\n\nPackage: usermgr\nEssential: yes\nArchitecture: phoenix\nRequires: libsystem\nSection: admin\nStatus: install ok installed\nPriority: standard\nVersion: 0.1.2-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nDescription: user account manager\n Manager service to handle user accounts, includinglogin, passwords, creation, and deletion.\n\nPackage: libcraftos\nArchitecture: phoenix\nVersion: 0.2-1\nSection: libraries\nPriority: optional\nStatus: install ok installed\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nDescription: CraftOS compatibility library\n Provides CraftOS shim functions to allow runningCraftOS programs on Phoenix.\n\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=8384},triggers={created=1688258077070,type="directory",contents={Unincorp={created=1688258076737,type="file",modified=1688258076690,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},File={created=1688258021209,type="file",modified=1688258021209,data="/usr/share/man baseutils\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=25}},modified=1688258077070,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},info={created=1688258077644,type="directory",contents={["muxzcat.list"]={created=1688258012346,type="file",modified=1688258012346,data="/\n/usr/\n/usr/bin/\n/usr/bin/unxz.lua\n/usr/lib/\n/usr/lib/muxzcat.lua\n/usr/share/\n/usr/share/typescript/\n/usr/share/typescript/muxzcat/\n/usr/share/typescript/muxzcat/index.d.ts\n/usr/share/typescript/muxzcat/package.json\n/usr/share/typescript/muxzcat/tsconfig.json\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=261},["yahtcc.list"]={created=1688258071640,type="file",modified=1688258071640,data="/\n/usr/\n/usr/bin/\n/usr/bin/yahtcc.lua\n/usr/share/\n/usr/share/man/\n/usr/share/man/man6/\n/usr/share/man/man6/yahtcc.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=117},["usermgr.conffiles"]={created=1688258011479,type="file",modified=1688258011479,data="/etc/passwd\n/etc/shadow\n/etc/motd\n/etc/skel/.cashrc\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=52},["yahtcc.conffiles"]={created=1688258071670,type="file",modified=1688258071670,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["baseutils.postinst"]={created=1688258021286,type="file",modified=1688258021286,data="if ... == \"triggered\" then return coroutine.yield(\"syscall\", \"exec\", \"/bin/man.lua\", \"-u\") end",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=94},["pxboot.conffiles"]={created=1688258073114,type="file",modified=1688258073114,data="/boot/config.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=17},["muxzcat.conffiles"]={created=1688258012353,type="file",modified=1688258012353,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["libsystem.md5sums"]={created=1688258015146,type="file",modified=1688258015146,data="1a4060acec1a392b81078d12afd46ef1  usr/share/typescript/libsystem/process.d.ts\nc9eb82297fb15bf2d7cca40aec7eba53  usr/share/typescript/libsystem/serialization.d.ts\na2ea645869133f7ab6dfe6961bcccb1a  usr/share/typescript/libsystem/pretty.d.ts\n4fa314ff644018cb8838f1e213ea8d9d  usr/share/typescript/libsystem/expect.d.ts\ne58516eeb3bc4090706326acf586cc71  usr/share/typescript/libsystem/hardware.d.ts\n6f8db86201e70c32e9b6d1f813218ad0  usr/share/typescript/libsystem/graphics.d.ts\nfd2bbeb84b987e2f1bc279d1f15c05d6  usr/share/typescript/libsystem/package.json\n573b75065dda60741916857cf7b17513  usr/share/typescript/libsystem/framebuffer.d.ts\n320586c5b467a003dd3177db641f5c2d  usr/share/typescript/libsystem/sync.d.ts\n9cbd96707e27bcefacbc75bf87cc5573  usr/share/typescript/libsystem/util.d.ts\n12474a892bb1d30f64e1f274e9c3a73b  usr/share/typescript/libsystem/network.d.ts\n064cbb9bd225cc296c44ef60974315fe  usr/share/typescript/libsystem/tsconfig.json\n13f809f9dc9bf7dd58d94a1bdad99397  usr/share/typescript/libsystem/keys.d.ts\nd81e7cf55c0a24ff3a58f916c5b10b96  usr/share/typescript/libsystem/filesystem.d.ts\n9e76ea5763ad7ae1901a11abb0bbdc07  usr/share/typescript/libsystem/log.d.ts\nfc0ae55e645bdd157c4829244b1bb4ef  usr/share/typescript/libsystem/index.d.ts\n88077c468ece7574893942fbeb1f1a62  usr/share/typescript/libsystem/ipc.d.ts\n697ac27490e74cf0201d00488b6d2453  usr/share/typescript/libsystem/events.d.ts\n8f5d1a9405fb73a1092eb5285964f712  usr/share/typescript/libsystem/terminal.d.ts\n59c891cc8e690aab8d9118617ddff7ca  lib/libsystem.a\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1527},["initrd-utils.md5sums"]={created=1688258075997,type="file",modified=1688258075997,data="9e3969cffb4e6f97ccde4da9c8e8a72e  usr/bin/mktablefs.lua\n4c2f99a6afc19bce3295a727ed5e8eb7  usr/bin/update-initrd.lua\n16e35d7b06430c18002fdaaa097793c5  etc/initrd/hooks.d/10-init.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man8/update-initrd.md\nc737755eb7c50bccabd06de16ac53c0b  etc/initrd/hooks.d/00-modules.lua\n0fddcca5345e03354ce487ac30956628  etc/initrd/initrd.conf\nd8b1a2233c15c3046f0487033043371f  etc/initrd/hooks.d/01-files.lua\n9db39ca3f02b2edaf85d3592a5286fa2  etc/initrd/hooks.d/05-shell.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=508},["libsystem.list"]={created=1688258015119,type="file",modified=1688258015119,data="/\n/lib/\n/lib/libsystem.a\n/usr/\n/usr/share/\n/usr/share/typescript/\n/usr/share/typescript/libsystem/\n/usr/share/typescript/libsystem/events.d.ts\n/usr/share/typescript/libsystem/expect.d.ts\n/usr/share/typescript/libsystem/filesystem.d.ts\n/usr/share/typescript/libsystem/framebuffer.d.ts\n/usr/share/typescript/libsystem/graphics.d.ts\n/usr/share/typescript/libsystem/hardware.d.ts\n/usr/share/typescript/libsystem/index.d.ts\n/usr/share/typescript/libsystem/ipc.d.ts\n/usr/share/typescript/libsystem/keys.d.ts\n/usr/share/typescript/libsystem/log.d.ts\n/usr/share/typescript/libsystem/network.d.ts\n/usr/share/typescript/libsystem/package.json\n/usr/share/typescript/libsystem/pretty.d.ts\n/usr/share/typescript/libsystem/process.d.ts\n/usr/share/typescript/libsystem/serialization.d.ts\n/usr/share/typescript/libsystem/sync.d.ts\n/usr/share/typescript/libsystem/terminal.d.ts\n/usr/share/typescript/libsystem/tsconfig.json\n/usr/share/typescript/libsystem/util.d.ts\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=949},["startmgr.list"]={created=1688258028450,type="file",modified=1688258028450,data="/\n/etc/\n/etc/startmgr/\n/etc/startmgr/system/\n/etc/startmgr/system/startup.service\n/lib/\n/lib/startmgr.lua\n/sbin/\n/sbin/init.lua\n/sbin/shutdown.lua\n/sbin/startctl.lua\n/usr/\n/usr/share/\n/usr/share/man/\n/usr/share/man/man1/\n/usr/share/man/man1/shutdown.md\n/usr/share/man/man1/startctl.md\n/usr/share/man/man1/startmgr.md\n/usr/share/man/man3/\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=338},["diff.conffiles"]={created=1688258024486,type="file",modified=1688258024486,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["ar.list"]={created=1688258016023,type="file",modified=1688258016023,data="/\n/bin/\n/bin/ar.lua\n/lib/\n/lib/ar.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=38},["ar.conffiles"]={created=1688258016033,type="file",modified=1688258016033,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["ccryptolib.md5sums"]={created=1688258023976,type="file",modified=1688258023976,data="5a1ba5b6480199825ef0cfbff4d4c9e7  usr/lib/libccryptolib.a\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=58},["libcraftos.md5sums"]={created=1688258010609,type="file",modified=1688258010609,data="38b30f21e6f2b9ec4e65029c957c84ff  bin/shell.lua\n191ca4cf0fc3b7d0362f3caecf2ef411  lib/libcc.a\nb9039fbba433797be0d7abc0518a9d7c  lib/libcraftos.a\n2491e895910d32c9f82fcb6541fd3e34  bin/craftos.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=195},["startmgr.conffiles"]={created=1688258028470,type="file",modified=1688258028470,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["typescript.md5sums"]={created=1688258077644,type="file",modified=1688258077644,data="beabd769279b12ba09390a23e9f8a68e  lib/typescript.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=53},["pxboot.list"]={created=1688258073084,type="file",modified=1688258073084,data="/\n/boot/\n/boot/config.lua\n/boot/pxboot.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=43},["libcraftos.conffiles"]={created=1688258010606,type="file",modified=1688258010606,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["phoenix.md5sums"]={created=1688258013889,type="file",modified=1688258013889,data="9b5049d19cb1954655f9776d84efe3b6  boot/kernel.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=50},["diff.md5sums"]={created=1688258024506,type="file",modified=1688258024506,data="c861d0c4f89d14b794beb174269bcede  lib/diff.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=47},["spanfs.md5sums"]={created=1688258016756,type="file",modified=1688258016756,data="1500428c94799e469bf39de9cfe1d6b7  sbin/spaninfo.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man8/spaninfo.md\nb78e8fb6684d27488bfed036fa4aa6b1  usr/share/man/man8/mkspanfs.md\na4bea4541ff0476379aaf29fb7bdf6c8  lib/modules/spanfs.lua\n125e008924e81e287b896ca534c39a9c  sbin/mkspanfs.lua\nda4cc0b9de4f274cde762fdcf4960a78  usr/share/man/man7/spanfs.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=354},["typescript.conffiles"]={created=1688258077610,type="file",modified=1688258077610,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["tar.md5sums"]={created=1688258025913,type="file",modified=1688258025913,data="d41d8cd98f00b204e9800998ecf8427e  usr/share/man/man1/tar.md\n30746ebcd4553deb0b26ceee80967a53  bin/tar.lua\n8d5cffca8266e5a47fe9522c4388a306  lib/tar.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=152},["ar.md5sums"]={created=1688258016046,type="file",modified=1688258016046,data="2257836c7b93df60339c346161a45bc0  lib/ar.lua\n313f5e82958c0d8f26b6167440648acd  bin/ar.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=90},["usermgr.postinst"]={created=1688258011496,type="file",modified=1688258011496,data="if ... == \"configure\" then\n    coroutine.yield(\"syscall\", \"chmod\", \"/usr/bin/login.lua\", nil, {setuser = true})\n    coroutine.yield(\"syscall\", \"chmod\", \"/usr/bin/passwd.lua\", nil, {setuser = true})\n    coroutine.yield(\"syscall\", \"chmod\", \"/usr/bin/su.lua\", nil, {setuser = true})\n    coroutine.yield(\"syscall\", \"chmod\", \"/usr/bin/sudo.lua\", nil, {setuser = true})\n    return true\nelse return true end",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=400},["dpkg.md5sums"]={created=1688258068480,type="file",modified=1688258068480,data="c5a104541816bf417df68eabccb0c1ce  usr/lib/dpkg/query.lua\n5d0bddef9ef1639e91e070de955e8410  usr/lib/dpkg/init.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man8/dpkg.md\nba58b004afcc6edbe9f409f5b0877d33  usr/bin/dpkg-divert.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man8/update.md\n6a617ddbfa5a173f87869c8b98bb8fef  usr/lib/dpkg/deb.lua\n7ab5942b634f3516beec0fd93c1db386  usr/bin/components.lua\n637f90e0ca1924d17008cf6073e19887  usr/bin/dpkg-trigger.lua\nd5e27e7174a1fea197a7f2d6a4fe2335  usr/bin/dpkg-query.lua\n94f3f1673bbfa8596df3c7bd66bdb444  usr/bin/dpkg.lua\n574441cf032742c0a1b4a662b44d5f29  usr/lib/dpkg/trigger.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man8/components.md\n8ed0455495f6d0c4456249006281b069  usr/bin/dpkg-deb.lua\n0b9e4c3020d8d775a34920b3098eb458  usr/lib/dpkg/divert.lua\nddb74df4a7ad2b15c614ab754ee5f4a9  usr/bin/update.lua\n101c6d15615ceae8cda8691971362081  usr/lib/dpkg/control.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=925},["baseutils.conffiles"]={created=1688258021169,type="file",modified=1688258021169,data="/etc/fstab\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=11},["usermgr.md5sums"]={created=1688258011486,type="file",modified=1688258011486,data="d41d8cd98f00b204e9800998ecf8427e  usr/share/man/man1/su.md\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man3/usermgr.md\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man1/sudo.md\n07545683316f0460a4c2f937ef3f7296  usr/bin/passwd.lua\nb9639d9007a11093ec18491955fa1e73  usr/bin/login.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man1/passwd.md\na5753c9417f97ba3db5643e832d4081e  etc/motd\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man5/shadow.md\nd41d8cd98f00b204e9800998ecf8427e  etc/shadow\nd41d8cd98f00b204e9800998ecf8427e  etc/passwd\n347b4ebeab0ca5ff710065ae20ebe0cc  usr/bin/sudo.lua\n6cb4414705021b7bfd8c53a270b237ef  usr/bin/useradd.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man8/useradd.md\n82623dc508d076c29b0bb73deb041330  usr/lib/usermgr.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man8/usermod.md\n4adde33f29a34744772eeb0c470d34cf  usr/bin/usermod.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man8/usermgr.md\n7227799ce066ea96d86311868f2cf5e8  etc/startmgr/system/usermgr.service\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man8/userdel.md\n1953929dcde52061f67ee4bc1b58a580  usr/bin/userdel.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man5/motd.md\nd8aeba1e4d96de0c58510998624ce39f  etc/startmgr/system/startup.service.wants/login.service\n8e3f4a32f644fb9e3bf1cf03bf409ed1  usr/bin/su.lua\naf3c31f5dad89603d41beb445629bdb9  etc/skel/.cashrc\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man5/passwd.md\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man1/login.md\naf38a0fd306e366e0b804ff0b46674a1  usr/libexec/usermgr.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1575},["spanfs.conffiles"]={created=1688258016739,type="file",modified=1688258016739,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["libdeflate.md5sums"]={created=1688258063563,type="file",modified=1688258063563,data="c1cbba45def8419a15c76eb54e7927a4  usr/bin/gzip.lua\n9ab27810840ddae0b90ef4d0bc39d960  usr/lib/libdeflate.lua\n064cbb9bd225cc296c44ef60974315fe  usr/share/typescript/libdeflate/tsconfig.json\nac0f47ccf0ad97f990b37ee1b4f1e710  usr/share/typescript/libdeflate/package.json\n9a007a0a985a574c37720ec963c3527d  usr/share/typescript/libdeflate/index.d.ts\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=344},["sha2.list"]={created=1688258013193,type="file",modified=1688258013193,data="/\n/usr/\n/usr/bin/\n/usr/bin/b2sum.lua\n/usr/bin/md5sum.lua\n/usr/bin/sha1sum.lua\n/usr/bin/sha224sum.lua\n/usr/bin/sha256sum.lua\n/usr/bin/sha384sum.lua\n/usr/bin/sha512sum.lua\n/usr/bin/shasum.lua\n/usr/lib/\n/usr/lib/sha2.lua\n/usr/share/\n/usr/share/typescript/\n/usr/share/typescript/sha2/\n/usr/share/typescript/sha2/index.d.ts\n/usr/share/typescript/sha2/package.json\n/usr/share/typescript/sha2/tsconfig.json\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=400},["startmgr.md5sums"]={created=1688258028493,type="file",modified=1688258028493,data="d2439cbe3dccf4c8e86575b5ef2d19b3  lib/startmgr.lua\nc5d84431f3af09180b560f58d0c09417  sbin/startctl.lua\n6f98ac83424e701dab74a703363eb850  sbin/shutdown.lua\n1f6093323d818261b3fc4d0db3966e66  etc/startmgr/system/startup.service\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man1/startmgr.md\na40c90adeac5f18db70e8006490c2f52  sbin/init.lua\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man1/shutdown.md\nd41d8cd98f00b204e9800998ecf8427e  usr/share/man/man1/startctl.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=468},["baseutils.md5sums"]={created=1688258021189,type="file",modified=1688258021189,data="a0acb3bbd7647ffc42881b5b1f652101  bin/false.lua\n822d221ba295280690311191dc59116c  bin/mv.lua\n22dc5bb80fb08df6b1eb3f56a23f4a7a  bin/expr.lua\ne73afa8bb012520a303ca3848e7f1a76  bin/unmount.lua\n28cd84b2857ade19e4b5999e32e5a977  bin/ps.lua\n41390f5b9ef52688391812ce84611224  bin/nm.lua\n7e38b7acf96e039b14919857ca2dfff0  bin/echo.lua\ndb653efad0b708300165886068c5120f  bin/less.lua\n47df5ee3376c8d52c08065546dd944df  bin/cd.lua\na405b344188c49650c4271f25a7ab484  bin/pwd.lua\n19a7ed0f8311b94f930979801ee228e3  bin/kill.lua\nacf6d2b7ac1266c67d843a2dc73d95a6  bin/ls.lua\nad5fba84720b513d6f26372dd5b5ab28  bin/comm.lua\na6391acce5ac25be7da14bcce08872e3  bin/lua.lua\n469245890049f26bfb8b637caa23f4f7  bin/mkfifo.lua\ne37948d8fe2173d8aed103b254c62d1f  bin/tty.lua\nbfad911eaf2991b538b568827e029f08  etc/fstab\ne03ef0f14153ee028a78157730d8720d  bin/cmp.lua\n2b6e1cad68ffd3be01b6bf87e3847516  bin/df.lua\n3c5cd3690185704cc58e4073c9400f45  etc/startmgr/system/startup.service.wants/automount.service\ne1fd3abb99d7ba394544afdd8bc3219f  bin/apropos.lua\ndd5fbf031731db755455e1f38629c4d1  bin/chown.lua\nc2a7b0aebf221a4b99d35e5960f2fb95  bin/cksum.lua\na47b79d65900867e04baeb6e74b981aa  bin/basename.lua\nd58ed7910c0ba7ba878abc6b05f6048e  bin/screenfetch.lua\n987d142e32bf4435302ea980d722f662  bin/chroot.lua\n987e5f6bb8457528c7ddb9027544b038  bin/expand.lua\n71c3a28801bfa5038fbae9aa13bbf34f  bin/halt.lua\n3f3c71d1bccbde885221c4b14d9ea111  bin/cal.lua\nef798e1b9b0a0fc28f350411eb197935  bin/reboot.lua\nf440e472d544d26738a6525dfa90b75d  bin/env.lua\n386461ecb77eda2da55fc1f7f1930dec  bin/printf.lua\nda5ce367b0a4c3af6d41af201ef276d4  bin/du.lua\nd0b417ad3ed2f618495a08ac7ccdfbc7  bin/unlink.lua\nb6f9425e648bbe725388f999543121fe  bin/link.lua\nb01fc398510a4f29b9f20688da4c8416  bin/date.lua\n6086992b483f55181baa5d8ca2ae465f  bin/mount.lua\n542c77812b077d1c5cb37f86a8fc95cb  bin/curl.lua\n7bc6b5e904c9e9a3b895d107a7fd7494  bin/touch.lua\nc1821d21f33e68c32514f1a1b47e332b  bin/rmdir.lua\n2522740b116ba11c2387cf7701bc7114  bin/cash.lua\n0162e4fb0aa8420b1f0e1535d0db3b91  bin/rm.lua\n157c726b4783bd2673d2cba23237a907  bin/man.lua\na200214f00028170ec84b4bac4ab2d65  bin/mkdir.lua\n5e2f6f33e2ae0953eff784bc9d151adb  bin/true.lua\nbac687f4efd22b8d455f1c76a78a3e9a  bin/chmod.lua\n92ce61ebeec4cf62b1d20c5818f4a06a  bin/whoami.lua\ned2b6fdd6beca77514505804a2a73769  bin/lsdev.lua\n0f10a6f7c075b3a617909ead335f4d98  bin/uname.lua\n35a3925e059a2329500a5653892ebde5  bin/sh.lua\n68b329da9893e34099c7d8ad5cb9c940  bin/logger.lua\n517599d164412eaf63b10648690a16aa  bin/cat.lua\n809fe82a1f10676a23dec5f25b6f34c0  bin/nano.lua\n6f1593ad1511d26efa3b5c696a7df2b2  bin/clear.lua\n4cf589c746eec22552853c5e16159c41  bin/cp.lua\n6cf0176b6703a4c406cea8c00bab5f99  bin/sleep.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2693},["baseutils.list"]={created=1688258021149,type="file",modified=1688258021149,data="/\n/bin/\n/bin/apropos.lua\n/bin/basename.lua\n/bin/cal.lua\n/bin/cash.lua\n/bin/cat.lua\n/bin/cd.lua\n/bin/chmod.lua\n/bin/chown.lua\n/bin/chroot.lua\n/bin/cksum.lua\n/bin/clear.lua\n/bin/cmp.lua\n/bin/comm.lua\n/bin/cp.lua\n/bin/curl.lua\n/bin/date.lua\n/bin/df.lua\n/bin/du.lua\n/bin/echo.lua\n/bin/env.lua\n/bin/expand.lua\n/bin/expr.lua\n/bin/false.lua\n/bin/halt.lua\n/bin/kill.lua\n/bin/less.lua\n/bin/link.lua\n/bin/logger.lua\n/bin/ls.lua\n/bin/lsdev.lua\n/bin/lua.lua\n/bin/man.lua\n/bin/mkdir.lua\n/bin/mkfifo.lua\n/bin/mount.lua\n/bin/mv.lua\n/bin/nano.lua\n/bin/nm.lua\n/bin/printf.lua\n/bin/ps.lua\n/bin/pwd.lua\n/bin/reboot.lua\n/bin/rm.lua\n/bin/rmdir.lua\n/bin/screenfetch.lua\n/bin/sh.lua\n/bin/sleep.lua\n/bin/touch.lua\n/bin/true.lua\n/bin/tty.lua\n/bin/uname.lua\n/bin/unlink.lua\n/bin/unmount.lua\n/bin/whoami.lua\n/etc/\n/etc/fstab\n/etc/startmgr/\n/etc/startmgr/system/\n/etc/startmgr/system/startup.service.wants/\n/etc/startmgr/system/startup.service.wants/automount.service\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=940},["libsystem.conffiles"]={created=1688258015133,type="file",modified=1688258015133,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["pxboot.md5sums"]={created=1688258073147,type="file",modified=1688258073147,data="68b329da9893e34099c7d8ad5cb9c940  boot/config.lua\n4ef55243a0a09a55ce0691c84900aa1a  boot/pxboot.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=100},["phoenix.conffiles"]={created=1688258013879,type="file",modified=1688258013879,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["dpkg.list"]={created=1688258068417,type="file",modified=1688258068417,data="/\n/usr/\n/usr/bin/\n/usr/bin/components.lua\n/usr/bin/dpkg-deb.lua\n/usr/bin/dpkg-divert.lua\n/usr/bin/dpkg-query.lua\n/usr/bin/dpkg-trigger.lua\n/usr/bin/dpkg.lua\n/usr/bin/update.lua\n/usr/lib/\n/usr/lib/dpkg/\n/usr/lib/dpkg/control.lua\n/usr/lib/dpkg/deb.lua\n/usr/lib/dpkg/divert.lua\n/usr/lib/dpkg/init.lua\n/usr/lib/dpkg/query.lua\n/usr/lib/dpkg/trigger.lua\n/usr/share/\n/usr/share/man/\n/usr/share/man/man8/\n/usr/share/man/man8/components.md\n/usr/share/man/man8/dpkg.md\n/usr/share/man/man8/update.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=489},["sha2.conffiles"]={created=1688258013203,type="file",modified=1688258013203,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["muxzcat.md5sums"]={created=1688258012363,type="file",modified=1688258012363,data="92cbddaa393ab1a082be221043df4f03  usr/share/typescript/muxzcat/package.json\n120f81a062860522a5270e7e27358d90  usr/share/typescript/muxzcat/index.d.ts\n3856053135fee8c5ecc4821c31861023  usr/lib/muxzcat.lua\n064cbb9bd225cc296c44ef60974315fe  usr/share/typescript/muxzcat/tsconfig.json\ndded8eb9f482a41f6db65e6a30f501b8  usr/bin/unxz.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=332},["spanfs.list"]={created=1688258016723,type="file",modified=1688258016723,data="/\n/lib/\n/lib/modules/\n/lib/modules/spanfs.lua\n/sbin/\n/sbin/mkspanfs.lua\n/sbin/spaninfo.lua\n/usr/\n/usr/share/\n/usr/share/man/\n/usr/share/man/man7/\n/usr/share/man/man7/spanfs.md\n/usr/share/man/man8/\n/usr/share/man/man8/mkspanfs.md\n/usr/share/man/man8/spaninfo.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=261},["tar.list"]={created=1688258025860,type="file",modified=1688258025860,data="/\n/bin/\n/bin/tar.lua\n/lib/\n/lib/tar.lua\n/usr/\n/usr/share/\n/usr/share/man/\n/usr/share/man/man1/\n/usr/share/man/man1/tar.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=122},["typescript.list"]={created=1688258077580,type="file",modified=1688258077580,data="/\n/lib/\n/lib/typescript.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=28},["phoenix.list"]={created=1688258013869,type="file",modified=1688258013869,data="/\n/boot/\n/boot/kernel.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=26},["sha2.md5sums"]={created=1688258013213,type="file",modified=1688258013213,data="7ef0d716bdb5af0519dbfacf10d9c8cf  usr/share/typescript/sha2/package.json\n5b6687a44f299b26cb8e8d97b0469fd4  usr/bin/sha512sum.lua\n44304a9aa632161afa6524d6bc03e42a  usr/bin/sha256sum.lua\n0b23c04f92d6d68601b90ebc0acdba3d  usr/bin/md5sum.lua\n368538cdc6f626d57abd0198700058d3  usr/bin/shasum.lua\n124dbf6c8623dbc523f29b8c2a7a366c  usr/lib/sha2.lua\n88b53fee64630fb7bbfa178142d1c92d  usr/bin/sha384sum.lua\n064cbb9bd225cc296c44ef60974315fe  usr/share/typescript/sha2/tsconfig.json\nf1245ba271f47d6318e39fac55a96258  usr/bin/sha1sum.lua\nfd7898467beac7ef6758c8d3705bc210  usr/share/typescript/sha2/index.d.ts\n89854efcea24687d4f30272d0225950a  usr/bin/sha224sum.lua\n3d3f60e38d1e37fea659736e340ddeb9  usr/bin/b2sum.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=705},["diff.list"]={created=1688258024456,type="file",modified=1688258024456,data="/\n/bin/\n/lib/\n/lib/diff.lua\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=28},["phoenix-docs.md5sums"]={created=1688258057220,type="file",modified=1688258057220,data="ee2402f90c4ad6d76fbb8d79514463ec  usr/share/man/man2/timelockmutex.md\nb48e433d717c524cc10da33c4c23472b  usr/share/man/man2/remove.md\n5cab43ff97f5780078c29e9f75cad7b5  usr/share/man/man2/_template.md\n153307238fe3c50cd989e29fcf673cc8  usr/share/man/man2/checkuri.md\nd181c9ee13a5868c6b636b035eef1f27  usr/share/man/man2/open.md\nea033221bc9037a8519781148c3e36b9  usr/share/man/man2/arplist.md\n3392e744c6cf94bf74a63cd1ee0f8472  usr/share/man/man2/routeadd.md\n927b9673495ee1ab6372804aaffb0602  usr/share/man/man2/link.md\ne741c0b7f30cf6ac9b7ee24923645449  usr/share/man/man2/devlisten.md\n969be2cabd57377208f2fcc306f4e390  usr/share/man/man3/system.graphics.md\n97d3a6b6fa05ad9d5abad1d52032952d  usr/share/man/man2/alarm.md\n90939a50982f279ff8bc78b7feb98d84  usr/share/man/man2/list.md\nf92254ae8278c8f48402cd0a6e3ab2c3  usr/share/man/man2/devlock.md\n3aecf75563c43ac627904e5557db6d93  usr/share/man/man2/acquiresemaphore.md\n6fc3507c68de16d6909370c3e2b0eeb6  usr/share/man/man2/signal.md\nf4ab4a41e3fa302d47096ea8534aed80  usr/share/man/man2/mount.md\n468f1c781f256e30f3f7fdeeac94b6bf  usr/share/man/man2/mountlist.md\nd69b17d40fc99325335341dc5c80fd36  usr/share/man/man2/detach.md\nab2514f962bed9c4833e34cda902fed7  usr/share/man/man3/system.framebuffer.md\n338b606dbe6b417f1e6eee5d61042d13  usr/share/man/man2/rename.md\ne63ea2179e036d83f3d5f37aec41a229  usr/share/man/man2/attach.md\n8e7e90089d0ba1d260e65c8fef1d6882  usr/share/man/man2/devmethods.md\nd0e27457aa68149eb780fe1b63977a9a  usr/share/man/man2/chmod.md\n2501ef2ed4f1fbdf54649e4920f1b584  usr/share/man/man3/system.log.md\ndd26ad844296daa48ce9824f78112145  usr/share/man/man2/unlockmutex.md\ne9fcc0a2c89dd521a771880001556e07  usr/share/man/man2/chroot.md\n998c1f99fc18bb138afb96f8a290829b  usr/share/man/man2/stat.md\n9d644b65cd00553301c202322b78ecf3  usr/share/man/man2/version.md\n5e4ac8f69342bd5e07b28d77bc4aebca  usr/share/man/man2/releasesemaphore.md\n278ed6f961df2429b512436974dbbde6  usr/share/man/man2/lockmutex.md\nd18a93b14fed71208f5f8aa3acd3626c  usr/share/man/man2/mkfifo.md\n2e226e3b72e730965dd894189fa98b45  usr/share/man/man2/devcall.md\n0389a13f78cfe99d7bc6e7d1972b27f8  usr/share/man/man2/devalias.md\nf9b544105798e40052a32bc6e997de7c  usr/share/man/man2/uptime.md\n78d09c5fb0699148ad0f03f55e1aa0dd  usr/share/man/man2/netevent.md\ne15a8b674e3b2317a49f49c68dffbf37  usr/share/man/man2/unlisten.md\n005eb4b4db66b177c3a09068c7d5e5c8  usr/share/man/man2/trylockmutex.md\nfa70b112de755bca55aeed95aefceae6  usr/share/man/man3/system.filesystem.md\ne6e6e85c1c165f256ac8529611f99129  usr/share/man/man2/netcontrol.md\nd0996ceaa773d903957e6e9619641906  usr/share/man/man2/devproperties.md\nda74496fbe0ae2de16e985af5eaf7367  usr/share/man/man2/listmodules.md\nfe185470ef69904cd06ff581fea471fb  usr/share/man/man2/cancel.md\n3f9fd39c8c546bd480bc96cde4ce451f  usr/share/man/man2/devfind.md\n911e57faab1316f11d584a94eca7eefd  usr/share/man/man9/kernel.md\n7ac41cc3c74aa8163d90e4614d492e75  usr/share/man/man3/system.util.md\n005fc8770f15afd6e1c2422202eeb837  usr/share/man/man2/devchildren.md\na9af46d4ab2b6d36714d9177510e26ca  usr/share/man/man3/system.terminal.md\na04eafd5194d4bf030b1f98a92b71e64  usr/share/man/man2/queueEvent.md\n9acb7f91203c9ea3969f7830ad4bd6a5  usr/share/man/man3/system.serialization.md\n567d15c62ba1bef2a7d1455df96abb3d  usr/share/man/man2/devinfo.md\n0df54115cb3ece67b17c2d74a9c7c42a  usr/share/man/man2/ipconfig.md\n49d3e4050d1082830f48ad6967eae91f  usr/share/man/man3/system.pretty.md\nfaa2cb304a8d49cf6d1ef8a3e03f8e4d  usr/share/man/man3/system.network.md\n1e3f6c4fe095b7dfcc595a0493101f29  usr/share/man/man2/kernargs.md\n9d542afcd7482e1c80531b8b987c2d8a  usr/share/man/man3/system.keys.md\nbafeb327ddff1f91ee06ec03d87f06b3  usr/share/man/man3/system.ipc.md\n28291760a2e4b96be1171acc644c5d6e  usr/share/man/man3/system.hardware.md\n3af4e3ce46827777ebc9a72faadc8656  usr/share/man/man2/timeacquiresemaphore.md\n05b2b6ce596d1911ecc622e0d91c03d4  usr/share/man/man2/cchost.md\n37c295514dbf251035461e407ec667b3  usr/share/man/man3/system.expect.md\ncb5483b392e5196c755d8f4fb3bb6d5d  usr/share/man/man2/loadCraftOSAPI.md\n06124b31ba7e667b1618f4f0f993456a  usr/share/man/man2/devunlock.md\n9de4abbd2b0da2b14c5da9dbf81bc23c  usr/share/man/man2/arpset.md\n5f19cc0f6ab4148ba9335d6e814d8356  usr/share/man/man2/callmodule.md\nf3afcb4b2f99ed91a29178f38323f345  usr/share/man/man2/devlookup.md\ndafda555c67469ef269165d080d4f537  usr/share/man/man2/kill.md\n0d28ca0a43641a8e25ea4f57ba9c53a3  usr/share/man/man2/routedel.md\n791883f15b0b6d761feeee712293d767  usr/share/man/man3/system.sync.md\n2efd87231f058c6ff1d2954ac15f3a26  usr/share/man/man2/mkdir.md\n696a2040bc36af8af6ad66fe78433ae7  usr/share/man/man3/system.process.md\n1bef5a63b0fe7719b02a57aa85b65f41  usr/share/man/man2/loadmodule.md\n132985fdf367e06d1c55fdb223876ce0  usr/share/man/man2/sendEvent.md\n300a370b5355fc236a4e3bcd5ce6e771  usr/share/man/man2/listen.md\n2cc2c7a42459d2e32c6bc49a9d2d4021  usr/share/man/man2/chown.md\n05279006f5323ad189eaa20c795a8fe4  usr/share/man/man2/connect.md\nca0bfb454428824d3b9adbb2ad49175f  usr/share/man/man2/unloadmodule.md\n4346c291bae58e8d989ebe3101ee7338  usr/share/man/man2/timer.md\na594570023aefc380e2ffeb3cce0c052  usr/share/man/man2/combine.md\n1580cca776cbe49c5a7e738522f88bd1  usr/share/man/man2/unmount.md\n2e0a0cdc9d2ade4fbe183999475535ac  usr/share/man/man2/routelist.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=5293},["phoenix-docs.list"]={created=1688258057160,type="file",modified=1688258057160,data="/\n/usr/\n/usr/share/\n/usr/share/man/\n/usr/share/man/man1/\n/usr/share/man/man2/\n/usr/share/man/man2/_template.md\n/usr/share/man/man2/acquiresemaphore.md\n/usr/share/man/man2/alarm.md\n/usr/share/man/man2/arplist.md\n/usr/share/man/man2/arpset.md\n/usr/share/man/man2/attach.md\n/usr/share/man/man2/callmodule.md\n/usr/share/man/man2/cancel.md\n/usr/share/man/man2/cchost.md\n/usr/share/man/man2/checkuri.md\n/usr/share/man/man2/chmod.md\n/usr/share/man/man2/chown.md\n/usr/share/man/man2/chroot.md\n/usr/share/man/man2/combine.md\n/usr/share/man/man2/connect.md\n/usr/share/man/man2/detach.md\n/usr/share/man/man2/devalias.md\n/usr/share/man/man2/devcall.md\n/usr/share/man/man2/devchildren.md\n/usr/share/man/man2/devfind.md\n/usr/share/man/man2/devinfo.md\n/usr/share/man/man2/devlisten.md\n/usr/share/man/man2/devlock.md\n/usr/share/man/man2/devlookup.md\n/usr/share/man/man2/devmethods.md\n/usr/share/man/man2/devproperties.md\n/usr/share/man/man2/devunlock.md\n/usr/share/man/man2/ipconfig.md\n/usr/share/man/man2/kernargs.md\n/usr/share/man/man2/kill.md\n/usr/share/man/man2/link.md\n/usr/share/man/man2/list.md\n/usr/share/man/man2/listen.md\n/usr/share/man/man2/listmodules.md\n/usr/share/man/man2/loadCraftOSAPI.md\n/usr/share/man/man2/loadmodule.md\n/usr/share/man/man2/lockmutex.md\n/usr/share/man/man2/mkdir.md\n/usr/share/man/man2/mkfifo.md\n/usr/share/man/man2/mount.md\n/usr/share/man/man2/mountlist.md\n/usr/share/man/man2/netcontrol.md\n/usr/share/man/man2/netevent.md\n/usr/share/man/man2/open.md\n/usr/share/man/man2/queueEvent.md\n/usr/share/man/man2/releasesemaphore.md\n/usr/share/man/man2/remove.md\n/usr/share/man/man2/rename.md\n/usr/share/man/man2/routeadd.md\n/usr/share/man/man2/routedel.md\n/usr/share/man/man2/routelist.md\n/usr/share/man/man2/sendEvent.md\n/usr/share/man/man2/signal.md\n/usr/share/man/man2/stat.md\n/usr/share/man/man2/timeacquiresemaphore.md\n/usr/share/man/man2/timelockmutex.md\n/usr/share/man/man2/timer.md\n/usr/share/man/man2/trylockmutex.md\n/usr/share/man/man2/unlisten.md\n/usr/share/man/man2/unloadmodule.md\n/usr/share/man/man2/unlockmutex.md\n/usr/share/man/man2/unmount.md\n/usr/share/man/man2/uptime.md\n/usr/share/man/man2/version.md\n/usr/share/man/man3/\n/usr/share/man/man3/system.expect.md\n/usr/share/man/man3/system.filesystem.md\n/usr/share/man/man3/system.framebuffer.md\n/usr/share/man/man3/system.graphics.md\n/usr/share/man/man3/system.hardware.md\n/usr/share/man/man3/system.ipc.md\n/usr/share/man/man3/system.keys.md\n/usr/share/man/man3/system.log.md\n/usr/share/man/man3/system.network.md\n/usr/share/man/man3/system.pretty.md\n/usr/share/man/man3/system.process.md\n/usr/share/man/man3/system.serialization.md\n/usr/share/man/man3/system.sync.md\n/usr/share/man/man3/system.terminal.md\n/usr/share/man/man3/system.util.md\n/usr/share/man/man9/\n/usr/share/man/man9/kernel.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2773},["initrd-utils.list"]={created=1688258075930,type="file",modified=1688258075930,data="/\n/etc/\n/etc/initrd/\n/etc/initrd/hooks.d/\n/etc/initrd/hooks.d/00-modules.lua\n/etc/initrd/hooks.d/01-files.lua\n/etc/initrd/hooks.d/05-shell.lua\n/etc/initrd/hooks.d/10-init.lua\n/etc/initrd/initrd.conf\n/usr/\n/usr/bin/\n/usr/bin/mktablefs.lua\n/usr/bin/update-initrd.lua\n/usr/share/\n/usr/share/man/\n/usr/share/man/man8/\n/usr/share/man/man8/update-initrd.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=351},["libcraftos.list"]={created=1688258010603,type="file",modified=1688258010603,data="/\n/bin/\n/bin/craftos.lua\n/bin/shell.lua\n/lib/\n/lib/libcc.a\n/lib/libcraftos.a\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=77},["dpkg.conffiles"]={created=1688258068447,type="file",modified=1688258068447,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["yahtcc.md5sums"]={created=1688258071704,type="file",modified=1688258071704,data="d8e5bc545009c73a7a15ed2cfd9da260  usr/bin/yahtcc.lua\n32f4ff232b0ae7535cc9bdbd16d6649e  usr/share/man/man6/yahtcc.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=116},["tar.conffiles"]={created=1688258025890,type="file",modified=1688258025890,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["initrd-utils.conffiles"]={created=1688258075964,type="file",modified=1688258075964,data="/etc/initrd/initrd.conf\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=24},["usermgr.list"]={created=1688258011473,type="file",modified=1688258011473,data="/\n/etc/\n/etc/motd\n/etc/passwd\n/etc/shadow\n/etc/skel/\n/etc/skel/.cashrc\n/etc/startmgr/\n/etc/startmgr/system/\n/etc/startmgr/system/startup.service.wants/\n/etc/startmgr/system/startup.service.wants/login.service\n/etc/startmgr/system/usermgr.service\n/usr/\n/usr/bin/\n/usr/bin/login.lua\n/usr/bin/passwd.lua\n/usr/bin/su.lua\n/usr/bin/sudo.lua\n/usr/bin/useradd.lua\n/usr/bin/userdel.lua\n/usr/bin/usermod.lua\n/usr/lib/\n/usr/lib/usermgr.lua\n/usr/libexec/\n/usr/libexec/usermgr.lua\n/usr/share/\n/usr/share/man/\n/usr/share/man/man1/\n/usr/share/man/man1/login.md\n/usr/share/man/man1/passwd.md\n/usr/share/man/man1/su.md\n/usr/share/man/man1/sudo.md\n/usr/share/man/man3/\n/usr/share/man/man3/usermgr.md\n/usr/share/man/man5/\n/usr/share/man/man5/motd.md\n/usr/share/man/man5/passwd.md\n/usr/share/man/man5/shadow.md\n/usr/share/man/man8/\n/usr/share/man/man8/useradd.md\n/usr/share/man/man8/userdel.md\n/usr/share/man/man8/usermgr.md\n/usr/share/man/man8/usermod.md\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=936},["baseutils.triggers"]={created=1688258021303,type="file",modified=1688258021303,data="interest /usr/share/man",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=23},["ccryptolib.conffiles"]={created=1688258023956,type="file",modified=1688258023956,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["libdeflate.list"]={created=1688258063503,type="file",modified=1688258063503,data="/\n/usr/\n/usr/bin/\n/usr/bin/gzip.lua\n/usr/lib/\n/usr/lib/libdeflate.lua\n/usr/share/\n/usr/share/typescript/\n/usr/share/typescript/libdeflate/\n/usr/share/typescript/libdeflate/index.d.ts\n/usr/share/typescript/libdeflate/package.json\n/usr/share/typescript/libdeflate/tsconfig.json\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=276},["libdeflate.conffiles"]={created=1688258063533,type="file",modified=1688258063533,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["ccryptolib.list"]={created=1688258023936,type="file",modified=1688258023936,data="/\n/usr/\n/usr/lib/\n/usr/lib/libccryptolib.a\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=43},["phoenix-docs.conffiles"]={created=1688258057190,type="file",modified=1688258057190,data="",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}},modified=1688258077644,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["status-old"]={created=1688258077744,type="file",modified=1688258077744,data="Package: initrd-utils\nArchitecture: phoenix\nVersion: 0.1-1\nSection: admin\nStatus: install ok installed\nPriority: optional\nRequires: libsystem\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nDescription: initrd management tools\n Contains a collection of utility programs to createand manage initial ramdisk (initrd) files.\n\nPackage: pxboot\nEssential: yes\nVersion: 0.1.1-1\nSection: admin\nStatus: install ok installed\nPriority: required\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nArchitecture: phoenix\nDescription: Multipurpose bootloader for ComputerCraft\n A bootloader for ComputerCraft operating systemswith built-in UnBIOS functionality, a configurableselection menu, and more. Designed for Phoenix,but supports other OSes as well, including CraftOS.\n\nPackage: yahtcc\nArchitecture: phoenix\nVersion: 1.0-2\nSection: games\nStatus: install ok installed\nPriority: optional\nRequires: libsystem\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nDescription: Yahtzee game for Phoenix\n Yahtzee game for Phoenix\n\nPackage: dpkg\nDepends: ar, diff, libdeflate, libsystem, muxzcat, sha2, tar\nVersion: 0.2.2-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: required\nSection: admin\nArchitecture: phoenix\nDescription: Debian Package Manager for Phoenix\n A port of the Debian Package Manager to thePhoenix operating system, written in Lua.\n\nPackage: startmgr\nEssential: yes\nDepends: libsystem\nVersion: 0.1.1-2\nSection: admin\nStatus: install ok installed\nPriority: standard\nArchitecture: phoenix\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nDescription: Phoenix service manager and init system\n Provides automatic service management facilitiesfor Phoenix systems.\n\nPackage: tar\nDepends: libsystem\nVersion: 1.0.1-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: important\nSection: utils\nArchitecture: phoenix\nDescription: TAR archive format library and program\n Allows creating and extracting TAR archives.\n\nPackage: diff\nDepends: libsystem\nVersion: 1.0-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: important\nArchitecture: phoenix\nSection: utils\nDescription: File comparison library and utility\n Provides a library for comparing files, as well asprograms for comparing and patching using the lib.\n\nPackage: libdeflate\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nArchitecture: phoenix\nSection: libraries\nPriority: optional\nStatus: install ok installed\nVersion: 1.0.2-1\nDescription: DEFLATE/zlib compression library\n Provides compression and decompression for DEFLATEformatted archives, including zlib and gzip files.\n\nPackage: ccryptolib\nDepends: libsystem\nVersion: 1.0.0-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: optional\nSection: libraries\nArchitecture: phoenix\nDescription: cryptography library for Phoenix\n An integrated collection of cryptographic primitives written in Lua usingthe ComputerCraft/Phoenix system API.\n\nPackage: libsystem\nEssential: yes\nVersion: 0.1.2-1\nSection: libraries\nStatus: install ok installed\nPriority: required\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nArchitecture: phoenix\nDescription: System libraries for Phoenix\n Provides convenient wrapper functions for usingPhoenix syscalls, as well as various usefulcomponents for programs.\n\nPackage: baseutils\nDepends: libsystem\nVersion: 0.1.3-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: important\nArchitecture: phoenix\nSection: utils\nDescription: base utility set for Phoenix\n Contains a standard set of POSIX utilities for Phoenix.\n\nPackage: spanfs\nDepends: libsystem\nVersion: 0.1-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: optional\nSection: kernel\nArchitecture: phoenix\nDescription: Spanning filesystem kernel module & utilities\n spanfs provides a RAID-like spanning filesystemthat allows concatenating multiple disk drivesinto a single large virtual disk. One disk storesan index file containing the filesystem structure,and the file data is spread across the rest of thedisks.\n\nPackage: phoenix-docs\nVersion: 0.0.4-1\nArchitecture: all\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nPriority: optional\nStatus: install ok installed\nSection: doc\nDescription: Documentation files for Phoenix\n Contains manual files for Phoenix syscalls andkernel API functions, libsystem modules, andbaseutils programs. These are separated from themain packages to save space.\n\nPackage: ar\nDepends: libsystem\nVersion: 1.1-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nStatus: install ok installed\nPriority: standard\nArchitecture: phoenix\nSection: utils\nDescription: ar archive format library and program\n Allows creating and extracting ar/.a archives.\n\nPackage: sha2\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nVersion: 12-2\nSection: libraries\nStatus: install ok installed\nPriority: optional\nRequires: libsystem\nArchitecture: phoenix\nDescription: SHA-1, SHA-2, SHA-3, BLAKE2 and BLAKE3 functions written in pure Lua and optimized for speed.\n This module contains functions to calculate SHA digest:   MD5, SHA-1,   SHA-224, SHA-256, SHA-512/224, SHA-512/256, SHA-384, SHA-512,   SHA3-224, SHA3-256, SHA3-384, SHA3-512, SHAKE128, SHAKE256,   HMAC,   BLAKE2b, BLAKE2s, BLAKE2bp, BLAKE2sp, BLAKE2Xb, BLAKE2Xs,   BLAKE3, BLAKE3_KDFWritten in pure Lua.Compatible with:   Lua 5.1, Lua 5.2, Lua 5.3, Lua 5.4, Fengari, LuaJIT 2.0/2.1 (any CPU endianness).Main feature of this module: it was heavily optimized for speed.For every Lua version the module contains particular implementation branch to get benefits from version-specific features.   - branch for Lua 5.1 (emulating bitwise operators using look-up table)   - branch for Lua 5.2 (using bit32/bit library), suitable for both Lua 5.2 with native \"bit32\" and Lua 5.1 with external library \"bit\"   - branch for Lua 5.3/5.4 (using native 64-bit bitwise operators)   - branch for Lua 5.3/5.4 (using native 32-bit bitwise operators) for Lua built with LUA_INT_TYPE=LUA_INT_INT   - branch for LuaJIT without FFI library (useful in a sandboxed environment)   - branch for LuaJIT x86 without FFI library (LuaJIT x86 has oddity because of lack of CPU registers)   - branch for LuaJIT 2.0 with FFI library (bit.* functions work only with Lua numbers)   - branch for LuaJIT 2.1 with FFI library (bit.* functions can work with \"int64_t\" arguments)\n\nPackage: muxzcat\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nArchitecture: phoenix\nSection: libraries\nPriority: optional\nStatus: install ok installed\nVersion: 1.0-2\nDescription: LZMA/XZ decompression library\n Provides functions for decompressing LZMA and XZformat compressed files.\n\nPackage: phoenix\nEssential: yes\nVersion: 0.0.4-1\nSection: kernel\nStatus: install ok installed\nPriority: required\nArchitecture: phoenix\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nDescription: Phoenix kernel\n The kernel for the Phoenix operating system.\n\nPackage: usermgr\nEssential: yes\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nRequires: libsystem\nSection: admin\nStatus: install ok installed\nPriority: standard\nVersion: 0.1.2-1\nArchitecture: phoenix\nDescription: user account manager\n Manager service to handle user accounts, includinglogin, passwords, creation, and deletion.\n\nPackage: libcraftos\nSection: libraries\nVersion: 0.2-1\nMaintainer: JackMacWindows <jackmacwindowslinux@gmail.com>\nPriority: optional\nStatus: install ok installed\nArchitecture: phoenix\nDescription: CraftOS compatibility library\n Provides CraftOS shim functions to allow runningCraftOS programs on Phoenix.\n\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=7787}},modified=1688258077710,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}},modified=1688258005299,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},log={created=1688258089221,type="directory",contents={["default.log"]={created=1688258089251,type="file",modified=1688258089251,data="[Jul 01 20:33:30] kernel[0] [Info]: Starting Phoenix version 0.0.4 PRERELEASE NONFREE Sat Jul  1 20:32:36 2023 PREEMPT\n[Jul 01 20:33:30] kernel[0] [Info]: Initialized system logger\n[Jul 01 20:33:30] kernel[0] [Info]: System started at 1688258010340 on computer 32\n[Jul 01 20:33:30] kernel[0] [Info]: Computer host is ComputerCraft 1.104.0 (CraftOS-PC v2.7.4)\n[Jul 01 20:33:30] kernel[0] [Info]: Loading kernel modules from /lib/modules\n[Jul 01 20:33:30] kernel[0] [Info]: Loading kernel module spanfs from /lib/modules/spanfs.lua\n[Jul 01 20:33:30] kernel[0] (spanfs) [Info]: spanfs is now loaded\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Registered device with type computer on device / using driver root\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Added new device at /redstone\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Added new device at /redstone/top\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/top using driver root_redstone\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Added new device at /redstone/bottom\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/bottom using driver root_redstone\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Added new device at /redstone/left\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/left using driver root_redstone\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Added new device at /redstone/right\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/right using driver root_redstone\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Added new device at /redstone/front\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/front using driver root_redstone\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Added new device at /redstone/back\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/back using driver root_redstone\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Added new device at /lo\n[Jul 01 20:33:30] kernel[0] (Hardware) [Info]: Registered device with type modem on device /lo using driver loopback_modem\n[Jul 01 20:33:30] kernel[0] [Info]: Configured IP for loopback device\n[Jul 01 20:33:30] kernel[0] [Info]: Starting init from /install_stage2.lua\n[Jul 01 20:33:30] kernel[0] [Debug]: Reaping process 3 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:31] kernel[0] [Debug]: Reaping process 5 (/var/lib/dpkg/info/usermgr.postinst)\n[Jul 01 20:33:31] kernel[0] [Debug]: Reaping process 4 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:32] kernel[0] [Debug]: Reaping process 6 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:33] kernel[0] [Debug]: Reaping process 7 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:33] kernel[0] [Debug]: Reaping process 8 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:35] kernel[0] [Debug]: Reaping process 9 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:36] kernel[0] [Debug]: Reaping process 10 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:36] kernel[0] [Debug]: Reaping process 11 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:43] kernel[0] [Debug]: Reaping process 13 (/var/lib/dpkg/info/baseutils.postinst)\n[Jul 01 20:33:43] kernel[0] [Debug]: Reaping process 12 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:44] kernel[0] [Debug]: Reaping process 14 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:44] kernel[0] [Debug]: Reaping process 15 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:46] kernel[0] [Debug]: Reaping process 17 (/bin/man.lua)\n[Jul 01 20:33:46] kernel[0] [Debug]: Reaping process 16 (/usr/bin/dpkg.lua)\n[Jul 01 20:33:48] kernel[0] [Debug]: Reaping process 19 (/bin/man.lua)\n[Jul 01 20:33:49] kernel[0] [Debug]: Reaping process 18 (/usr/bin/dpkg.lua)\n[Jul 01 20:34:21] kernel[0] [Debug]: Reaping process 21 (/bin/man.lua)\n[Jul 01 20:34:22] kernel[0] [Debug]: Reaping process 20 (/usr/bin/dpkg.lua)\n[Jul 01 20:34:23] kernel[0] [Debug]: Reaping process 22 (/usr/bin/dpkg.lua)\n[Jul 01 20:34:29] kernel[0] [Debug]: Reaping process 24 (/bin/man.lua)\n[Jul 01 20:34:30] kernel[0] [Debug]: Reaping process 23 (/usr/bin/dpkg.lua)\n[Jul 01 20:34:31] kernel[0] [Debug]: Reaping process 26 (/bin/man.lua)\n[Jul 01 20:34:32] kernel[0] [Debug]: Reaping process 25 (/usr/bin/dpkg.lua)\n[Jul 01 20:34:33] kernel[0] [Debug]: Reaping process 27 (/usr/bin/dpkg.lua)\n[Jul 01 20:34:36] kernel[0] [Debug]: Reaping process 29 (/bin/man.lua)\n[Jul 01 20:34:36] kernel[0] [Debug]: Reaping process 28 (/usr/bin/dpkg.lua)\n[Jul 01 20:34:37] kernel[0] [Debug]: Reaping process 30 (/usr/bin/dpkg.lua)\n[Jul 01 20:34:38] kernel[0] [Debug]: Reaping process 32 (/usr/bin/useradd.lua)\n[Jul 01 20:34:38] kernel[0] [Debug]: Reaping process 2 (tty helper)\n[Jul 01 20:34:38] kernel[0] [Debug]: Reaping process 31 (/usr/libexec/usermgr.lua)\n[Jul 01 20:34:48] kernel[0] [Info]: System is restarting.\n[Jul 01 20:34:48] kernel[0] [Info]: Sending SIGTERM to all processes\n[Jul 01 20:34:48] kernel[0] [Debug]: Reaping process 1 (/install_stage2.lua)\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Driver loopback_modem has been deregistered from device /lo\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Device at /lo has been removed\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Driver root_redstone has been deregistered from device /redstone/top\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Device at /redstone/top has been removed\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Driver root_redstone has been deregistered from device /redstone/front\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Device at /redstone/front has been removed\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Driver root_redstone has been deregistered from device /redstone/bottom\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Device at /redstone/bottom has been removed\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Driver root_redstone has been deregistered from device /redstone/right\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Device at /redstone/right has been removed\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Driver root_redstone has been deregistered from device /redstone/left\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Device at /redstone/left has been removed\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Driver root_redstone has been deregistered from device /redstone/back\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Device at /redstone/back has been removed\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Device at /redstone has been removed\n[Jul 01 20:34:48] kernel[0] (Hardware) [Info]: Driver root has been deregistered from device /\n[Jul 01 20:34:48] kernel[0] [Info]: Rebooting system\n[Jul 01 20:34:49] kernel[0] [Info]: Starting Phoenix version 0.0.4 PRERELEASE NONFREE Sat Jul  1 20:32:36 2023 PREEMPT\n[Jul 01 20:34:49] kernel[0] [Info]: Initialized system logger\n[Jul 01 20:34:49] kernel[0] [Info]: System started at 1688258089132 on computer 32\n[Jul 01 20:34:49] kernel[0] [Info]: Computer host is ComputerCraft 1.104.0 (CraftOS-PC v2.7.4)\n[Jul 01 20:34:49] kernel[0] [Info]: Loading kernel modules from /lib/modules\n[Jul 01 20:34:49] kernel[0] [Info]: Loading kernel module spanfs from /lib/modules/spanfs.lua\n[Jul 01 20:34:49] kernel[0] (spanfs) [Info]: spanfs is now loaded\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Registered device with type computer on device / using driver root\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Added new device at /redstone\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Added new device at /redstone/top\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/top using driver root_redstone\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Added new device at /redstone/bottom\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/bottom using driver root_redstone\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Added new device at /redstone/left\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/left using driver root_redstone\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Added new device at /redstone/right\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/right using driver root_redstone\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Added new device at /redstone/front\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/front using driver root_redstone\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Added new device at /redstone/back\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Registered device with type redstone on device /redstone/back using driver root_redstone\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Added new device at /lo\n[Jul 01 20:34:49] kernel[0] (Hardware) [Info]: Registered device with type modem on device /lo using driver loopback_modem\n[Jul 01 20:34:49] kernel[0] [Info]: Configured IP for loopback device\n[Jul 01 20:34:49] kernel[0] [Info]: Starting init from /sbin/init.lua\n[Jul 01 20:34:49] kernel[0] [Debug]: Reaping process 2 (/bin/mount.lua)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=9169},["startmgr.log"]={created=1688258089254,type="file",modified=1688258089254,data="[Jul 01 20:34:49] /sbin/init.lua[1:2] [Info]: Starting Automatically mount filesystems...\n[Jul 01 20:34:49] /sbin/init.lua[1:3] [Info]: Starting Startup Tasks...\n[Jul 01 20:34:49] /sbin/init.lua[1:6] [Info]: Starting User Manager...\n[Jul 01 20:34:49] /sbin/init.lua[1:2] [Notice]: Started Automatically mount filesystems.\n[Jul 01 20:34:49] /sbin/init.lua[1:3] [Notice]: Started Startup Tasks.\n[Jul 01 20:34:49] /sbin/init.lua[1:6] [Notice]: Started User Manager.\n[Jul 01 20:34:49] /sbin/init.lua[1:7] [Info]: Starting Login Prompt...\n[Jul 01 20:34:49] /sbin/init.lua[1:7] [Notice]: Started Login Prompt.\n[Jul 01 20:34:49] /sbin/init.lua[1:0] [Info]: Process 2 (of service automount) exited successfully with return value: true\n[Jul 01 20:34:49] /sbin/init.lua[1:0] [Notice]: Stopped Automatically mount filesystems.\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=816},["install.log"]={created=1688258078750,type="file",modified=1688258078750,data="[Jul 01 20:33:30] tty helper[2:0] [Info]: Loading /tmp/_pkg/libcraftos.deb (this may take a while) ...\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:30] tty helper[2:0] [Info]: Selecting previously unselected package libcraftos.\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:30] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:30] tty helper[2:0] [Info]:  0 files and directories installed.)\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:30] tty helper[2:0] [Info]: Preparing to unpack libcraftos.deb ...\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:30] tty helper[2:0] [Info]: Unpacking libcraftos (0.2-1) ...\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:30] tty helper[2:0] [Info]: Setting up libcraftos (0.2-1) ...\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:30] tty helper[2:0] [Info]: Loading /tmp/_pkg/usermgr.deb (this may take a while) ...\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:30] tty helper[2:0] [Info]: Selecting previously unselected package usermgr.\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:30] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:30] tty helper[2:0] [Info]:  7 files and directories installed.)\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:30] tty helper[2:0] [Info]: Preparing to unpack usermgr.deb ...\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:30] tty helper[2:0] [Info]: Unpacking usermgr (0.1.2-1) ...\n[Jul 01 20:33:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:31] tty helper[2:0] [Info]: Setting up usermgr (0.1.2-1) ...\n[Jul 01 20:33:31] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:31] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: Loading /tmp/_pkg/muxzcat.deb (this may take a while) ...\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: Selecting previously unselected package muxzcat.\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:32] tty helper[2:0] [Info]:  50 files and directories installed.)\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: Preparing to unpack muxzcat.deb ...\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: Unpacking muxzcat (1.0-2) ...\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: Setting up muxzcat (1.0-2) ...\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: Loading /tmp/_pkg/sha2.deb (this may take a while) ...\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: Selecting previously unselected package sha2.\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:32] tty helper[2:0] [Info]:  62 files and directories installed.)\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: Preparing to unpack sha2.deb ...\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:32] tty helper[2:0] [Info]: Unpacking sha2 (12-2) ...\n[Jul 01 20:33:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:33] tty helper[2:0] [Info]: Setting up sha2 (12-2) ...\n[Jul 01 20:33:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:33] tty helper[2:0] [Info]: Loading /tmp/_pkg/phoenix.deb (this may take a while) ...\n[Jul 01 20:33:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:33] tty helper[2:0] [Info]: Selecting previously unselected package phoenix.\n[Jul 01 20:33:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:33] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:33] tty helper[2:0] [Info]:  81 files and directories installed.)\n[Jul 01 20:33:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:33] tty helper[2:0] [Info]: Preparing to unpack phoenix.deb ...\n[Jul 01 20:33:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:33] tty helper[2:0] [Info]: Unpacking phoenix (0.0.4-1) ...\n[Jul 01 20:33:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:33] tty helper[2:0] [Info]: Setting up phoenix (0.0.4-1) ...\n[Jul 01 20:33:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:33] tty helper[2:0] [Info]: Loading /tmp/_pkg/libsystem.deb (this may take a while) ...\n[Jul 01 20:33:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:34] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:34] tty helper[2:0] [Info]: Selecting previously unselected package libsystem.\n[Jul 01 20:33:34] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:34] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:34] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:34] tty helper[2:0] [Info]:  84 files and directories installed.)\n[Jul 01 20:33:34] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:34] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:34] tty helper[2:0] [Info]: Preparing to unpack libsystem.deb ...\n[Jul 01 20:33:34] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:34] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:34] tty helper[2:0] [Info]: Unpacking libsystem (0.1.2-1) ...\n[Jul 01 20:33:34] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:34] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:35] tty helper[2:0] [Info]: Setting up libsystem (0.1.2-1) ...\n[Jul 01 20:33:35] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:35] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:35] tty helper[2:0] [Info]: Loading /tmp/_pkg/ar.deb (this may take a while) ...\n[Jul 01 20:33:35] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:35] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:35] tty helper[2:0] [Info]: Selecting previously unselected package ar.\n[Jul 01 20:33:35] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:35] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:35] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:35] tty helper[2:0] [Info]:  110 files and directories installed.)\n[Jul 01 20:33:35] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:35] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:35] tty helper[2:0] [Info]: Preparing to unpack ar.deb ...\n[Jul 01 20:33:35] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:35] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:35] tty helper[2:0] [Info]: Unpacking ar (1.1-1) ...\n[Jul 01 20:33:35] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:35] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:36] tty helper[2:0] [Info]: Setting up ar (1.1-1) ...\n[Jul 01 20:33:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:36] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:36] tty helper[2:0] [Info]: Loading /tmp/_pkg/spanfs.deb (this may take a while) ...\n[Jul 01 20:33:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:36] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:36] tty helper[2:0] [Info]: Selecting previously unselected package spanfs.\n[Jul 01 20:33:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:36] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:36] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:36] tty helper[2:0] [Info]:  115 files and directories installed.)\n[Jul 01 20:33:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:36] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:36] tty helper[2:0] [Info]: Preparing to unpack spanfs.deb ...\n[Jul 01 20:33:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:36] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:36] tty helper[2:0] [Info]: Unpacking spanfs (0.1-1) ...\n[Jul 01 20:33:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:36] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:36] tty helper[2:0] [Info]: Setting up spanfs (0.1-1) ...\n[Jul 01 20:33:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:36] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:36] tty helper[2:0] [Info]: Loading /tmp/_pkg/baseutils.deb (this may take a while) ...\n[Jul 01 20:33:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:37] tty helper[2:0] [Info]: Selecting previously unselected package baseutils.\n[Jul 01 20:33:37] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:37] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:37] tty helper[2:0] [Info]:  130 files and directories installed.)\n[Jul 01 20:33:37] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:37] tty helper[2:0] [Info]: Preparing to unpack baseutils.deb ...\n[Jul 01 20:33:37] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:37] tty helper[2:0] [Info]: Unpacking baseutils (0.1.3-1) ...\n[Jul 01 20:33:37] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:43] tty helper[2:0] [Info]: Setting up baseutils (0.1.3-1) ...\n[Jul 01 20:33:43] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:43] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:43] tty helper[2:0] [Info]: Loading /tmp/_pkg/ccryptolib.deb (this may take a while) ...\n[Jul 01 20:33:43] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:43] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:43] tty helper[2:0] [Info]: Selecting previously unselected package ccryptolib.\n[Jul 01 20:33:43] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:43] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:43] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:43] tty helper[2:0] [Info]:  192 files and directories installed.)\n[Jul 01 20:33:43] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:43] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:43] tty helper[2:0] [Info]: Preparing to unpack ccryptolib.deb ...\n[Jul 01 20:33:43] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:43] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:43] tty helper[2:0] [Info]: Unpacking ccryptolib (1.0.0-1) ...\n[Jul 01 20:33:43] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:43] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: Setting up ccryptolib (1.0.0-1) ...\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: Loading /tmp/_pkg/diff.deb (this may take a while) ...\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: Selecting previously unselected package diff.\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:44] tty helper[2:0] [Info]:  196 files and directories installed.)\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: Preparing to unpack diff.deb ...\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: Unpacking diff (1.0-1) ...\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: Setting up diff (1.0-1) ...\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: Loading /tmp/_pkg/tar.deb (this may take a while) ...\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: Selecting previously unselected package tar.\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:44] tty helper[2:0] [Info]:  200 files and directories installed.)\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: Preparing to unpack tar.deb ...\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:44] tty helper[2:0] [Info]: Unpacking tar (1.0.1-1) ...\n[Jul 01 20:33:44] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:44] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:46] tty helper[2:0] [Info]: Setting up tar (1.0.1-1) ...\n[Jul 01 20:33:46] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:46] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:46] tty helper[2:0] [Info]: Processing triggers for baseutils (0.1.3-1) ...\n[Jul 01 20:33:46] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:46] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:46] tty helper[2:0] [Info]: Loading /tmp/_pkg/startmgr.deb (this may take a while) ...\n[Jul 01 20:33:46] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:46] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:46] tty helper[2:0] [Info]: Selecting previously unselected package startmgr.\n[Jul 01 20:33:46] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:46] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:46] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:46] tty helper[2:0] [Info]:  210 files and directories installed.)\n[Jul 01 20:33:46] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:46] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:46] tty helper[2:0] [Info]: Preparing to unpack startmgr.deb ...\n[Jul 01 20:33:46] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:46] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:46] tty helper[2:0] [Info]: Unpacking startmgr (0.1.1-2) ...\n[Jul 01 20:33:46] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:46] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:48] tty helper[2:0] [Info]: Setting up startmgr (0.1.1-2) ...\n[Jul 01 20:33:48] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:48] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:48] tty helper[2:0] [Info]: Processing triggers for baseutils (0.1.3-1) ...\n[Jul 01 20:33:48] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:48] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:49] tty helper[2:0] [Info]: Loading /tmp/_pkg/phoenix-docs.deb (this may take a while) ...\n[Jul 01 20:33:49] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:49] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:49] tty helper[2:0] [Info]: Selecting previously unselected package phoenix-docs.\n[Jul 01 20:33:49] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:49] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:49] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:33:49] tty helper[2:0] [Info]:  229 files and directories installed.)\n[Jul 01 20:33:49] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:49] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:49] tty helper[2:0] [Info]: Preparing to unpack phoenix-docs.deb ...\n[Jul 01 20:33:49] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:49] tty helper[2:0] [Info]: \n\n[Jul 01 20:33:49] tty helper[2:0] [Info]: Unpacking phoenix-docs (0.0.4-1) ...\n[Jul 01 20:33:49] tty helper[2:0] [Info]: 	\n[Jul 01 20:33:49] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:21] tty helper[2:0] [Info]: Setting up phoenix-docs (0.0.4-1) ...\n[Jul 01 20:34:21] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:21] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:21] tty helper[2:0] [Info]: Processing triggers for baseutils (0.1.3-1) ...\n[Jul 01 20:34:21] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:21] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:22] tty helper[2:0] [Info]: Loading /tmp/_pkg/libdeflate.deb (this may take a while) ...\n[Jul 01 20:34:22] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:22] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:22] tty helper[2:0] [Info]: Selecting previously unselected package libdeflate.\n[Jul 01 20:34:22] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:22] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:22] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:34:22] tty helper[2:0] [Info]:  317 files and directories installed.)\n[Jul 01 20:34:22] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:22] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:22] tty helper[2:0] [Info]: Preparing to unpack libdeflate.deb ...\n[Jul 01 20:34:22] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:22] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:22] tty helper[2:0] [Info]: Unpacking libdeflate (1.0.2-1) ...\n[Jul 01 20:34:22] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:22] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:23] tty helper[2:0] [Info]: Setting up libdeflate (1.0.2-1) ...\n[Jul 01 20:34:23] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:23] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:24] tty helper[2:0] [Info]: Loading /tmp/_pkg/dpkg.deb (this may take a while) ...\n[Jul 01 20:34:24] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:24] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:24] tty helper[2:0] [Info]: Selecting previously unselected package dpkg.\n[Jul 01 20:34:24] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:24] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:24] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:34:24] tty helper[2:0] [Info]:  329 files and directories installed.)\n[Jul 01 20:34:24] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:24] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:24] tty helper[2:0] [Info]: Preparing to unpack dpkg.deb ...\n[Jul 01 20:34:24] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:24] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:24] tty helper[2:0] [Info]: Unpacking dpkg (0.2.2-1) ...\n[Jul 01 20:34:24] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:24] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:29] tty helper[2:0] [Info]: Setting up dpkg (0.2.2-1) ...\n[Jul 01 20:34:29] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:29] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:29] tty helper[2:0] [Info]: Processing triggers for baseutils (0.1.3-1) ...\n[Jul 01 20:34:29] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:29] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:30] tty helper[2:0] [Info]: Loading /tmp/_pkg/yahtcc.deb (this may take a while) ...\n[Jul 01 20:34:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:30] tty helper[2:0] [Info]: Selecting previously unselected package yahtcc.\n[Jul 01 20:34:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:30] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:34:30] tty helper[2:0] [Info]:  353 files and directories installed.)\n[Jul 01 20:34:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:30] tty helper[2:0] [Info]: Preparing to unpack yahtcc.deb ...\n[Jul 01 20:34:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:30] tty helper[2:0] [Info]: Unpacking yahtcc (1.0-2) ...\n[Jul 01 20:34:30] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:30] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:31] tty helper[2:0] [Info]: Setting up yahtcc (1.0-2) ...\n[Jul 01 20:34:31] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:31] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:31] tty helper[2:0] [Info]: Processing triggers for baseutils (0.1.3-1) ...\n[Jul 01 20:34:31] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:31] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:32] tty helper[2:0] [Info]: Loading /tmp/_pkg/pxboot.deb (this may take a while) ...\n[Jul 01 20:34:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:32] tty helper[2:0] [Info]: Selecting previously unselected package pxboot.\n[Jul 01 20:34:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:32] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:34:32] tty helper[2:0] [Info]:  361 files and directories installed.)\n[Jul 01 20:34:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:32] tty helper[2:0] [Info]: Preparing to unpack pxboot.deb ...\n[Jul 01 20:34:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:32] tty helper[2:0] [Info]: Unpacking pxboot (0.1.1-1) ...\n[Jul 01 20:34:32] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:32] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:33] tty helper[2:0] [Info]: Setting up pxboot (0.1.1-1) ...\n[Jul 01 20:34:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:33] tty helper[2:0] [Info]: Loading /tmp/_pkg/initrd-utils.deb (this may take a while) ...\n[Jul 01 20:34:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:33] tty helper[2:0] [Info]: Selecting previously unselected package initrd-utils.\n[Jul 01 20:34:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:33] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:34:33] tty helper[2:0] [Info]:  365 files and directories installed.)\n[Jul 01 20:34:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:33] tty helper[2:0] [Info]: Preparing to unpack initrd-utils.deb ...\n[Jul 01 20:34:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:33] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:33] tty helper[2:0] [Info]: Unpacking initrd-utils (0.1-1) ...\n[Jul 01 20:34:33] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:34] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:36] tty helper[2:0] [Info]: Setting up initrd-utils (0.1-1) ...\n[Jul 01 20:34:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:36] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:36] tty helper[2:0] [Info]: Processing triggers for baseutils (0.1.3-1) ...\n[Jul 01 20:34:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:36] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:36] tty helper[2:0] [Info]: Loading /tmp/_pkg/typescript.deb (this may take a while) ...\n[Jul 01 20:34:36] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:37] tty helper[2:0] [Info]: Selecting previously unselected package typescript.\n[Jul 01 20:34:37] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:37] tty helper[2:0] [Info]: (Reading database ...\n[Jul 01 20:34:37] tty helper[2:0] [Info]:  382 files and directories installed.)\n[Jul 01 20:34:37] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:37] tty helper[2:0] [Info]: Preparing to unpack typescript.deb ...\n[Jul 01 20:34:37] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:37] tty helper[2:0] [Info]: Unpacking typescript (1.10.1-1) ...\n[Jul 01 20:34:37] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:37] tty helper[2:0] [Info]: Setting up typescript (1.10.1-1) ...\n[Jul 01 20:34:37] tty helper[2:0] [Info]: 	\n[Jul 01 20:34:37] tty helper[2:0] [Info]: \n\n[Jul 01 20:34:37] tty helper[2:0] [Info]: Creating user... (PID 31)\n\n[Jul 01 20:34:38] tty helper[2:0] [Info]: Setting up pxboot config...\n\n[Jul 01 20:34:38] tty helper[2:0] [Info]: Cleaning up...\n\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=23076}},modified=1688258089221,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}},modified=1688258005299,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},usr={created=1688258011116,type="directory",contents={libexec={created=1688258011733,type="directory",contents={["usermgr.lua"]={created=1688258011733,type="file",modified=1688258011093,data="local a=require\"system.ipc\"local b=require\"system.log\"local c=require\"system.serialization\".base64;local d=require\"system.util\"local e=require\"sha2\"local f={[\"1\"]=e.md5,[\"5\"]=e.sha256,[\"6\"]=e.sha512,[\"\"]=\"\",[\"!\"]=\"Password authentication disabled\",[\"*\"]=\"Password authentication disabled\",[\"*LK*\"]=\"User locked\",[\"*NP*\"]=\"No password set\",[\"!!\"]=\"No password set\"}local g={[e.md5]=\"1\",[e.sha256]=\"5\",[e.sha512]=\"6\",[\"Password authentication disabled\"]=\"!\",[\"User locked\"]=\"*LK*\",[\"No password set\"]=\"!!\"}local h=5000;assert(a.register(\"usermgr\"),\"Could not register usermgr service. Is another instance running?\")local i={}local function j()local k,l=io.open(\"/etc/passwd\",\"r\")if not k then b.warn(\"Could not open /etc/passwd:\",l)return end;for m in k:lines()do local n=d.split(m,\":\",true)if#n>=7 then local o=d.split(n[5],\",\",true)i[n[1]]={fullName=o[1],home=n[6],shell=n[7]}end end;k:close()k,l=io.open(\"/etc/shadow\",\"r\")if not k then b.warn(\"Could not open /etc/shadow:\",l)return end;for m in k:lines()do local n=d.split(m,\":\",true)if#n>=9 then local p=d.split(n[2],\"%$\")i[n[1]].password={hashType=f[p[1]],salt=p[2]and c.decode(p[2]),password=p[3]and c.decode(p[3]),lastChange=tonumber(n[3]),nextChange=tonumber(n[4]),expirationTime=tonumber(n[5]),expirationWarning=tonumber(n[6]),lockTime=tonumber(n[7]),expirationDate=tonumber(n[8])}end end;k:close()end;local function q()local r,l=io.open(\"/etc/passwd\",\"w\")if not r then b.warn(\"Could not open /etc/passwd:\",l)return end;local s,t=io.open(\"/etc/shadow\",\"w\")if not s then r:close()b.warn(\"Could not open /etc/shadow:\",t)return end;for u,v in pairs(i)do local p;if type(v.password.hashType)==\"string\"then p=g[v.password.hashType]else p=\"$\"..g[v.password.hashType]..\"$\"..c.encode(v.password.salt)..\"$\"..c.encode(v.password.password)end;r:write((\"%s:x:::%s:%s:%s\\n\"):format(u,v.fullName or\"\",v.home or\"\",v.shell or\"\"))s:write((\"%s:%s:%d:%s:%s:%s:%s:%s:\\n\"):format(u,p,v.password.lastChange,v.password.nextChange or\"\",v.password.expirationTime or\"\",v.password.expirationWarning or\"\",v.password.lockTime or\"\",v.password.expirationDate or\"\"))end;r:close()s:close()end;j()d.addEventListener(\"remote_event\",function(w,x)local y=d.syscall.getpinfo(x.sender)if x.type==\"usermgr.request.authenticate\"then if type(x.data)~=\"table\"or type(x.data.user)~=\"string\"or type(x.data.password)~=\"string\"then a.sendEvent(x.sender,\"usermgr.response.authenticate\",{error=\"Invalid request\"})return end;if y.user~=\"root\"then a.sendEvent(x.sender,\"usermgr.response.authenticate\",{error=\"Permission denied\"})return end;local z=i[x.data.user]local A;if not z then a.sendEvent(x.sender,\"usermgr.response.authenticate\",{error=\"Unknown user\"})return end;if z.password.hashType==\"\"then a.sendEvent(x.sender,\"usermgr.response.authenticate\",{result=true})return elseif type(z.password.hashType)==\"string\"then a.sendEvent(x.sender,\"usermgr.response.authenticate\",{error=z.password.hashType})return end;if z.password.expirationTime then if z.password.lockTime and os.time()>=(z.password.lastChange+z.password.expirationTime+z.password.lockTime)*86400 then a.sendEvent(x.sender,\"usermgr.response.authenticate\",{error=\"User locked\"})if not z.password.expirationDate then z.password.expirationDate=math.floor(os.time()/86400)end;z.password.hashType=\"User locked\"z.password.password=nil;z.password.salt=nil;q()return elseif os.time()>=(z.password.lastChange+z.password.expirationTime)*86400 then a.sendEvent(x.sender,\"usermgr.response.authenticate\",{error=\"Password expired\"})if not z.password.expirationDate then z.password.expirationDate=math.floor(os.time()/86400)q()end;return elseif z.password.expirationWarning and os.time()>=(z.password.lastChange+z.password.expirationTime-z.password.expirationWarning)*86400 then A=\"Password expires in \"..math.floor(os.time()/86400)-(z.password.lastChange+z.password.expirationTime)..\" days\"end end;local B=x.data.password..z.password.salt;for C=1,h do B=z.password.hashType(B)end;if B==z.password.password then a.sendEvent(x.sender,\"usermgr.response.authenticate\",{result=true,message=A})else a.sendEvent(x.sender,\"usermgr.response.authenticate\",{error=\"Incorrect password\"})end elseif x.type==\"usermgr.request.getUserInfo\"then if type(x.data)~=\"table\"or type(x.data.user)~=\"string\"then a.sendEvent(x.sender,\"usermgr.response.getUserInfo\",{error=\"Invalid request\"})return end;local z=i[x.data.user]a.sendEvent(x.sender,\"usermgr.response.getUserInfo\",{result=z and{name=x.data.user,fullName=z.fullName,home=z.home,shell=z.shell,lastChange=z.password.lastChange*86400,nextChange=z.password.nextChange and(z.password.lastChange+z.password.nextChange)*86400,expirationTime=z.password.expirationTime and(z.password.lastChange+z.password.expirationTime)*86400,expirationWarning=z.password.expirationTime and z.password.expirationWarning and(z.password.lastChange+z.password.expirationTime-z.password.expirationWarning)*86400,lockTime=z.password.expirationTime and z.password.lockTime and(z.password.lastChange+z.password.expirationTime+z.password.lockTime)*86400,isExpired=z.password.expirationDate~=nil,isLocked=z.password.hash and z.password.hash:match\"^!\",hasPassword=z.password.type~=\"No password set\"}})elseif x.type==\"usermgr.request.addUser\"then if type(x.data)~=\"table\"or type(x.data.user)~=\"string\"or x.data.password~=nil and type(x.data.password)~=\"string\"then a.sendEvent(x.sender,\"usermgr.response.addUser\",{error=\"Invalid request\"})return end;if y.user~=\"root\"then a.sendEvent(x.sender,\"usermgr.response.addUser\",{error=\"Permission denied\"})return end;if i[x.data.user]then a.sendEvent(x.sender,\"usermgr.response.addUser\",{error=\"User already exists\"})return end;local z={fullName=tostring(x.data.fullName or\"\"),home=tostring(x.data.home or\"\"),shell=tostring(x.data.shell or\"\"),password={lastChange=math.floor(os.time()/86400)}}if type(x.data.lockTime)==\"number\"then z.password.lockTime=x.data.lockTime end;if x.data.password==nil then z.password.hashType=\"No password set\"elseif x.data.password==\"\"then z.password.hashType=\"\"else local D=\"\"for C=1,16 do D=D..string.char(math.random(0,255))end;local B=x.data.password..D;z.password.hashType=e.sha256;for C=1,h do B=z.password.hashType(B)end;z.password.salt=D;z.password.password=B end;i[x.data.user]=z;q()a.sendEvent(x.sender,\"usermgr.response.addUser\",{result=true})elseif x.type==\"usermgr.request.editUser\"then if type(x.data)~=\"table\"or type(x.data.user)~=\"string\"then a.sendEvent(x.sender,\"usermgr.response.editUser\",{error=\"Invalid request\"})return end;if y.user~=\"root\"and y.user~=x.data.user then a.sendEvent(x.sender,\"usermgr.response.editUser\",{error=\"Permission denied\"})return end;local z=i[x.data.user]if not z then a.sendEvent(x.sender,\"usermgr.response.editUser\",{error=\"User does not exist\"})return end;if type(x.data.fullName)==\"string\"then z.fullName=x.data.fullName end;if type(x.data.home)==\"string\"then z.home=x.data.home end;if type(x.data.shell)==\"string\"then z.shell=x.data.shell end;q()a.sendEvent(x.sender,\"usermgr.response.editUser\",{result=true})elseif x.type==\"usermgr.request.removeUser\"then if type(x.data)~=\"table\"or type(x.data.user)~=\"string\"then a.sendEvent(x.sender,\"usermgr.response.removeUser\",{error=\"Invalid request\"})return end;if y.user~=\"root\"then a.sendEvent(x.sender,\"usermgr.response.removeUser\",{error=\"Permission denied\"})return end;if not i[x.data.user]then a.sendEvent(x.sender,\"usermgr.response.removeUser\",{error=\"User does not exist\"})return end;i[x.data.user]=nil;q()a.sendEvent(x.sender,\"usermgr.response.removeUser\",{result=true})elseif x.type==\"usermgr.request.setPassword\"then if type(x.data)~=\"table\"or type(x.data.user)~=\"string\"or x.data.password~=nil and type(x.data.password)~=\"string\"then a.sendEvent(x.sender,\"usermgr.response.setPassword\",{error=\"Invalid request\"})return end;if y.user~=\"root\"then a.sendEvent(x.sender,\"usermgr.response.setPassword\",{error=\"Permission denied\"})return end;local z=i[x.data.user]if not z then a.sendEvent(x.sender,\"usermgr.response.setPassword\",{error=\"Unknown user\"})return end;if x.data.password==nil then if x.data.isLocked==true then if z.password.password then z.password.password=\"!\"..z.password.password end elseif x.data.isLocked==false then if z.password.password then z.password.password=z.password.password:gsub(\"^!*\",\"\")end elseif x.data.expirationTime then z.password.expirationTime=z.password.lastChange+x.data.expirationTime else z.password.hashType=\"No password set\"z.password.salt,z.password.password=nil end else local D=\"\"for C=1,16 do D=D..string.char(math.random(0,255))end;local B=x.data.password..D;z.password.hashType=e.sha256;for C=1,h do B=z.password.hashType(B)end;z.password.salt=D;z.password.password=B;z.password.lastChange=math.floor(os.time()/86400)if type(x.data.nextChange)==\"number\"then z.password.nextChange=x.data.nextChange end;if type(x.data.expirationTime)==\"number\"then z.password.expirationTime=x.data.expirationTime end;if type(x.data.expirationWarning)==\"number\"then z.password.expirationWarning=x.data.expirationWarning end;if type(x.data.lockTime)==\"number\"then z.password.lockTime=x.data.lockTime end end;q()a.sendEvent(x.sender,\"usermgr.response.setPassword\",{result=true})elseif x.type:match(\"^usermgr%.request%.\")then a.sendEvent(x.sender,x.type:gsub(\"^usermgr%.request%.\",\"usermgr.response.\"),{error=\"Unknown request\"})end end)d.runEvents()\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=9305}},modified=1688258011733,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},share={created=1688258012229,type="directory",contents={man={created=1688258070937,type="directory",contents={man1={created=1688258028813,type="directory",contents={["startmgr.md"]={created=1688258028813,type="file",modified=1688258027983,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["login.md"]={created=1688258011749,type="file",modified=1688258011133,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["tar.md"]={created=1688258026026,type="file",modified=1688258025516,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["sudo.md"]={created=1688258011796,type="file",modified=1688258011206,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["su.md"]={created=1688258011783,type="file",modified=1688258011179,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["startctl.md"]={created=1688258028773,type="file",modified=1688258027713,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["shutdown.md"]={created=1688258028726,type="file",modified=1688258027446,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["passwd.md"]={created=1688258011766,type="file",modified=1688258011156,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0}},modified=1688258028813,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},man5={created=1688258011863,type="directory",contents={["shadow.md"]={created=1688258011863,type="file",modified=1688258011323,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["motd.md"]={created=1688258011829,type="file",modified=1688258011269,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["passwd.md"]={created=1688258011846,type="file",modified=1688258011296,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0}},modified=1688258011863,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},man7={created=1688258016846,type="directory",contents={["spanfs.md"]={created=1688258016846,type="file",modified=1688258016559,data="<summary>RAID-like spanning filesystem across disk peripherals</summary>\n# NAME\nspanfs - RAID-like spanning filesystem across disk peripherals\n\n# DESCRIPTION\nspanfs is a kernel module that implements a spanning filesystem layer across a\nnumber of disk peripherals. It concatenates the contents of the disks together\ninto a single drive, which can store large files across multiple disks.\n\nspanfs stores file information using a single index disk, which holds the\nentire filesystem structure, plus up to 65535 of disks to store file\ncontents. Each disk has a file called \".spanfs\", which contains three lines:\nthe user-friendly name of the filesystem, a UUID identifying it, and the ID\nof the disk in the array. The ID is used to identify the disk's position in\nthe array regardless of mountpoint.\n\nDisk ID 0 is the index disk. This disk contains only one file called \"index\"\nwhich is a binary file that stores the entire filesystem tree, including\nfile names, metadata, and directory contents. A directory entry consists of\nthe following data (all integers are little-endian):\n\n| Format | Size | Description       |\n|--------|------|-------------------|\n| `I`    | 4    | Directory entry length (excluding contents) |\n| `I`    | 4    | File size         |\n| `I8`   | 8    | Creation date     |\n| `I8`   | 8    | Modification date |\n| `B`    | 1    | Type (using TAR file types) |\n| `B`    | 1    | Bits 0-2: world permissions, bit 7: set user |\n| `s2`   | 2+x  | File name         |\n| `s2`   | 2+x  | Owner name        |\n| `B`    | 1    | Number of permission entries |\n| `s2B`* | (3+x)*y | List of permissions - each entry is a name followed by a 3-bit mode |\n\nThe index file consists of one directory entry for the root of the\nfilesystem, which is always of type \"directory\".\n\nIf the entry points to a file, it is followed by a 16-byte string containing\nthe UUID of the file data, then a 2-byte integer indicating the number of\ndisks the file is split across, and then a list of 2-byte integers holding\nthe IDs of the disks which hold the data, in sequence, and finally a CRC-32\nchecksum of the file (4 bytes).\n\nIf the entry is a directory, it is followed by a 4-byte integer with the\nnumber of files in the directory, followed by each entry in sequence. If the\nentry is a link, it is followed by a 2-byte length string with the path that\nthe link points to. If the entry is a FIFO there is no data after the entry.\n\nNote that the entry length does not include the length of the contents -\nthis is to allow the format to be extended for more metadata in the future.\nSkip over the entire entry length to get to the contents - do not rely on\nthe contents being at the end of the above table! The order of the above\nfields will not change in the future - fields will only be added at the end.\n\nFile data is stored by a random UUID assigned to the file. Each part of a\nfile is distributed across independent chunks on each disk, with each chunk\nnamed with the file's UUID. The file can be reconstructed by concatenating\nthe contents of each chunk in the order specified in the ID list in the file\nentry.\n\nThe default allocation algorithm will first attempt to store the entire file\non a single disk, finding the disk with the least amount of free space that\ncan still fit the whole file. If there are no disks that can store the\nentire file, then the file will be split across as few disks as possible,\nusing the disks with the largest free space in order. If two disks have the\nsame amount of free space, the disk with the lowest ID is preferred.\n\n# CONFIGURATION\n**spanfs** can be installed by dropping the `spanfs.lua` kernel module into\n`/lib/modules`. Ensure the file is not world-writable, and is executable by root.\n\nUse the **mkspanfs**(8) program to create new spanfs volumes across disks.\n\n# SEE ALSO\n**mkspanfs**(8), **spaninfo**(8)",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=3841}},modified=1688258016846,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},[".mandb"]={created=1688258076614,type="file",modified=1688258076614,data="login(1): \npasswd(1): \nshutdown(1): \nstartctl(1): \nstartmgr(1): \nsu(1): \nsudo(1): \ntar(1): \n_template(2): \nacquiresemaphore(2): acquires a resource from a semaphore object\nalarm(2): sets an alarm\narplist(2): returns the list of known IP to computer ID mappings\narpset(2): sets the computer ID mapping for the specified IP\nattach(2): attaches a peripheral of the specified type to the computer\ncallmodule(2): calls a function on a kernel module\ncancel(2): cancels a previously set timer or alarm\ncchost(2): returns the value of the _HOST variable\ncheckuri(2): returns whether the specified URI is valid\nchmod(2): changes the permissions of a file or directory\nchown(2): changes the owner of a file or directory\nchroot(2): changes the root directory\ncombine(2): combines a set of path components into a valid path\nconnect(2): creates a connection to a remote resource\ndetach(2): detaches a peripheral from a side\ndevalias(2): sets or removes an alias for a device\ndevcall(2): calls the specified method on the device\ndevchildren(2): returns a list of names of all children of the current device\ndevfind(2): finds devices with a specific type\ndevinfo(2): returns a table with information describing a device node\ndevlisten(2): enables listening for events from this device\ndevlock(2): locks the specified device to this process\ndevlookup(2): returns all paths to devices that have the specified node name\ndevmethods(2): returns a list of methods that can be called on this device\ndevproperties(2): returns a list of properties on the device\ndevunlock(2): unlocks the specified device\nipconfig(2): queries or modifies the current PIP config\nkernargs(2): returns the arguments passed to the kernel\nkill(2): sends a signal to another process\nlink(2): creates a new symbolic link\nlist(2): returns a list of file names present in a directory\nlisten(2): starts listening for connections on the specified URI\nlistmodules(2): returns a list of currently loaded kernel module names\nloadCraftOSAPI(2): loads a CraftOS API or module from the ROM\nloadmodule(2): attempts to load a kernel module into memory\nlockmutex(2): locks the specified mutex\nmkdir(2): creates a new directory\nmkfifo(2): creates a new FIFO pipe file\nmount(2): mounts a disk device to a path\nmountlist(2): returns a list of mounts on the system\nnetcontrol(2): sends a control message to the specified IP address\nnetevent(2): returns or toggles the current state of network event reporting\nopen(2): opens a file for reading or writing\nqueueEvent(2): queues an arbitrary event to be sent back to the current process\nreleasesemaphore(2): releases a resource from a semaphore\nremove(2): deletes a file at a path\nrename(2): renames a file or directory from one path to another\nrouteadd(2): adds a new route to the specified route table\nroutedel(2): removes the specified route from the specified table\nroutelist(2): returns a list of route entries in the specified route table\nsendEvent(2): queues a remote event to be sent to another process\nsignal(2): registers a handler function to be called for a signal\nstat(2): returns a table with information about a file or directory\ntimeacquiresemaphore(2): acquires a resource from a semaphore object, waiting until available or timeout\ntimelockmutex(2): locks the specified mutex, waiting until the mutex is unlocked or timeout\ntimer(2): sets a timer\ntrylockmutex(2): attempts to lock the mutex\nunlisten(2): stops listening on a URI previously passed to listen\nunloadmodule(2): unloads a kernel module from memory\nunlockmutex(2): unlocks the specified mutex\nunmount(2): unmounts the mount at the specified path\nuptime(2): returns the amount of time the computer has been running\nversion(2): returns the Phoenix version or build number\nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nsystem(3): \nusermgr(3): \nmotd(5): \npasswd(5): \nshadow(5): \nyahtcc(6): Yahtzee clone for Phoenix\nspanfs(7): RAID-like spanning filesystem across disk peripherals\ncomponents(8): \ndpkg(8): \nmkspanfs(8): Create and format new spanfs disks\nspaninfo(8): \nupdate-initrd(8): \nupdate(8): \nuseradd(8): \nuserdel(8): \nusermgr(8): \nusermod(8): \nkernel(9): \n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=4243},man6={created=1688258071770,type="directory",contents={["yahtcc.md"]={created=1688258071770,type="file",modified=1688258071240,data="<summary>Yahtzee clone for Phoenix</summary>\n# NAME\n    yahtcc - Yahtzee clone for Phoenix\n\n# SYNOPSIS\n    **yahtcc**\n\n# DESCRIPTION\n**yahtcc** is a clone of the popular dice game \"Yahtzee\". Players roll a set of\nfive dice up to three times per round, trying to get the dice to roll in\ncertain patterns. Each pattern grants a number of points, and the goal of the\ngame is to achieve the highest number of points.\n\nThe main screen shows a scorecard with the available categories and the number\nof points already scored or available to score. Locked scores are colored white,\npossible scores are colored blue, and possible scores worth 0 points are colored\ngray. Below that, the current set of dice is displayed. Locked dice are colored\nyellow, while unlocked dice are colored white. The roll cup shows whether\nanother roll is available. The current total score and number of available rolls\nis displayed above the scorecard.\n\nTo roll the dice, press the **R** key or click on the roll cup. The unlocked\ndice will be rolled fresh, leaving the locked dice in-place. Dice may then be\nlocked or unlocked by pressing the **1**-**5** keys, or by clicking on any of\nthe dice. To lock a score, use the arrow keys to select the category to score,\nand press **Enter** to score it. Alternatively, double-click on any of the\nunscored categories.\n\n# GAMEPLAY\nA game of **yahtcc** consists of 13 rounds, with each round having three dice\nrolls, and ends when the player selects a pattern to score the current set of\ndice on. Between rolls, the player may lock any of the five dice, which will\nprevent them from being changed in the next roll. The player may score during\nany roll, but they must score after the third roll. Once a pattern is scored, it\ncannot be changed later.\n\nSix of the patterns are scored based on the number of dice in the set that match\nthe number for the score. The score is calculated by summing the values of those\ndice. For example, the *Threes* pattern will sum the value of all of the dice\nwith a value of 3.\n\nSix of the patterns are all-or-nothing based on whether the set of dice contains\ndice matching a pattern. If the pattern matches, the category gets the full score; otherwise, it is worth 0 points. The patterns in this category are scored as follows:\n\n- *Three of a Kind*: Matches when any three dice have the same value. Worth\nthe sum of all dice in the set.\n- *Four of a Kind*: Matches when any four dive have the same value. Worth\nthe sum of all dice in the set.\n- *Full House*: Matches when three dice have the same value, and two differently-valued dice are equal. Worth 25 points.\n- *Small Straight*: Matches when four dice have sequential values (i.e. 1-2-3-4,\n2-3-4-5, 3-4-5-6). Worth 30 points.\n- *Large Straight*: Matches when five dice have sequential values (i.e.\n1-2-3-4-5, 2-3-4-5-6). Worth 40 points.\n- *Yahtzee*: Matches when all five dice have the same value. Worth 50 points.\n\nThe last pattern, *Chance*, is a wildcard pattern that is always worth points.\nIts value is equal to the sum of the values of all dice.\n\nTwo bonuses can be triggered during the game. The *Bonus* score on the left is\nactivated when the sum of all of the numbered scores is greater than or equal to\n63, which corresponds to at least 3 dice in each category. When activated, it is\nworth 35 points. The *Yahtzee Bonus* score on the right is automatically\nactivated when all five dice rolled have the same value and the *Yahtzee*\ncategory has been scored with 50 points. It is worth 100 points.\n\nOnce all 13 categories have been scored, the game ends, and the final score is\nsimply the sum of all points awarded in each category. The final score is\nprinted to the console after the game ends.\n\n# AUTHORS\nYahtCC was written by JackMacWindows in 2020, and ported to Phoenix in 2022. It is licensed under the GPL license.\n\n*Yahtzee* is a registered trademark of Hasbro, Inc.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=3884}},modified=1688258071770,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},man2={created=1688258060893,type="directory",contents={["ipconfig.md"]={created=1688258058763,type="file",modified=1688258038583,data="<summary>queries or modifies the current PIP config</summary>\n# NAME\nipconfig - queries or modifies the current PIP config\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**ipconfig**(*device*: string, *info*: table?): table?\n\n# DESCRIPTION\nReturns a table with information about the current PIP configuration for the specified modem, and optionally sets new options (requires root).\n\nIf no configuration is present, then both the IP and netmask must be specified if `info` is set.\n\n# PARAMETERS\n1. `device`: The path to the modem to operate on\n2. `info`: If provided, a table of configuration options to set on the device, in the same format as the returned table\n\n# RETURN VALUE\nA table of PIP configuration entries. These are the currently used members:\n* `ip: string`: The IP address of the modem. No IP is indicated with an empty string. (When setting, this may also be a 32-bit number representing the IP in big-endian format.)\n* `netmask: number`: The subnet mask expressed as a number of bits, as in CIDR notation. No subnet mask is indicated with a value of `0`. (When setting, this may also be an IP-formatted address string.)\n* `up: boolean`: Whether the link is currently up. If a link is down, no Phoenix networking protocols will be serviced on this device. (This allows user applications to manually manage the protocols instead, if required.)\n\nIf the device does not have any IP configuration, returns `nil`.\n\n# ERRORS\nThis syscall may throw an error if:\n* The device is not present.\n* The device is not a valid modem.\n* A non-root user attempted to set configurations.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1673},["mountlist.md"]={created=1688258059500,type="file",modified=1688258042700,data="<summary>returns a list of mounts on the system</summary>\n# NAME\nmountlist - returns a list of mounts on the system\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**mountlist**(): [{*path*: string, *type*: string, *source*: string, *options*: table}]\n\n# DESCRIPTION\nReturns a list of mounts on the system.\n\n# PARAMETERS\nThis syscall does not take any arguments.\n\n# RETURN VALUE\nA list of tables containing the mount path, the filesystem type, the source path, and any options stored in the mount.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**mount**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=666},["version.md"]={created=1688258060893,type="file",modified=1688258050550,data="<summary>returns the Phoenix version or build number</summary>\n# NAME\nversion - returns the Phoenix version or build number\n\n# SYNOPSIS\n**version**(*buildnum*: boolean?): string\n\n# DESCRIPTION\nReturns the Phoenix version or build number.\n\n# PARAMETERS\n1. `buildnum`: `true` to return the minor build string/information, `false` to return the version number\n\n# RETURN VALUE\nThe version number of the current Phoenix kernel.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**cchost**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=539},["devunlock.md"]={created=1688258058703,type="file",modified=1688258038283,data="<summary>unlocks the specified device</summary>\n# NAME\ndevunlock - unlocks the specified device\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**devunlock**(*device*: string)\n\n# DESCRIPTION\nUnlocks the specified device, allowing access to the device in other processes. This syscall does nothing if the device is not locked.\n\n# PARAMETERS\n1. `device`: The device path or UUID to operate on\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The specified device does not exist.\n* Another process has locked this device.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**devlock**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=689},["devfind.md"]={created=1688258058310,type="file",modified=1688258035963,data="<summary>finds devices with a specific type</summary>\n# NAME\ndevfind - finds devices with a specific type\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**devfind**(*type*: string): string...\n\n# DESCRIPTION\nReturns all paths to devices that have the specified type implemented.\n\n# PARAMETERS\n1. `name`: The device type to search for\n\n# RETURN VALUE\nThe path to each node in the device tree that has the specified type.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**devlookup**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=588},["loadmodule.md"]={created=1688258059220,type="file",modified=1688258041086,data="<summary>attempts to load a kernel module into memory</summary>\n# NAME\nloadmodule - attempts to load a kernel module into memory\n\n# SYNOPSIS\n**loadmodule**(*path*: string)\n\n# DESCRIPTION\nAttempts to load a kernel module into memory. This syscall requires root.\n\n# PARAMETERS\n1. `path`: The path to the module to load.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The user is not root.\n* The path refers to a directory.\n* The module is either not owned by root or world-writable.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**unloadmodule**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=609},["alarm.md"]={created=1688258057337,type="file",modified=1688258030683,data="<summary>sets an alarm</summary>\n# NAME\nalarm - sets an alarm\n\n# LIBRARY\nStandard system library, utility module (*libsystem*, `system.util`)\n\n# SYNOPSIS\n**alarm**(*timeout*: number): number\n\n# DESCRIPTION\nSets an alarm that will send an `alarm` event at the specified time.\n\n# PARAMETERS\n1. `timeout`: The time to set the alarm to.\n\n# RETURN VALUE\nThe ID of the new alarm created.\n\n# ERRORS\nThis syscall does not throw errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**cancel**(2), **timer**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=508},["mount.md"]={created=1688258059443,type="file",modified=1688258042383,data="<summary>mounts a disk device to a path</summary>\n# NAME\nmount - mounts a disk device to a path\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**mount**(*type*: string, *src*: string, *dest*: string, *options*: table?)\n\n# DESCRIPTION\nMounts a disk device to a path using the specified filesystem and options.\n\n# PARAMETERS\n1. `type`: The filesystem type to use when mounting.\n2. `src`: The source device to mount. This argument's meaning depends on the filesystem type.\n3. `dest`: The directory to mount the new filesystem to.\n4. `options`: A table of options to pass to the filesystem mounter. The available options are specified by each individual filesystem.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The filesystem type does not exist.\n* The source device is invalid for the specified filesystem type.\n* The destination path does not exist.\n* The options passed to the mounter are invalid for the specified filesystem type.\n* The current user does not have permission to access to the source device.\n* The current user does not have permission to write to to the destination path.\n* The mounter ran into an issue while mounting the device.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**mountlist**(2), **unmount**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1344},["unloadmodule.md"]={created=1688258060620,type="file",modified=1688258049183,data="<summary>unloads a kernel module from memory</summary>\n# NAME\nunloadmodule - unloads a kernel module from memory\n\n# SYNOPSIS\n**unloadmodule**(*path*: string)\n\n# DESCRIPTION\nUnloads a kernel module from memory. This syscall requires root.\n\n# PARAMETERS\n1. `name`: The name of the module to unload\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The user is not root.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**loadmodule**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=491},["arpset.md"]={created=1688258057453,type="file",modified=1688258031243,data="<summary>sets the computer ID mapping for the specified IP</summary>\n# NAME\narpset - sets the computer ID mapping for the specified IP\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**arpset**(*device*: string, *ip*: string, *id*: number?)\n\n# DESCRIPTION\nSets the computer ID mapping for the specified IP on the requested device.\n\n# PARAMETERS\n1. `device`: The path to the modem to add for.\n2. `ip`: The IP address of the target computer.\n3. `id`: The computer ID of the target computer, or `nil` to remove the entry.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The current user is not root.\n* The device is not present.\n* The device is not a valid modem.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**arplist**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=830},["mkfifo.md"]={created=1688258059387,type="file",modified=1688258042060,data="<summary>creates a new FIFO pipe file</summary>\n# NAME\nmkfifo - creates a new FIFO pipe file\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**mkfifo**(*path*: string)\n\n# DESCRIPTION\nCreates a new FIFO (first in first out) pipe file at a path, creating any parent directories if they don't exist.\n\n# PARAMETERS\n1. `path`: The path to the FIFO to create.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The current user does not have permission to write the parent directory of the first directory created.\n* The path already exists.\n\n# HISTORY\nIntroduced in Phoenix 0.0.3.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=681},["unlockmutex.md"]={created=1688258060697,type="file",modified=1688258049530,data="<summary>unlocks the specified mutex</summary>\n# NAME\nunlockmutex - unlocks the specified mutex\n\n# LIBRARY\nStandard system library, synchronization module (*libsystem*, `system.sync`)\n\n# SYNOPSIS\n**unlockmutex**(*mtx*: mutex)\n\n# DESCRIPTION\nUnlocks the specified mutex.\n\n# PARAMETERS\n1. `mtx`: The mutex to unlock.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The mutex is already unlocked.\n* The mutex is currently locked by a different thread.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**lockmutex**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=573},["unmount.md"]={created=1688258060777,type="file",modified=1688258049867,data="<summary>unmounts the mount at the specified path</summary>\n# NAME\nunmount - unmounts the mount at the specified path\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**unmount**(*path*: string)\n\n# DESCRIPTION\nUnmounts the mount at the specified path.\n\n# PARAMETERS\n1. `path`: The path to the mount.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The path does not exist.\n* The path specified is not a mount.\n* The user does not have permission to write to the path.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**mount**(2), **mountlist**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=658},["unlisten.md"]={created=1688258060557,type="file",modified=1688258048850,data="<summary>stops listening on a URI previously passed to listen</summary>\n# NAME\nunlisten - stops listening on a URI previously passed to listen\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**unlisten**(*uri*: string)\n\n# DESCRIPTION\nStops listening on a URI previously passed to `listen`. This does not close any handles that are in use.\n\n# PARAMETERS\n1. `uri`: The URI to listen on. The path portion is ignored.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The computer is not listening on the specified URI.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**listen**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=682},["trylockmutex.md"]={created=1688258060500,type="file",modified=1688258048480,data="<summary>attempts to lock the mutex</summary>\n# NAME\ntrylockmutex - attempts to lock the mutex\n\n# LIBRARY\nStandard system library, synchronization module (*libsystem*, `system.sync`)\n\n# SYNOPSIS\n**trylockmutex**(*mtx*: mutex): boolean\n\n# DESCRIPTION\nAttempts to lock the mutex, returning immediately if the mutex could not be locked.\n\n# PARAMETERS\n1. `mtx`: The mutex to lock.\n\n# RETURN VALUE\nWhether the mutex could be locked.\n\n# ERRORS\nThis syscall may throw an error if:\n* The mutex is already claimed by the current thread and is not recursive.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**lockmutex**(2), **unlockmutex**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=638},["timer.md"]={created=1688258060437,type="file",modified=1688258048150,data="<summary>sets a timer</summary>\n# NAME\ntimer - sets a timer\n\n# LIBRARY\nStandard system library, utility module (*libsystem*, `system.util`)\n\n# SYNOPSIS\n**timer**(*timeout*: number): number\n\n# DESCRIPTION\nSets a timer that will send a `timer` event after the specified number of seconds.\n\n# PARAMETERS\n1. `timeout`: The amount of time to set the timer for.\n\n# RETURN VALUE\nThe ID of the new timer created.\n\n# ERRORS\nThis syscall does not throw errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**alarm**(2), **cancel**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=531},["timelockmutex.md"]={created=1688258060377,type="file",modified=1688258047803,data="<summary>locks the specified mutex, waiting until the mutex is unlocked or timeout</summary>\n# NAME\ntimelockmutex - locks the specified mutex, waiting until the mutex is unlocked or timeout\n\n# LIBRARY\nStandard system library, synchronization module (*libsystem*, `system.sync`)\n\n# SYNOPSIS\n**timelockmutex**(*mtx*: mutex, *timeout*: number): boolean\n\n# DESCRIPTION\nLocks the specified mutex, waiting for the resource to be freed before claiming it. If the mutex isn't unlocked after the specified timeout, the syscall returns without locking.\n\n# PARAMETERS\n1. `mtx`: The mutex to lock.\n2. `timeout`: The amount of time to wait in seconds.\n\n# RETURN VALUE\nWhether the mutex could be locked.\n\n# ERRORS\nThis syscall may throw an error if:\n* The mutex is already claimed by the current thread and is not recursive.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**lockmutex**(2), **unlockmutex**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=900},["connect.md"]={created=1688258058023,type="file",modified=1688258034173,data="<summary>creates a connection to a remote resource</summary>\n# NAME\nconnect - creates a connection to a remote resource\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**connect**(*options*: table|string): Handle?\n\n# DESCRIPTION\nCreates a connection to a remote resource using the specified options table or URI.\n\n# PARAMETERS\n1. `options`: Either a string with a URI (no options), or a table with any of the following elements:\n  * `url: string`: The URI to connect to (required)\n  * `encoding: \"utf8\" | \"utf-8\" | \"binary\"`: HTTP/WS: Encoding to use when transferring data (defaults to `\"binary\"`)\n  * `headers: {[string] = string}`: HTTP/WS: Any headers to send in the request\n  * `method: string`: HTTP: The method to use when connecting (defaults to `\"GET\"`)\n  * `redirect: boolean`: HTTP: Whether to automatically redirect responses that indicate a redirect (defaults to `true`)\n  * `device: string`: Rednet/PSP: The path to the device to use to establish the connection (usually a modem), or `nil` to use all modems (note: if this path points to multiple devices, all are used)\n\n# RETURN VALUE\nA handle object that can be used to send/receive data, or `nil` + an error if the handle could not be created. The handle is not guaranteed to be ready to send/receive data immediately, however, so the `status` method should be checked before using.\n\n# ERRORS\nThis syscall may throw an error if:\n* The URI specified is malformed.\n* The scheme in the URI is not supported.\n* The device is not present.\n* The device is not a valid modem.\n\n# NOTES\nThe **connect** syscall returns a handle object for the specific protocol that was requested. These handles all contain a common set of methods, as well as some special methods that are specific to each protocol.\n\nAll handles have an `id` field, which is a number that uniquely identifies the connection. This ID is used in `handle_status_change` events to indicate which handle has changed status.\n\n`status(): \"ready\"|\"connecting\"|\"error\"|\"open\"|\"closed\", string?`  \nReturns the current status of the handle/connection.\n\n*Arguments*  \nThis method does not take any arguments.\n\n*Return Values*  \nThe current status of the handle/connection. These are the currently assigned statuses:\n* `ready`: Indicates the handle is ready to send data, but a connection has not yet been established.\n* `connecting`: Indicates the handle sent a connection request, and is currently awaiting a response. The handle is not ready to send or receive data.\n* `error`: Indicates an error has occurred while connecting to the server, and no data has been sent or received. This handle may no longer be used. More information may be supplied in a second return value.\n* `open`: Indicates the connection has been established, and data can be received (and possibly sent).\n* `closed`: Indicates the connection has been closed, and no data may be sent or received. This handle may no longer be used.\n\n*Errors*  \nThis method does not throw any errors.\n\n`read(mode...: string|number): string|number|nil...`  \nRead one or more values from the connection in a manner similar to `io.file:read`.\n\n*Arguments*  \n1. `mode...`: The read mode to use. This may be one of the following options:\n  * `*a`: Read all data available in the connection.\n  * `*l`: Read a line, excluding the final newline.\n  * `*L`: Read a line, including the final newline.\n  * `*n`: Read a number value if available.\n  * (any number): Read the specified number of characters/bytes.\n  If no arguments are specified, this defaults to `read(\"*l\")`.\n\n*Return Values*  \nThe values extracted from the connection. If one of the modes could not be read, the value returned for that parameter and all ones after are `nil`.\n\n*Errors*  \nThis method may throw an error if:\n* The handle is not currently open.\n\n`write(data...: any)`  \nWrites the supplied values to the connection.\n\n*Arguments*  \n1. `data...`: The values to write. Values that are not strings will be converted with `tostring`, unless otherwise specified by the handle type.\n\n*Return Values*  \nThis method does not return anything.\n\n*Errors*  \nThis method may throw an error if:\n* The handle is not currently open or ready.\n\n`close()`  \nCloses the connection.\n\n*Arguments*  \nThis method does not take any arguments.\n\n*Return Values*  \nThis method does not return anything.\n\n*Errors*  \nThis method may throw an error if:\n* The connection is not currently open.\n\n## HTTP handles\nHTTP\\[S\\] handles have a special flow to work properly. Upon creating the handle, it will be set in the `ready` state, and no request is sent yet. The request is only sent once the `write` method is called once. After that, the `write` method will no longer function, so make sure to add all data in the request in that `write` call. Even if no data needs to be sent (e.g. `GET` method), `write` must be called exactly once, even if it's with no data.\n\nAfter calling `write`, the handle will shift into `connecting` status, awaiting a response from the server. The client must wait for `status` to change to `open` before attempting to read data. After that, the handle functions like a normal read-only handle.\n\nHTTP handles have the following additional methods:\n\n`responseHeaders(): {[string]: string}`  \nReturns the headers contained in the response.\n\n*Arguments*  \nThis method does not take any arguments.\n\n*Return Values*  \nA key-value table of headers sent back from the server.\n\n*Errors*  \nThis method may throw an error if:\n* The connection is not currently open.\n\n`responseCode(): number`  \nReturns the HTTP response code returned from the server.\n\n*Arguments*  \nThis method does not take any arguments.\n\n*Return Values*  \nThe response code sent from the server.\n\n*Errors*  \nThis method may throw an error if:\n* The connection is not currently open.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=5863},["uptime.md"]={created=1688258060837,type="file",modified=1688258050203,data="<summary>returns the amount of time the computer has been running</summary>\n# NAME\nuptime - returns the amount of time the computer has been running\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**uptime**(): number\n\n# DESCRIPTION\nReturns the amount of time the computer has been running.\n\n# PARAMETERS\nThis syscall does not take any arguments.\n\n# RETURN VALUE\nThe amount of time the computer has been running in seconds.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=563},["listen.md"]={created=1688258059050,type="file",modified=1688258040120,data="<summary>starts listening for connections on the specified URI</summary>\n# NAME\nlisten - starts listening for connections on the specified URI\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**listen**(*uri*: string)\n\n# DESCRIPTION\nStarts listening for connections on the specified URI, using the protocol, IP, and port indicated in the URI. For PSP connections, the IP is used to determine the device to listen on - if this is `0.0.0.0`, then all connections are accepted.\n\nWhen a request is received, a `network_request` event is sent with the URI of the listener, the IP of the other computer (if available), and a handle to the connection. Listening will continue until `unlisten` is called with the same URI. (Note: PSP can only handle one connection at once per port.)\n\nThe following URI schemes are built-in:\n* `http`: Internet HTTP requests (CraftOS-PC only)\n* `ws`: Internet WebSocket connections (CraftOS-PC only)\n* `psp`: Phoenix Socket Protocol connections\n\nOther schemes may be implemented in kernel modules.\n\n# PARAMETERS\n1. `uri`: The URI to listen on. The path portion is ignored.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The URI specified is malformed.\n* The scheme in the URI is not supported.\n* The computer does not own the IP in the URI.\n* The computer is already using the IP/port specified.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**unlisten**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1491},["queueEvent.md"]={created=1688258059727,type="file",modified=1688258044053,data="<summary>queues an arbitrary event to be sent back to the current process</summary>\n# NAME\nqueueEvent - queues an arbitrary event to be sent back to the current process\n\n# LIBRARY\nStandard system library, IPC module (*libsystem*, `system.ipc`)\n\n# SYNOPSIS\n**queueEvent**(*name*: string, *params*: table)\n\n# DESCRIPTION\nQueues an arbitrary event to be sent back to the current process.\n\n# PARAMETERS\n1. `name`: The name of the event to send.\n2. `params`: The parameter list to send in the event.\n\n# RETURN VALUES\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall does not throw errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=637},["stat.md"]={created=1688258060247,type="file",modified=1688258047147,data="<summary>returns a table with information about a file or directory</summary>\n# NAME\nstat - returns a table with information about a file or directory\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**stat**(*path*: string): StatInfo | **nil**, string\n\n# DESCRIPTION\nReturns a table with information about a file or directory. If the file does not exist, this returns `nil` and an error message.\n\n# PARAMETERS\n1. `path`: The path to the file or directory to inspect.\n\n# RETURN VALUE\nA table with the following contents:\n* `size: number`: The total size of the file in bytes\n* `type: string`: The type of file, which can be `\"file\"`, `\"directory\"`, `\"link\"`, `\"fifo\"`, or `\"special\"`\n* `created: number`: The time the file was created, in milliseconds since the UNIX epoch\n* `modified: number`: The time the file was last modified, in milliseconds since the UNIX epoch\n* `owner: string`: The owner of the file\n* `mountpoint: string`: The path to the mountpoint the file is on\n* `link: string?`: If the file is a link, the path it links to\n* `capacity: number`: The total number of bytes the mount can store\n* `freeSpace: number`: The total number of bytes available on the mount\n* `permissions: table`: The permissions for each user/group\n  * `<string>: table`: The permissions for each user/group who has manual permissions\n    * `read: boolean`: Whether the user can read the file\n    * `write: boolean`: Whether the user can write to the file\n    * `execute: boolean`: Whether the user can execute the file\n* `worldPermissions: table`: The permissions for all other users\n  * `read: boolean`: Whether everyone else can read the file\n  * `write: boolean`: Whether everyone else can write to the file\n  * `execute: boolean`: Whether everyone else can execute the file\n* `setuser: boolean`: Whether executing the file will set the user to the owner\n* `special: table?`: A table that can contain mount-specific data.\n\n# ERRORS\nThis syscall does not throw errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=2054},["signal.md"]={created=1688258060187,type="file",modified=1688258046817,data="<summary>registers a handler function to be called for a signal</summary>\n# NAME\nsignal - registers a handler function to be called for a signal\n\n# LIBRARY\nStandard system library, IPC module (*libsystem*, `system.ipc`)\n\n# SYNOPSIS\n**signal**(*signal*: number, *handler*: function(signal: number))\n\n# DESCRIPTION\nRegisters a handler function to be called for a signal.\n\n# PARAMETERS\n1. `signal`: The signal ID to register for.\n2. `handler`: The handler function to call, which takes the signal ID as its only argument.\n\n# RETURN VALUES\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall does not throw errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**kill**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=685},["releasesemaphore.md"]={created=1688258059783,type="file",modified=1688258044396,data="<summary>releases a resource from a semaphore</summary>\n# NAME\nreleasesemaphore - releases a resource from a semaphore\n\n# LIBRARY\nStandard system library, synchronization module (*libsystem*, `system.sync`)\n\n# SYNOPSIS\n**releasesemaphore**(*sem*: semaphore)\n\n# DESCRIPTION\nReleases a resource from a semaphore. This is a guaranteed atomic alternative to `sem.count = sem.count + 1`, and should be preferred.\n\n# PARAMETERS\n1. `sem`: The semaphore to release.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**acquiresemaphore**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=639},["netcontrol.md"]={created=1688258059557,type="file",modified=1688258043036,data="<summary>sends a control message to the specified IP address</summary>\n# NAME\nnetcontrol - sends a control message to the specified IP address\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**netcontrol**(*ip*: string, *type*: string, *err*: string?)\n\n# DESCRIPTION\nSends a control message to the specified IP address.\n\n# PARAMETERS\n1. `ip`: The IP address to send to\n2. `type`: The message type to send. See **network**(5) for more information.\n3. `err`: An optional error message to send if necessary.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The current user is not root.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=725},["kernargs.md"]={created=1688258058820,type="file",modified=1688258038883,data="<summary>returns the arguments passed to the kernel</summary>\n# NAME\nkernargs - Returns the arguments passed to the kernel\n\n# SYNOPSIS\n**kernargs**(): table\n\n# DESCRIPTION\nReturns the arguments passed to the kernel in a key-value table.\n\n# PARAMETERS\nThis syscall does not take any arguments.\n\n# RETURN VALUE\nA key-value table of all arguments passed to the kernel.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.4.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=456},["routelist.md"]={created=1688258060070,type="file",modified=1688258046157,data="<summary>returns a list of route entries in the specified route table</summary>\n# NAME\nroutelist - returns a list of route entries in the specified route table\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**routelist**(*num*: number?): table?\n\n# DESCRIPTION\nReturns a list of route entries in the specified route table.\n\n# PARAMETERS\n1. `num`: The table number to check as an integer starting at 0 (default 1)\n\n# RETURN VALUE\nA list of route entries with the following fields:\n* `source: string`: The bottom end of the source IP range.\n* `sourceNetmask: number`: The source subnet mask. For a single IP, this is 32. For all IPs (`default`), this is 0.\n* `action: string`: The action to take on the message. Valid values:\n  * `\"unicast\"`: Send all messages to the specified destination.\n  * `\"broadcast\"`: Broadcast the message to all destinations on the device.\n  * `\"local\"`: Send the message to a known destination on a local network.\n  * `\"unreachable\"`: Send a Destination Unreachable message back to the sender.\n  * `\"prohibit\"`: Send a Prohibit message back to the sender.\n  * `\"blackhole\"`: Ignore the message altogether.\n* `device: string?`: The device path to send the message to.\n* `destination: string?`: The destination IP to forward to.\n\nIf the specified table does not exist, this will return `nil`.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**routeadd**(2), **routedel**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1499},["routedel.md"]={created=1688258060013,type="file",modified=1688258045803,data="<summary>removes the specified route from the specified table</summary>\n# NAME\nroutedel - removes the specified route from the specified table\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**routedel**(*source*: string, *mask*: number, *num*: number?)\n\n# DESCRIPTION\nRemoves the specified route from the specified table.\n\n# PARAMETERS\n1. `source`: The source IP address to remove in CIDR notation (e.g. `192.168.0.0/16`)\n2. `mask`: The netmask prefix length of the IP to remove\n3. `num`: The table number to modify as an integer starting at 1 (default 1)\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* A non-root user attempted to remove routes.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**routeadd**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=819},["link.md"]={created=1688258058933,type="file",modified=1688258039500,data="<summary>creates a new symbolic link</summary>\n# NAME\nlink - creates a new symbolic link\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**link**(*path*: string, *location*: string)\n\n# DESCRIPTION\nCreates a new symbolic link at a path, creating any parent directories if they don't exist.\n\n# PARAMETERS\n1. `path`: The path to the link to create.\n2. `location`: The location the link should point to. This may be on another filesystem, as the link is symbolic.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The current user does not have permission to write the parent directory of the first directory created.\n* The path already exists.\n\n# HISTORY\nIntroduced in Phoenix 0.0.3.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=787},["chown.md"]={created=1688258057853,type="file",modified=1688258033296,data="<summary>changes the owner of a file or directory</summary>\n# NAME\nchown - changes the owner of a file or directory\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**chown**(*path*: string, *user*: string)\n\n# DESCRIPTION\nChanges the owner of a file or directory, clearing the `setuser` bit if it's set.\n\n# PARAMETERS\n1. `path`: The path to the file to modify.\n2. `user`: The user who will own the file.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The file does not exist.\n* The current user is not the owner of the file or root.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**chmod**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=706},["callmodule.md"]={created=1688258057573,type="file",modified=1688258031810,data="<summary>calls a function on a kernel module</summary>\n# NAME\ncallmodule - calls a function on a kernel module\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**callmodule**(*name*: string, *func*: string, *args...*: any): any...\n\n# DESCRIPTION\nCalls a function on a kernel module, if the module exposes an API.\n\n# PARAMETERS\n1. `name`: The name of the module to call on\n2. `func`: The name of the function to call\n3. `args...`: Any arguments to pass to the function\n\n# RETURN VALUE\nAny values returned from the function call.\n\n# ERRORS\nThis syscall may throw an error if:\n* The module requested is not loaded.\n* The module does not have an exported API.\n* The module does not have the requested function.\n* The function throws an error.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=827},["chroot.md"]={created=1688258057913,type="file",modified=1688258033583,data="<summary>changes the root directory</summary>\n# NAME\nchroot - changes the root directory\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**chroot**(*path*: string)\n\n# DESCRIPTION\nChanges the root directory of the current and future child processes. This syscall requires root.\n\n# PARAMETERS\n1. `path`: The path to the new root directory.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The current user is not root.\n* The new root directory does not exist.\n\n# HISTORY\nIntroduced in Phoenix 0.0.3.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=605},["rename.md"]={created=1688258059900,type="file",modified=1688258045113,data="<summary>renames a file or directory from one path to another</summary>\n# NAME\nrename - renames a file or directory from one path to another\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**rename**(*from*: string, *to*: string)\n\n# DESCRIPTION\nRenames (moves) a file or directory from one path to another. The source and destination must be on the same filesystem.\n\n# PARAMETERS\n1. `from`: The file to move.\n2. `to`: The new destination path for the file.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The original file does not exist.\n* The new file already exists.\n* The current user does not have permission to read the original file.\n* The current user does not have permission to write the new file.\n* The current user does not have permission to write the parent directory of the new file.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=947},["remove.md"]={created=1688258059840,type="file",modified=1688258044770,data="<summary>deletes a file at a path</summary>\n# NAME\nremove - deletes a file at a path\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**remove**(*path*: string)\n\n# DESCRIPTION\nDeletes a file at a path. If the file is a directory, this also removes all files and directories contained within it. If the file does not exist, this does nothing and returns successfully.\n\n# PARAMETERS\n1. `path`: The path to the file to delete.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The current user does not have permission to write the file.\n* The current user does not have permission to write child subfiles and subdirectories.\n* The current user does not have permission to write the parent directory.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=843},["sendEvent.md"]={created=1688258060127,type="file",modified=1688258046490,data="<summary>queues a remote event to be sent to another process</summary>\n# NAME\nsendEvent - queues a remote event to be sent to another process\n\n# LIBRARY\nStandard system library, IPC module (*libsystem*, `system.ipc`)\n\n# SYNOPSIS\n**sendEvent**(*pid*: number, *name*: string, *params*: any)\n\n# DESCRIPTION\nQueues a remote event to be sent to another process. This creates an event called `remote_event` with the name and parameters passed as parameters. It does *not* allow sending arbitrary events to a process.\n\n# PARAMETERS\n1. `pid`: The ID of the process to send to.\n2. `name`: The name of the remote event to send.\n3. `params`: The data to send with the event.\n\n# RETURN VALUES\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall does not throw errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=806},["kill.md"]={created=1688258058877,type="file",modified=1688258039190,data="<summary>sends a signal to another process</summary>\n# NAME\nkill - sends a signal to another process\n\n# LIBRARY\nStandard system library, IPC module (*libsystem*, `system.ipc`)\n\n# SYNOPSIS\n**kill**(*pid*: number, *signal*: number)\n\n# DESCRIPTION\nSends a signal to another process. The signal may be any numerical value, though the system will only respond to certain values.\n\n# PARAMETERS\n1. `pid`: The ID of the process to send to\n2. `signal`: The signal ID to send\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The target process ID does not exist.\n* The current user does not have permission to send a signal to the target.\n  * The target process must be under the same user as the current one.\n  * If the current process is running as root, it may send a signal to any process.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**signal**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=904},["routeadd.md"]={created=1688258059957,type="file",modified=1688258045460,data="<summary>adds a new route to the specified route table</summary>\n# NAME\nrouteadd - adds a new route to the specified route table\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**routeadd**(*options*: table)\n\n# DESCRIPTION\nAdds a new route to the specified route table. If the table does not exist, it will be created.\n\n# PARAMETERS\n1. `options`: A table with options for the route entry, with the following fields:\n  * `source: string`: The bottom end of the source IP range.\n  * `sourceNetmask: number`: The source subnet mask. For a single IP, this is 32. For all IPs (`default`), this is 0.\n  * `action: string`: The action to take on the message. Valid values:\n    * `\"unicast\"`: Send all messages to the specified destination.\n    * `\"broadcast\"`: Broadcast the message to all destinations on the device.\n    * `\"local\"`: Send the message to a known destination on a local network.\n    * `\"unreachable\"`: Send a Destination Unreachable message back to the sender.\n    * `\"prohibit\"`: Send a Prohibit message back to the sender.\n    * `\"blackhole\"`: Ignore the message altogether.\n  * `device: string?`: The device path to send the message to.\n  * `destination: string?`: The destination IP to forward to.\n  * `table: number?`: A number specifying the table index to insert into (integer starting at 1; defaults to 1).\n\nThe actions `\"local\"`, `\"unicast\"` and `\"broadcast\"` require `device`; `\"unicast\"` also requires `destination`.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* A non-root user attempted to add routes.\n* A route already exists with the same IP and netmask.\n* The device (if specified) is not present.\n* The device (if specified) is not a valid modem.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**routedel**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1845},["checkuri.md"]={created=1688258057740,type="file",modified=1688258032716,data="<summary>returns whether the specified URI is valid</summary>\n# NAME\ncheckuri - returns whether the specified URI is valid\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**checkuri**(*uri*: string): boolean\n\n# DESCRIPTION\nReturns whether the specified URI is valid and the scheme is supported.\n\n# PARAMETERS\n1. `uri`: The URI to check\n\n# RETURN VALUE\nWhether the URI is valid. This will always return `false` for an unsupported URI scheme. For HTTP and WebSocket URLs, this will check that the URL can be connected to as well.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=665},["devalias.md"]={created=1688258058140,type="file",modified=1688258034986,data="<summary>sets or removes an alias for a device</summary>\n# NAME\ndevalias - sets or removes an alias for a device\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**devalias**(*device*: string, *alias*: string?)\n\n# DESCRIPTION\nSets or removes an alias for a device.\n\n# PARAMETERS\n1. `device`: The device path or UUID to modify\n2. `alias`: The new alias to set (`nil` to remove)\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The specified device does not exist.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=605},["combine.md"]={created=1688258057970,type="file",modified=1688258033880,data="<summary>combines a set of path components into a valid path</summary>\n# NAME\ncombine - combines a set of path components into a valid path\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**combine**(*components...*: string): string\n\n# DESCRIPTION\nCombines a set of path components into a valid path.\n\n# PARAMETERS\n1. `components...`: The components in the path\n\n# RETURN VALUE\nThe final path composed of the passed components.\n\n# ERRORS\nThis syscall does not throw errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=567},["netevent.md"]={created=1688258059613,type="file",modified=1688258043376,data="<summary>returns or toggles the current state of network event reporting</summary>\n# NAME\nnetevent - returns or toggles the current state of network event reporting\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**netevent**(*state*: boolean?): boolean\n\n# DESCRIPTION\nReturns the current state of network event reporting in the current process, and toggles it if desired. This allows listening to events such as control messages, PSP messages, send failures, etc.\n\n# PARAMETERS\n1. `state`: If specified, whether to send general network events to the current process\n\n# RETURN VALUE\nThe current state of network event reporting.\n\n# ERRORS\nThis syscall may throw an error if:\n* The current user is not root.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=794},["devlisten.md"]={created=1688258058423,type="file",modified=1688258036646,data="<summary>enables listening for events from this device</summary>\n# NAME\ndevlisten - enables listening for events from this device\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**devlisten**(*device*: string, *state*: boolean = true)\n\n# DESCRIPTION\nEnables (or disables) listening for events from this device.\n\n# PARAMETERS\n1. `device`: The device path or UUID to operate on\n2. `state`: `true` to allow events to be passed to this process; `false` to stop events from being sent\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The specified device does not exist.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=709},["timeacquiresemaphore.md"]={created=1688258060303,type="file",modified=1688258047473,data="<summary>acquires a resource from a semaphore object, waiting until available or timeout</summary>\n# NAME\ntimeacquiresemaphore - acquires a resource from a semaphore object, waiting until available or timeout\n\n# LIBRARY\nStandard system library, synchronization module (*libsystem*, `system.sync`)\n\n# SYNOPSIS\n**timeacquiresemaphore**(*sem*: semaphore, *timeout*: number): boolean\n\n# DESCRIPTION\nAcquires a resource from a semaphore object, waiting if none are available, until the specified timeout passes.\n\n# PARAMETERS\n1. `sem`: The semaphore to acquire.\n2. `timeout`: The amount of time to wait in seconds.\n\n# RETURN VALUE\nWhether a resource was successfully acquired.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**acquiresemaphore**(2), **releasesemaphore**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=823},["devmethods.md"]={created=1688258058593,type="file",modified=1688258037686,data="<summary>returns a list of methods that can be called on this device</summary>\n# NAME\ndevmethods - returns a list of methods that can be called on this device\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**devmethods**(*device*: string): string[]\n\n# DESCRIPTION\nReturns a list of methods that can be called on this device.\n\n# PARAMETERS\n1. `device`: The device path or UUID to look up\n\n# RETURN VALUE\nA list of valid methods that can be called.\n\n# ERRORS\nThis syscall may throw an error if:\n* The specified device does not exist.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=622},["acquiresemaphore.md"]={created=1688258057277,type="file",modified=1688258030410,data="<summary>acquires a resource from a semaphore object</summary>\n# NAME\nacquiresemaphore - acquires a resource from a semaphore object\n\n# LIBRARY\nStandard system library, synchronization module (*libsystem*, `system.sync`)\n\n# SYNOPSIS\n**acquiresemaphore**(*sem*: semaphore)\n\n# DESCRIPTION\nAcquires a resource from a semaphore object, waiting if none are available.\n\n# PARAMETERS\n1. `sem`: The semaphore to acquire.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**timeacquiresemaphore**(2), **releasesemaphore**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=623},["loadCraftOSAPI.md"]={created=1688258059163,type="file",modified=1688258040770,data="<summary>loads a CraftOS API or module from the ROM</summary>\n# NAME\nloadCraftOSAPI - loads a CraftOS API or module from the ROM\n\n# SYNOPSIS\n**loadCraftOSAPI**(*apiName*: string): table\n\n# DESCRIPTION\nLoads a CraftOS API or module from the ROM. This can be used to get access to certain functions without having to mount the entire ROM.\n\nThis uses the current process's environment as the parent environment. This means the API will use the process's globals. If the API you need requires certain globals (like `colors`), load these in as globals first.\n\n# PARAMETERS\n1. `apiName`: The name of the API or module to load. If this starts with `cc.`, it loads a module from `rom/modules/main`. Otherwise, it loads an API from `rom/apis`.\n\n# RETURN VALUE\nA table with the loaded API or module.\n\n# ERRORS\nThis syscall may throw an error if:\n* The API name is malformed.\n* The API does not exist.\n* An error occurred while loading the API.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=974},["lockmutex.md"]={created=1688258059273,type="file",modified=1688258041400,data="<summary>locks the specified mutex</summary>\n# NAME\nlockmutex - locks the specified mutex\n\n# LIBRARY\nStandard system library, synchronization module (*libsystem*, `system.sync`)\n\n# SYNOPSIS\n**lockmutex**(*mtx*: mutex)\n\n# DESCRIPTION\nLocks the specified mutex, waiting for the resource to be freed before claiming it.\n\n# PARAMETERS\n1. `mtx`: The mutex to lock.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The mutex is already claimed by the current thread and is not recursive.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**timelockmutex**(2) **trylockmutex**(2), **unlockmutex**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=649},["devproperties.md"]={created=1688258058650,type="file",modified=1688258037986,data="<summary>returns a list of properties on the device</summary>\n# NAME\ndevproperties - returns a list of properties on the device\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**devproperties**(*device*: string): string[]\n\n# DESCRIPTION\nReturns a list of properties on the device.\n\nProperties are intended for use by wrapper APIs (such as `libsystem.hardware`), and specify an alternate name for a corresponding `get<Property>` method. To retrieve the property, capitalize the first character of the property name, prepend `get` to the name, and call that method on the device with no arguments. To set the property, first check for a `set<Property>` method in the same format as `get`, then call that method with one argument (the new value). If no `set` method is available, then that property is read-only.\n\n# PARAMETERS\n1. `device`: The device path or UUID to look up\n\n# RETURN VALUE\nA list of properties that are available. This table may be empty.\n\n# ERRORS\nThis syscall may throw an error if:\n* The specified device does not exist.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1128},["devlookup.md"]={created=1688258058537,type="file",modified=1688258037380,data="<summary>returns all paths to devices that have the specified node name</summary>\n# NAME\ndevlookup - returns all paths to devices that have the specified node name\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**devlookup**(*name*: string): string...\n\n# DESCRIPTION\nReturns all paths to devices that have the specified node name. If a path or UUID is specified, returns the path of the singular device node.\n\n# PARAMETERS\n1. `name`: The device name to search for\n\n# RETURN VALUE\nThe path to each node in the device tree that has the specified name.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**devfind**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=717},["listmodules.md"]={created=1688258059107,type="file",modified=1688258040430,data="<summary>returns a list of currently loaded kernel module names</summary>\n# NAME\nlistmodules - returns a list of currently loaded kernel module names\n\n# SYNOPSIS\n**listmodules**(): string[]\n\n# DESCRIPTION\nReturns a list of currently loaded kernel module names.\n\n# PARAMETERS\nThis syscall does not take any arguments.\n\n# RETURN VALUE\nA list of currently loaded kernel module names.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=471},["cchost.md"]={created=1688258057683,type="file",modified=1688258032396,data="<summary>returns the value of the _HOST variable</summary>\n# NAME\ncchost - returns the value of the _HOST variable\n\n# SYNOPSIS\n**cchost**(): string\n\n# DESCRIPTION\nReturns the value of the `_HOST` variable.\n\n# PARAMETERS\nThis syscall does not take any arguments.\n\n# RETURN VALUE\nThe value of `_HOST`, which is in the format `ComputerCraft [0-9%.]+ %b()`.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**version**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=471},["cancel.md"]={created=1688258057630,type="file",modified=1688258032090,data="<summary>cancels a previously set timer or alarm</summary>\n# NAME\ncancel - cancels a previously set timer or alarm\n\n# LIBRARY\nStandard system library, utility module (*libsystem*, `system.util`)\n\n# SYNOPSIS\n**cancel**(*tm*: number)\n\n# DESCRIPTION\nCancels a previously set timer or alarm.\n\n# PARAMETERS\n1. `tm`: The ID of the timer or alarm to cancel.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall does not throw errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**alarm**(2), **timer**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=531},["detach.md"]={created=1688258058083,type="file",modified=1688258034596,data="<summary>detaches a peripheral from a side</summary>\n# NAME\ndetach - detaches a peripheral from a side\n\n# SYNOPSIS\n**detach**(*side*: string|number): boolean, string?\n\n# DESCRIPTION\nIf using an emulator, detaches a peripheral from a side. This syscall requires root.\n\n# PARAMETERS\n1. `side`: The side or ID to detach\n\n# RETURN VALUE\n1. Whether the detachment succeeded\n2. If it failed, an optional error message (this may be `nil`!)\n\n# ERRORS\nThis syscall may throw an error if:\n* The user is not root.\n\n# HISTORY\nIntroduced in Phoenix 0.0.2.\n\n# SEE ALSO\n**attach**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=569},["open.md"]={created=1688258059670,type="file",modified=1688258043713,data="<summary>opens a file for reading or writing</summary>\n# NAME\nopen - opens a file for reading or writing\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**open**(*path*: string, *mode*: string): file\n\n# DESCRIPTION\nOpens a file for reading or writing.\n\n# PARAMETERS\n1. `path`: The path to the file to open. This may be a relative path to the current working directory, or an absolute path relative to the root.\n2. `mode`: The mode to open the file in. This may be `r`, `w`, or `a`, with an additional `b` at the end to open in binary mode.\n\n# RETURN VALUE\nA file handle object.\n\n# ERRORS\nThis syscall may throw an error if:\n* The mode argument is invalid.\n* The file was opened in read mode and it does not exist.\n* The parent directory of the file does not exist.\n* The file is a directory.\n* The current user does not have permission to access the file.\n* If creating a new file and the current user does not have permission to write the parent directory.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1051},["_template.md"]={created=1688258057220,type="file",modified=1688258030136,data="<summary></summary>\n# NAME\n - \n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n\n\n# DESCRIPTION\n\n\n# PARAMETERS\n\n\n# RETURN VALUE\n\n\n# ERRORS\n\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=239},["arplist.md"]={created=1688258057397,type="file",modified=1688258030960,data="<summary>returns the list of known IP to computer ID mappings</summary>\n# NAME\narplist - returns the list of known IP to computer ID mappings\n\n# LIBRARY\nStandard system library, network module (*libsystem*, `system.network`)\n\n# SYNOPSIS\n**arplist**(*device*: string): {[string] = number}\n\n# DESCRIPTION\nReturns the list of known IP to computer ID mappings for the specified device.\n\n# PARAMETERS\n1. `device`: The path to the modem to query for.\n\n# RETURN VALUE\nA key-value table of mappings from IP addresses to computer IDs.\n\n# ERRORS\nThis syscall may throw an error if:\n* The device is not present.\n* The device is not a valid modem.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**arpset**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=702},["devchildren.md"]={created=1688258058253,type="file",modified=1688258035600,data="<summary>returns a list of names of all children of the current device</summary>\n# NAME\ndevchildren - returns a list of names of all children of the current device\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\ndevchildren(device: string): string[]\n\n# DESCRIPTION\nReturns a list of names of all children of the current device.\n\n# PARAMETERS\n1. `device`: The device path or UUID to look up\n\n# RETURN VALUE\nA list of child names, in an unspecified order. This table may be empty.\n\n# ERRORS\nThis syscall may throw an error if:\n* The specified device does not exist.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=653},["devinfo.md"]={created=1688258058367,type="file",modified=1688258036350,data="<summary>returns a table with information describing a device node</summary>\n# NAME\ndevinfo - returns a table with information describing a device node\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**devinfo**(*device*: string): HWInfo?\n\n# DESCRIPTION\nReturns a table with information describing a device node.\n\n# PARAMETERS\n1. `device`: The device path or UUID to look up\n\n# RETURN VALUE\nA table with the following information:\n```ts\ntype HWInfo = {\n    id: string,                // Device hardware ID\n    uuid: string,              // Assigned UUID\n    alias: string?,            // User-specified alias\n    parent: string,            // Path to parent device\n    displayName: string,       // Display name for users\n    types: {[string]: string}, // Types of devices implemented: type = driver name\n    metadata: Object           // Extra static metadata provided by drivers\n}\n```\nIf the device does not exist, this returns `nil`.\n\n# ERRORS\nThis syscall does not throw any errors.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**devmethods**(2), **devproperties**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1128},["devlock.md"]={created=1688258058480,type="file",modified=1688258037050,data="<summary>locks the specified device to this process</summary>\n# NAME\ndevlock - locks the specified device to this process\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**devlock**(*device*: string, *wait*: boolean = true): boolean\n\n# DESCRIPTION\nLocks the specified device to this process. This prevents any calls to the device from other processes, and will suppress events from being sent to other processes. If the current process already owns the lock, this syscall returns `true` immediately. (It does not act like a recursive mutex in this case - only one unlock is required no matter how many times it's locked.)\n\n# PARAMETERS\n1. `device`: The device path or UUID to operate on\n2. `wait`: `true` to wait for the lock to be released before returning; `false` to return immediately if the lock is already owned by another process\n\n# RETURN VALUE\n`true` if the current process now owns the lock; `false` otherwise.\n\n# ERRORS\nThis syscall may throw an error if:\n* The specified device does not exist.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**devunlock**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1124},["list.md"]={created=1688258058990,type="file",modified=1688258039810,data="<summary>returns a list of file names present in a directory</summary>\n# NAME\nlist - returns a list of file names present in a directory\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**list**(*path*: string): string[]\n\n# DESCRIPTION\nReturns a list of file names present in a directory.\n\n# PARAMETERS\n1. `path`: The path to the directory to list.\n\n# RETURN VALUE\nA list of file names. This may or may not be sorted.\n\n# ERRORS\nThis syscall may throw an error if:\n* The path does not exist.\n* The path is not directory.\n* The current user does not have permission to access the directory.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=681},["attach.md"]={created=1688258057513,type="file",modified=1688258031526,data="<summary>attaches a peripheral of the specified type to the computer</summary>\n# NAME\nattach - attaches a peripheral of the specified type to the computer\n\n# SYNOPSIS\n**attach**(*side*: string|number, *type*: string, *args...*: any): boolean, string?\n\n# DESCRIPTION\nIf using an emulator, attaches a peripheral of the specified type to the computer. This syscall requires root.\n\n# PARAMETERS\n1. `side`: The side to attach to, or an ID to attach as\n2. `type`: The type of peripheral to attach. The peripherals use standard CC/CraftOS-PC naming.\n3. `args...`: Any arguments to pass to the peripheral constructor\n\n# RETURN VALUE\n1. Whether the attachment succeeded\n2. If it failed, an optional error message (this may be `nil`!)\n\n# ERRORS\nThis syscall may throw an error if:\n* The user is not root.\n\n# HISTORY\nIntroduced in Phoenix 0.0.2.\n\n# SEE ALSO\n**detach**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=861},["mkdir.md"]={created=1688258059330,type="file",modified=1688258041730,data="<summary>creates a new directory</summary>\n# NAME\nmkdir - creates a new directory\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**mkdir**(*path*: string)\n\n# DESCRIPTION\nCreates a new directory at a path, creating any parent directories if they don't exist. If the directory already exists, this function does nothing and exits successfully.\n\n# PARAMETERS\n1. `path`: The path of the directory to create.\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The current user does not have permission to write the parent directory of the first directory created.\n* A path component already exists and is a file.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=754},["devcall.md"]={created=1688258058197,type="file",modified=1688258035300,data="<summary>calls the specified method on the device</summary>\n# NAME\ndevcall - calls the specified method on the device\n\n# LIBRARY\nStandard system library, hardware module (*libsystem*, `system.hardware`)\n\n# SYNOPSIS\n**devcall**(*device*: string, *method*: string, *args...*: any): any...\n\n# DESCRIPTION\nCalls the specified method on the device with arguments.\n\n# PARAMETERS\n1. `device`: The device path or UUID to operate on\n2. `method`: The name of the method to call\n3. `args...`: Any arguments to pass to the method\n\n# RETURN VALUE\nAll values returned from the method.\n\n# ERRORS\nThis syscall may throw an error if:\n* The specified device does not exist.\n* Another process has locked this device.\n* The specified method does not exist on the device.\n* The method threw an error while executing.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=836},["chmod.md"]={created=1688258057797,type="file",modified=1688258033013,data="<summary>changes the permissions of a file or directory</summary>\n# NAME\nchmod - changes the permissions of a file or directory\n\n# LIBRARY\nStandard system library, filesystem module (*libsystem*, `system.filesystem`)\n\n# SYNOPSIS\n**chmod**(*path*: string, *user*: string?, *mode*: number|string|table)\n\n# DESCRIPTION\nChanges the permissions (mode) of a file or directory for the specified user. If any setuser bit is specified, this will be applied for all users.\n\n# PARAMETERS\n1. `path`: The path to the file to modify.\n2. `user`: The user to set the permissions for. If this is `nil`, sets the permissions for all users.\n3. `mode`: A value representing the permissions. This may be:\n  * A UNIX-style octal mode (e.g. `5`) - setuid bit is bit 4 (010)\n  * A UNIX-style mode modification string, without the user specifier (e.g. `\"+rx\"`) (this does not work with `\"-wx\"` - use `\"-xw\"` instead)\n  * A 3-character string with \"r\", \"w\", and \"x\" or \"s\" (or \"-\") (e.g. `\"r-s\"`)\n  * A table with `read: boolean?`, `write: boolean?`, `execute: boolean?`, and `setuser: boolean?` fields (if a field is `nil`, it uses the previous value)\n\n# RETURN VALUE\nThis syscall does not return anything.\n\n# ERRORS\nThis syscall may throw an error if:\n* The file does not exist.\n* The current user is not the owner of the file or root.\n\n# HISTORY\nIntroduced in Phoenix 0.0.1.\n\n# SEE ALSO\n**chown**(2)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1377}},modified=1688258060893,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},man8={created=1688258076470,type="directory",contents={["dpkg.md"]={created=1688258069587,type="file",modified=1688258067610,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["userdel.md"]={created=1688258011893,type="file",modified=1688258011386,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["components.md"]={created=1688258069527,type="file",modified=1688258067197,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["update.md"]={created=1688258069650,type="file",modified=1688258068017,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["useradd.md"]={created=1688258011876,type="file",modified=1688258011356,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["usermod.md"]={created=1688258011923,type="file",modified=1688258011443,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["mkspanfs.md"]={created=1688258016873,type="file",modified=1688258016613,data="<summary>Create and format new spanfs disks</summary>\n# NAME\nmkspanfs - Create and format new spanfs disks\n\n# SYNOPSIS\n**mkspanfs** *volume name* *index drive* *data drive* ...\n\n# DESCRIPTION\n**mkspanfs** creates a new *spanfs* filesystem across the drives specified,\nusing the volume name given as the first argument to name the volume. The command\nwill \n\n# EXAMPLE\nCreate a new volume named *Span Volume* on four disks, using `drive_0` to store\nthe index.\n\n`mkspanfs \"Span Volume\" drive_0 drive_1 drive_2 drive_3`\n\n# SEE ALSO\n**spanfs**(7)",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=541},["spaninfo.md"]={created=1688258016903,type="file",modified=1688258016666,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["update-initrd.md"]={created=1688258076470,type="file",modified=1688258075500,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["usermgr.md"]={created=1688258011909,type="file",modified=1688258011413,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0}},modified=1688258076470,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},man9={created=1688258061830,type="directory",contents={["kernel.md"]={created=1688258061830,type="file",modified=1688258056793,data="---\nlayout: default\ntitle: Kernel API\n---\n\n# Kernel API\nThis page contains documentation for the public kernel module API.\n\nThis is a work-in-progress! Some parts may be broken or don't make sense.\n\n## `version: string`\nVersion number of Phoenix.\n\n## `do_syscall(call: string, ...: any): any...`\nSmall function to execute a syscall and error if it fails.\n\n### Arguments\n1. `call`: The syscall to execute\n2. `...`: The arguments to pass to the syscall\n\n### Return Values\nThe values returned from the syscall\n\n## `deepcopy(tab: any): any`\nCopies a value.  If the value is a table, copies all of its contents too.\n\n### Arguments\n1. `tab`: The value to copy\n\n### Return Values\nThe new copied value\n\n## `split(str: string[, sep: string = \"%s\"]): {string}`\nSplits a string by a separator.\n\n### Arguments\n1. `str`: The string to split\n2. `sep`: The separator pattern to split by (defaults to \"%s\")\n\n### Return Values\nA list of items in the string\n\n## `executeThread(process: Process, thread: Thread, ev: table, dead: boolean, allWaiting: boolean): boolean, boolean`\nResumes a thread's coroutine, handling different yield types.\n\n### Arguments\n1. `process`: The process that owns the thread\n2. `thread`: The thread to resume\n3. `ev`: An event to pass to the thread, if present\n4. `dead`: Whether a thread in the current run cycle has died\n5. `allWaiting`: Whether all previous threads were waiting for an event\n\n### Return Values\nThis function may return the following values:\n1. Whether this thread or a previous thread has died\n2. Whether all threads (including this one) are waiting for an event\n\n## `userModeCallback(process: Process, func: function, ...: any): boolean, any`\nExecutes a function in user mode from kernel code.\n\n### Arguments\n1. `process`: The process to execute as\n2. `func`: The function to execute\n3. `...`: Any parameters to pass to the function\n\n### Return Values\nThis function may return the following values:\n1. Whether the function returned successfully\n2. The value that the function returned.\n\n## `make_ENV(env: table): table`\nCreates a new _ENV shadow environment for a table.  The resulting table can\n have its environment set through `t._ENV = val`.\n\n### Arguments\n1. `env`: The environment table to use\n\n### Return Values\nA new _ENV-ized table\n\n## `args`\nStores all kernel arguments passed on the command line.\n\n### Fields\n- `init`:\n- `root`:\n- `rootfstype`:\n- `preemptive`:\n- `quantum`:\n- `splitkernpath`:\n- `loglevel`:\n- `console`:\n- `traceback`:\n\n## `syscalls`\nContains every syscall defined in the kernel.\n\n## `processes`\nStores all currently running processes.\n\n### Fields\n- `[0]`:\n- `id`:\n- `user`:\n- `dir`:\n- `dependents`:\n\n## `modules`\nStores all currently loaded kernel modules.\n\n## `eventHooks`\nStores a list of hooks to call on certain CraftOS events.  Each entry has the\n event name as a key, and a list of functions to call as the value. The\n functions are called with a single table parameter with the event parameters.\n\n## `process`\nProcess API\n\n## `filesystem`\nFilesystem API\n\n## `terminal`\nTerminal API\n\n## `user`\nUser API\n\n## `syslog`\nSystem logger API\n\n## `hardware`\nHardware API\n\n## `PHOENIX_BUILD`\nBuild string of Phoenix.\n\n### Fields\nThis function does not take any arguments.\n\n## `systemStartTime`\nStores the start time of the kernel.\n\n### Fields\nThis function does not take any arguments.\n\n## `KERNEL`\nStores a quick reference to the kernel process object.\n\n### Fields\nThis function does not take any arguments.\n\n# filesystem\n\n\n## `mounts`\nStores the current mounts as a key-value table of paths to filesystem objects.\n\n## `filesystems`\nThis table contains all filesystem types.  Use this to insert more filesystem\n types into the system.\n\n A filesystem type has to implement one method for each function in the\n filesystem API, with the exception of mounting-related functions and `combine`,\n as well as a `new` method that is called with the process, the source device,\n and the options table (if present). Paths passed to these methods (outside\n `new`) take a relative path to the mountpoint, NOT the absolute path.\n\n### Fields\n- `craftos`:\n- `owner`:\n- `permissions`:\n- `write`:\n- `execute`:\n\n## `filesystem.open(process: Process, path: string, mode: string): Handle / nil, string`\nOpens a file for reading or writing.\n\n### Arguments\n1. `process`: The process to operate as\n2. `path`: The file path to open, which may be absolute or relative\n to the process's working directory\n3. `mode`: The mode to open the file as\n\n### Return Values\nThis function may return the following values:\n1. The new file handle\n\nOr:\n1. If an error occurred\n2. An error message describing why the file couldn't be opened\n\n## `filesystem.list(process: Process, path: string): {string}`\nReturns a list of file names in the directory.\n\n### Arguments\n1. `process`: The process to operate as\n2. `path`: The file path to list, which may be absolute or relative\n to the process's working directory\n\n### Return Values\nA list of file names present in the directory\n\n## `filesystem.stat(process: Process, path: string): table / nil, string`\nReturns a table with information about the selected path.\n\n### Arguments\n1. `process`: The process to operate as\n2. `path`: The file path to stat, which may be absolute or relative\n to the process's working directory\n\n### Return Values\nThis function may return the following values:\n1. A table with information about the path (see the docs for\n the `stat` syscall for more info)\n\nOr:\n1. If an error occurred\n2. An error message describing why the file couldn't be opened\n\n## `filesystem.remove(process: Process, path: string)`\nRemoves a file or directory.\n\n### Arguments\n1. `process`: The process to operate as\n2. `path`: The file path to remove, which may be absolute or relative\n to the process's working directory\n\n### Return Values\nThis function does not return anything.\n\n## `filesystem.rename(process: Process, path: string, new: The)`\nRenames (moves) a file or directory.\n\n### Arguments\n1. `process`: The process to operate as\n2. `path`: The file path to rename, which may be absolute or relative\n to the process's working directory\n3. `new`: path the file will be at, which may be in another directory\n but must be on the same mountpoint\n\n### Return Values\nThis function does not return anything.\n\n## `filesystem.mkdir(process: Process, path: string)`\nCreates a new directory and any parent directories.\n\n### Arguments\n1. `process`: The process to operate as\n2. `path`: The directory to create, which may be absolute or relative\n to the process's working directory\n\n### Return Values\nThis function does not return anything.\n\n## `filesystem.chmod(process: Process, path: string, user: string|nil, boolean: number|string|{read)`\nChanges the permissions (mode) of a file or directory for the specified user.\n\n### Arguments\n1. `process`: The process to operate as\n2. `path`: The file path to modify, which may be absolute or relative\n to the process's working directory\n3. `user`: The user to change the permissions for, or `nil` for all users\n4. `boolean`: ?, write = boolean?, execute = boolean?} mode The\n new permissions for the user (see the docs for the `chmod` syscall for more info)\n\n### Return Values\nThis function does not return anything.\n\n## `filesystem.chown(process: Process, path: string, user: string)`\nChanges the owner of a file or directory.\n\n### Arguments\n1. `process`: The process to operate as\n2. `path`: The file path to modify, which may be absolute or relative\n to the process's working directory\n3. `user`: The user that will own the file\n\n### Return Values\nThis function does not return anything.\n\n## `filesystem.mount(process: Process, type: string, src: string, dest: string, options: table?)`\nMounts a disk device to a path using the specified filesystem and options.\n\n### Arguments\n1. `process`: The process to operate as\n2. `type`: The type of filesystem to mount\n3. `src`: The source device to mount\n4. `dest`: The destination mountpoint\n5. `options`: Any options to pass to the mounter (optional)\n\n### Return Values\nThis function does not return anything.\n\n## `filesystem.unmount(process: Process, path: string)`\nUnmounts a filesystem at a mountpoint.\n\n### Arguments\n1. `process`: The process to operate as\n2. `path`: The mountpoint to remove, which may be absolute or relative\n to the process's working directory\n\n### Return Values\nThis function does not return anything.\n\n## `filesystem.combine(first: string, ...: string): string`\nCombines the specified path components into a single path.\n\n### Arguments\n1. `first`: The first path component\n2. `...`: Any additional path components to add\n\n### Return Values\nThe final combined path\n\n## `createLuaLib(process: Process): _G`\nCreates a new global table with a Lua 5.2 standard library installed.\n\n### Arguments\n1. `process`: The process to generate for\n\n### Return Values\nA new global table for the process\n\n# terminal\n\n\n## `terminal.makeTTY(term: table, width: number, height: number): TTY`\nReturns a new TTY object.\n\n### Arguments\n1. `term`: The CraftOS terminal object to render on\n2. `width`: The width of the TTY\n3. `height`: The height of the TTY\n\n### Return Values\nThe new TTY object\n\n## `TTY`\nStores all virtual TTYs for the main screen.\n\n### Fields\n- `terminal`:\n- `terminal`:\n- `terminal`:\n- `terminal`:\n- `terminal`:\n- `terminal`:\n- `terminal`:\n- `terminal`:\n\n## `currentTTY`\nStores the TTY that is currently shown on screen.\n\n### Fields\nThis function does not take any arguments.\n\n## `terminal.userTTYs`\nStores all TTYs that have been created in user mode.\n\n## `keysHeld`\nStores what modifier keys are currently being held.\n\n### Fields\n- `ctrl`:\n- `alt`:\n- `shift`:\n\n## `terminal.redraw(tty: TTY, full: boolean)`\nRedraws the specified TTY if on-screen.\n\n### Arguments\n1. `tty`: The TTY to redraw\n2. `full`: Whether to draw the full screen, or just the changed regions\n\n### Return Values\nThis function does not return anything.\n\n## `terminal.resize(tty: TTY, width: number, height: number)`\nResizes the TTY.\n\n### Arguments\n1. `tty`: The TTY to resize\n2. `width`: The new width\n3. `height`: The new height\n\n### Return Values\nThis function does not return anything.\n\n## `terminal.write(tty: TTY, text: string)`\nWrites some text to a TTY's text buffer, allowing ANSI escapes.\n\n### Arguments\n1. `tty`: The TTY to write to\n2. `text`: The text to write\n\n### Return Values\nThis function does not return anything.\n\n# syslog\n\n\n## `syslogs`\nStores all open system logs.\n\n### Fields\n- `default`: file = filesystem.open(KERNEL, \"/var/log/default.log\", \"a\"),\n\n## `panic(message: any?)`\nImmediately halts the system and shows an error message on screen.\n This function can be called either standalone or from within xpcall.\n This function never returns.\n\n### Arguments\n1. `message`: A message to display on screen (optional)\n\n### Return Values\nThis function does not return anything.\n\n## `createRequire(process: Process, G: _G)`\nCreates a new `package` and `require` set in a global table for the specified process.\n\n### Arguments\n1. `process`: The process to make the functions for\n2. `G`: The global environment to install in\n\n### Return Values\nThis function does not return anything.\n\n## `timerMap`\nStores a list of used timers.\n\n## `alarmMap`\nStores a list of used alarms.\n\n## `reap_process(process: Process)`\nFinishes a process's resources so it can be removed cleanly.\n\n### Arguments\n1. `process`: The process to reap\n\n### Return Values\nThis function does not return anything.\n\n# hardware\n\n\n## `deviceTreeRoot`\nStores the root device for hardware.\n\n### Fields\n- `id`:\n- `uuid`:\n- `parent`:\n- `displayName`:\n- `drivers`:\n\n## `hardware.get(path: string): Device...`\nReturns all devices that match a path specifier.\n\n### Arguments\n1. `path`: The path to query\n\n### Return Values\nThe device objects that match\n\n## `hardware.find(type: string): Device...`\nReturns all devices that match a type.\n\n### Arguments\n1. `type`: The type to find\n\n### Return Values\nThe device objects that match\n\n## `hardware.path(node: Device): string`\nReturns the absolute path to a device node.\n\n### Arguments\n1. `node`: The node to lookup\n\n### Return Values\nThe path to the node\n\n## `hardware.add(parent: Device, name: string): Device`\nAdds a new child to the specified node.\n\n### Arguments\n1. `parent`: The parent of the new node\n2. `name`: The name of the new node\n\n### Return Values\nThe newly added node\n\n## `hardware.remove(node: Device): boolean, string?`\nRemoves a node from its parent and the device tree.  The device node should\n no longer be used.\n\n### Arguments\n1. `node`: The node to remove\n\n### Return Values\nThis function may return the following values:\n1. Whether the operation succeeded\n2. An error message if it failed\n\n## `hardware.register(node: Device, driver: Driver): boolean, string?`\nRegisters a device driver on a node.\n\n### Arguments\n1. `node`: The node to modify\n2. `driver`: The driver to add\n\n### Return Values\nThis function may return the following values:\n1. Whether the operation succeeded\n2. An error message if it failed\n\n## `hardware.register_callback(driver: Driver): function`\nReturns a function that automatically attaches a driver to a node.\n\n### Arguments\n1. `driver`: The driver to use\n\n### Return Values\nA function that takes a node and registers the driver on it\n\n## `hardware.deregister(node: Device, driver: Driver): boolean, string?`\nDeregisters a driver from a node.\n\n### Arguments\n1. `node`: The node to modify\n2. `driver`: The driver to remove\n\n### Return Values\nThis function may return the following values:\n1. Whether the operation succeeded\n2. An error message if it failed\n\n## `hardware.listen(callback: function, parent: Device?, pattern: string?)`\nAdds a function that is called when either a parent node or pattern matches on a new node.\n\n### Arguments\n1. `callback`: A function that is called with a node when the pattern matches\n2. `parent`: A parent node to watch on (optional)\n3. `pattern`: A Lua pattern to match on the device name (optional)\n\n### Return Values\nThis function does not return anything.\n\n## `hardware.unlisten(callback: function)`\nRemoves a listener callback from the listener list.\n\n### Arguments\n1. `callback`: The function to remove\n\n### Return Values\nThis function does not return anything.\n\n## `hardware.broadcast(node: Device, event: string, param: table)`\nBroadcasts an event to all processes listening to events on a node.\n\n### Arguments\n1. `node`: The node to broadcast for\n2. `event`: The event to broadcast\n3. `param`: The parameters to pass for the event\n\n### Return Values\nThis function does not return anything.\n\n## `hardware.call(process: Process, node: Device, method: string, ...: any): any...`\nCalls a method on a device.\n\n### Arguments\n1. `process`: The process to run as\n2. `node`: The node to call on\n3. `method`: The method to call\n4. `...`: Any arguments to pass\n\n### Return Values\nAny return values from the method\n\n## `uriSchemes`\nStores all URI scheme handlers using Lua patterns as keys.\n\n### Fields\n- `[https?]`:\n- `[wss?]`:\n- `[rednet]`:\n- `[rednet%+%a+]`:\n- `[psp]`:\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=15004}},modified=1688258061830,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},man3={created=1688258061770,type="directory",contents={["system.terminal.md"]={created=1688258061713,type="file",modified=1688258055753,data="# system.terminal\nThe terminal module defines functions to allow interacting with the terminal\n and screen, as well as handling user input.\n\n## `toEscape(color: number[, background: boolean = false]): string`\nConverts a @{terminal.colors} constant to an ANSI escape code.\n\n### Arguments\n1. `color`: The color to convert\n2. `background`: Whether the escape should set the background (defaults to false)\n\n### Return Values\nThe escape code generated for the color\n\n## `write(...)`\nWrites text to the standard output stream.\n\n### Arguments\n1. `...`: The entries to write. Each one will be separated by tabs (`\\t`).\n\n### Return Values\nThis function does not return anything.\n\n## `writeerr(...)`\nWrites text to the standard error stream.\n\n### Arguments\n1. `...`: The entries to write. Each one will be separated by tabs (`\\t`).\n\n### Return Values\nThis function does not return anything.\n\n## `read(n: number): string|nil`\nReads a number of characters from the standard input stream.\n\n### Arguments\n1. `n`: The number of characters to read\n\n### Return Values\nThe text read, or nil if EOF was reached.\n\n## `readline(): string|nil`\nReads a single line of text from the standard input stream.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe text read, or nil if EOF was reached.\n\n## `termctl(flags: {cbreak?=boolean,delay?=boolean,echo?=boolean,keypad?=boolean,nlcr?=boolean,raw?=boolean}): {cbreak=boolean,delay=boolean,echo=boolean,keypad=boolean,nlcr=boolean,raw=boolean}|nil`\nSets certain terminal control flags on the current TTY if available.\n\n### Arguments\n1. `flags`: ? The flags to set, or nil to just query.\n\n### Return Values\nThe flags that are currently set on the TTY, or nil if no TTY is available.\n\n## `openterm(): Terminal / nil, string`\nOpens the current output TTY in exclusive text mode, allowing direct\n manipulation of the screen buffer.  Only one process may open the terminal at\n a time. Once opened, the screen will be cleared, and stdout will be sent to\n an off-screen buffer to be shown once the terminal is closed. The terminal\n will automatically be closed on process exit.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function may return the following values:\n1. A terminal object for the current TTY.\n\nOr:\n1. If the terminal could not be opened.\n2. An error message describing why the terminal couldn't be opened.\n\n## `opengfx(): GFXTerminal / nil, string`\nOpens the current output TTY in exclusive graphics mode, allowing direct\n manipulation of the pixels if available.  Only one process may open the terminal\n at a time. Once opened, the screen will be cleared, and stdout will be sent to\n an off-screen buffer to be shown once the terminal is closed. The terminal\n will automatically be closed on process exit. This only works on CraftOS-PC.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function may return the following values:\n1. A graphical terminal object for the current TTY.\n\nOr:\n1. If the terminal could not be opened.\n2. An error message describing why the terminal couldn't be opened.\n\n## `mktty(width: number, height: number): TTY`\nCreates a new virtual TTY with the specified size.  This can later be used in\n a call to stdin/stdout/stderr.\n\n### Arguments\n1. `width`: The width of the new TTY.\n2. `height`: The height of the new TTY.\n\n### Return Values\nA new TTY object which is registered with the kernel.\n\n## `stdin(handle: number|TTY|FileHandle|nil)`\nSets the standard input of the current process.\n\n### Arguments\n1. `handle`: The input handle to switch to, as\n either a physical TTY, a virtual TTY, a file, or nil.\n\n### Return Values\nThis function does not return anything.\n\n## `stdout(handle: number|TTY|FileHandle|nil)`\nSets the standard output of the current process.\n\n### Arguments\n1. `handle`: The output handle to switch to, as\n either a physical TTY, a virtual TTY, a file, or nil.\n\n### Return Values\nThis function does not return anything.\n\n## `stderr(handle: number|TTY|FileHandle|nil)`\nSets the standard error of the current process.\n\n### Arguments\n1. `handle`: The output handle to switch to, as\n either a physical TTY, a virtual TTY, a file, or nil.\n\n### Return Values\nThis function does not return anything.\n\n## `istty(): boolean, boolean`\nReturns whether the current stdio are linked to a TTY.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function may return the following values:\n1. Whether the current stdin is linked to a TTY.\n2. Whether the current stdout is linked to a TTY.\n\n## `termsize(): number, number / nil`\nReturns the current size of the TTY if available.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function may return the following values:\n1. The width of the screen.\n2. The height of the screen.\n\nOr:\n1. If the current stdout is not a screen.\n\n## `colors`\nConstants for colors.  This includes both normal and British spelling.\n\n### Fields\n- `white`:\n- `orange`:\n- `magenta`:\n- `lightBlue`:\n- `yellow`:\n- `lime`:\n- `pink`:\n- `gray`:\n- `grey`:\n- `lightGray`:\n- `lightGrey`:\n- `cyan`:\n- `purple`:\n- `blue`:\n- `brown`:\n- `green`:\n- `red`:\n- `black`:\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=5197},["system.ipc.md"]={created=1688258061237,type="file",modified=1688258052880,data="# system.ipc\nThe IPC module provides functions for sending messages to other processes.\n\n## `kill(pid: number, signal: number)`\nSends a basic signal to a process.\n\n### Arguments\n1. `pid`: The PID of the process to send to\n2. `signal`: The signal to send to the process\n\n### Return Values\nThis function does not return anything.\n\n## `sigaction(signal: number, fn: function|nil)`\nSets the handler for a signal.\n\n### Arguments\n1. `signal`: The signal to modify\n2. `fn`: The function to call, or `nil` to remove\n\n### Return Values\nThis function does not return anything.\n\n## `sendEvent(pid: number, event: string, param: table): boolean`\nSends a remote event to a process.\n\n### Arguments\n1. `pid`: The PID of the process to send to\n2. `event`: The event name to send\n3. `param`: The parameter table to send with the event\n\n### Return Values\nWhether the event was sent\n\n## `register(name: string): boolean`\nRegisters the current process as the receiver of a service name.\n\n### Arguments\n1. `name`: The service name to register for\n\n### Return Values\nWhether the service was registered\n\n## `lookup(name: string): number|nil`\nReturns the ID of the process that receives a service name.\n\n### Arguments\n1. `name`: The service to lookup\n\n### Return Values\nThe PID of the process that owns it (if available)\n\n## `sendServiceEvent(name: string, event: string, param: table): boolean`\nSends an event to the owner of a service.\n\n### Arguments\n1. `name`: The service to send to\n2. `event`: The event name to send\n3. `param`: The parameter table to send with the event\n\n### Return Values\nWhether the event was sent\n\n## `receiveEvent(pid: number?, event: string?, timeout: number?): string, table / nil`\nWaits for a remote event, filtering for processes or event names, with an optional timeout.\n\n### Arguments\n1. `pid`: The PID to wait for an event from (optional)\n2. `event`: The event to filter for (optional)\n3. `timeout`: The maximum number of seconds to wait for (optional)\n\n### Return Values\nThis function may return the following values:\n1. The event name received\n2. The parameters for the event\n\nOr:\n1. If the function timed out\n\n## `signal`\nConstants for signal numbers\n\n### Fields\n- `SIGHUP`:\n- `SIGINT`:\n- `SIGQUIT`:\n- `SIGTRAP`:\n- `SIGABRT`:\n- `SIGKILL`:\n- `SIGPIPE`:\n- `SIGTERM`:\n- `SIGCONT`:\n- `SIGSTOP`:\n- `SIGTTIN`:\n- `SIGTTOU`:\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=2331},["usermgr.md"]={created=1688258011813,type="file",modified=1688258011236,data="",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=0},["system.network.md"]={created=1688258061413,type="file",modified=1688258053963,data="# system.network\nThe network module implements functions for making and hosting connections\n with local and Internet-connected computers, as well as managing the network\n stack configuration.\n\n## `connect(options: string|table): Handle`\nCreates a new connection to a remote server.\n\n### Arguments\n1. `options`: The URI to connect with, or a table of options\n (see the connect syscall docs for more information)\n\n### Return Values\nA handle to the connection\n\n## `get(options: string|table): Handle / nil, string`\nConnects to an HTTP(S) server, sends a GET request and waits for a response.\n\n### Arguments\n1. `options`: The URL to connect to, or a table of options\n (see the connect syscall docs for more information)\n\n### Return Values\nThis function may return the following values:\n1. The handle to the response data\n\nOr:\n1. If the connection failed\n2. An error describing why the connection failed\n\n## `getData(url: string, headers: table?): string / nil, string`\nConnects to an HTTP(S) server, sends a GET request, waits for a response,\n and returns the data received after closing the connection.\n\n### Arguments\n1. `url`: The URL to connect to\n2. `headers`: Any headers to send in the request (optional)\n\n### Return Values\nThis function may return the following values:\n1. The response data sent from the server\n\nOr:\n1. If the connection failed\n2. An error describing why the connection failed\n\n## `head(options: string|table): Handle / nil, string`\nConnects to an HTTP(S) server, sends a HEAD request and waits for a response.\n\n### Arguments\n1. `options`: The URL to connect to, or a table of options\n (see the connect syscall docs for more information)\n\n### Return Values\nThis function may return the following values:\n1. The handle to the response data\n\nOr:\n1. If the connection failed\n2. An error describing why the connection failed\n\n## `options(options: string|table): Handle / nil, string`\nConnects to an HTTP(S) server, sends an OPTIONS request and waits for a response.\n\n### Arguments\n1. `options`: The URL to connect to, or a table of options\n (see the connect syscall docs for more information)\n\n### Return Values\nThis function may return the following values:\n1. The handle to the response data\n\nOr:\n1. If the connection failed\n2. An error describing why the connection failed\n\n## `post(options: string|table, data: string): Handle / nil, string`\nConnects to an HTTP(S) server, sends a POST request and waits for a response.\n\n### Arguments\n1. `options`: The URL to connect to, or a table of options\n (see the connect syscall docs for more information)\n2. `data`: The data to send to the server\n\n### Return Values\nThis function may return the following values:\n1. The handle to the response data\n\nOr:\n1. If the connection failed\n2. An error describing why the connection failed\n\n## `put(options: string|table, data: string): Handle / nil, string`\nConnects to an HTTP(S) server, sends a PUT request and waits for a response.\n\n### Arguments\n1. `options`: The URL to connect to, or a table of options\n (see the connect syscall docs for more information)\n2. `data`: The data to send to the server\n\n### Return Values\nThis function may return the following values:\n1. The handle to the response data\n\nOr:\n1. If the connection failed\n2. An error describing why the connection failed\n\n## `delete(options: string|table, data: string?): Handle / nil, string`\nConnects to an HTTP(S) server, sends a DELETE request and waits for a response.\n\n### Arguments\n1. `options`: The URL to connect to, or a table of options\n (see the connect syscall docs for more information)\n2. `data`: The data to send to the server, if required (optional)\n\n### Return Values\nThis function may return the following values:\n1. The handle to the response data\n\nOr:\n1. If the connection failed\n2. An error describing why the connection failed\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=3820},["system.util.md"]={created=1688258061770,type="file",modified=1688258056120,data="# system.util\nThe util module contains various functions that don't have any specific\n system function, or help improve the usability of the general system.\n\n## `argparse(arguments: {[string]=string|boolean|nil}, ...: string): {[string]=string|number|boolean|nil,string...} / nil, string`\nTakes a list of valid arguments + the arguments to a program, and returns a\n table with the extracted arguments (and values if requested).\n If an argument with all `-`s is passed, processing of arguments stops, and\n all subsequent arguments are added to the list.\n\n### Arguments\n1. `arguments`: A list of arguments that\n the program accepts. Single-character arguments are handled through `-a`, and\n longer arguments are handled through `--argument`. The value of the entry\n specifies how the argument is handled:\n * If the value is a truthy value, this argument requires a parameter.\n * If the value is `\"number\"`, the argument requires a number parameter.\n * If the value is `\"multiple\"`, the argument can be specified multiple times,\n   and will require a parameter. The values returned will be in a table.\n * If the value is `\"multiple number\"`, the argument can be specified multiple\n   times, and will require a number parameter. These are also in a table.\n * If the value is `false`, the argument does not take a parameter.\n * If the value is `nil`, the argument does not exist and will throw an error\n   if passed.\n * If the value starts with `@`, the parameter is an alias and will be stored\n   in that argument instead, following the same rules as that argument as well.\n Special parameters to the parser can be added in a `[\"\"]` table. The following\n parameters are specified:\n * `stopProcessingOnPositionalArgument` [boolean]: Whether to stop processing\n   arguments when a positional argument is passed, e.g. `myprog -s arg -i` will\n   return `args.s = true`, but `args.i = nil`.\n2. `...`: The arguments as passed to the program.\n\n### Return Values\nThis function may return the following values:\n1.  The arguments\n as parsed from the arguments table as key-value entries, plus positional\n arguments as list entries.\n\nOr:\n1. If the arguments passed are invalid.\n2. An error string describing what was invalid, which can be\n printed for the user.\n\n## `timer(time: number): number`\nStarts a timer that will run for the specified number of seconds.\n A timer event will be queued on completion.\n\n### Arguments\n1. `time`: The number of seconds to wait until sending the event\n\n### Return Values\nThe ID of the newly created timer\n\n## `alarm(time: number): number`\nStarts an alarm that will run until the specified time.\n A timer event will be queued on completion.\n\n### Arguments\n1. `time`: The time to send the event at\n\n### Return Values\nThe ID of the newly created alarm\n\n## `cancel(id: number)`\nCancels a timer or alarm.  This prevents the event from triggering.\n\n### Arguments\n1. `id`: The ID of the timer or alarm to cancel\n\n### Return Values\nThis function does not return anything.\n\n## `sleep(time: number)`\nPauses the process for a certain amount of time.\n\n### Arguments\n1. `time`: The amount of time to wait for, in seconds\n\n### Return Values\nThis function does not return anything.\n\n## `pullEvent(): string, table`\nReturns the next event from the event queue.  This is intended to make it more\n clear when events are being pulled, and also has the benefit of supporting\n libsystem-craftos better.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function may return the following values:\n1. The event pulled\n2. The parameters for the event\n\n## `filterEvent(...: string): string, table`\nWaits until an event of the specified type(s) occurs.\n\n### Arguments\n1. `...`: The event names to filter for\n\n### Return Values\nThis function may return the following values:\n1. The event type that was matched\n2. The parameters for the event\n\n## `queueEvent(event: string, param: table)`\nQueues an event to loop back to the process.\n\n### Arguments\n1. `event`: The event name to send\n2. `param`: The parameter table to send with the event\n\n### Return Values\nThis function does not return anything.\n\n## `split(str: string[, sep: string = \"%s\"][, includeEmpty: boolean = false]): {string...}`\nSplits a string into components.\n\n### Arguments\n1. `str`: The string to split\n2. `sep`: The delimiter match class to split by (defaults to \"%s\")\n3. `includeEmpty`: Whether to include empty matches (defaults to false)\n\n### Return Values\nThe components of the string\n\n## `copy(value: any): any`\nCopies a value recursively, including all its keys and values.\n\n### Arguments\n1. `value`: The value to copy\n\n### Return Values\nA copy of the value, with all keys, values, and metatables duplicated.\n\n## `addEventListener(event: string, callback: function(string,table):boolean)`\nAdds an event listener to the listening module.\n\n### Arguments\n1. `event`: The event to listen for\n2. `callback`: The function to call when\n the event is queued. If the function returns a truthy value, processing for\n the current event will stop. If the function throws an error, the loop will\n stop.\n\n### Return Values\nThis function does not return anything.\n\n## `removeEventListener(event: string, callback: function(string,table))`\nRemoves an event listener from the listening module.\n\n### Arguments\n1. `event`: The event to listen for\n2. `callback`: The function to remove\n\n### Return Values\nThis function does not return anything.\n\n## `runEvents(): string`\nRuns the event listening loop on the current thread, blocking forever.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe error that caused the function to stop\n\n## `startEvents(): number`\nRuns the event listening loop on a new thread, allowing code to run after.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe ID of the new thread\n\n## `type(value: any): string`\nReturns the type of the parameter, with the ability to check the __name\n metamethod for custom types.\n\n### Arguments\n1. `value`: The value to check\n\n### Return Values\nThe type of the value\n\n## `crc32(str: string[, polynomial: table|number = 0xEDB88320][, crc: number = 0xFFFFFFFF]): number`\nCalculates the CRC-32 checksum of the specified data.\n\n### Arguments\n1. `str`: The data to checksum\n2. `polynomial`: The polynomial for the CRC, or the lookup table to use (defaults to 0xEDB88320)\n3. `crc`: The initial CRC value (defaults to 0xFFFFFFFF)\n\n### Return Values\nThe calculated CRC checksum\n\n## `syscall`\nutil.syscall wraps all available syscalls into a table of functions, making\n it possible to call syscalls using direct function calls instead of manually\n yielding and managing the return values.\n\n### Fields\nThis function does not take any arguments.\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=6732},["system.log.md"]={created=1688258061357,type="file",modified=1688258053600,data="# system.log\nThe log module exposes functions for interacting with the logging subsystem.\n The default system log is available under the root `log` table. Other logs\n created through @{log.create} can be accessed by indexing the `log` table with\n the name of the log, e.g. `log.mylog.info(\"hello\")`. Both the main and\n subtables may also be called directly, e.g. `log(\"test\")` or `log.mylog(\"hello\")`.\n\n\n## `log(options: table?, ...: any)`\nWrites a message to the log.\n\n### Arguments\n1. `options`: A table of options to supply. See the documentation\n for the syslog syscall for more information. (optional)\n2. `...`: The values to print to the log, which will be concatenated as\n strings with \\t.\n\n### Return Values\nThis function does not return anything.\n\n## `debug(options: table?, ...: any)`\nWrites a debug message to the log.\n\n### Arguments\n1. `options`: A table of options to supply. See the documentation\n for the syslog syscall for more information. (optional)\n2. `...`: The values to print to the log, which will be concatenated as\n strings with \\t.\n\n### Return Values\nThis function does not return anything.\n\n## `info(options: table?, ...: any)`\nWrites an info message to the log.\n\n### Arguments\n1. `options`: A table of options to supply. See the documentation\n for the syslog syscall for more information. (optional)\n2. `...`: The values to print to the log, which will be concatenated as\n strings with \\t.\n\n### Return Values\nThis function does not return anything.\n\n## `notice(options: table?, ...: any)`\nWrites a notice message to the log.\n\n### Arguments\n1. `options`: A table of options to supply. See the documentation\n for the syslog syscall for more information. (optional)\n2. `...`: The values to print to the log, which will be concatenated as\n strings with \\t.\n\n### Return Values\nThis function does not return anything.\n\n## `warning(options: table?, ...: any)`\nWrites a warning message to the log.\n\n### Arguments\n1. `options`: A table of options to supply. See the documentation\n for the syslog syscall for more information. (optional)\n2. `...`: The values to print to the log, which will be concatenated as\n strings with \\t.\n\n### Return Values\nThis function does not return anything.\n\n## `error(options: table?, ...: any)`\nWrites an error message to the log.\n\n### Arguments\n1. `options`: A table of options to supply. See the documentation\n for the syslog syscall for more information. (optional)\n2. `...`: The values to print to the log, which will be concatenated as\n strings with \\t.\n\n### Return Values\nThis function does not return anything.\n\n## `critical(options: table?, ...: any)`\nWrites a critical error message to the log.\n\n### Arguments\n1. `options`: A table of options to supply. See the documentation\n for the syslog syscall for more information. (optional)\n2. `...`: The values to print to the log, which will be concatenated as\n strings with \\t.\n\n### Return Values\nThis function does not return anything.\n\n## `traceback(message: string?)`\nWrites a traceback error message to the log.\n\n### Arguments\n1. `message`: A message to attach to the traceback (optional)\n\n### Return Values\nThis function does not return anything.\n\n## `create(name: string, streamed: boolean?, file: string?): table`\nCreates a new log.\n\n### Arguments\n1. `name`: The name of the log to create\n2. `streamed`: Whether to make the log available for streaming (optional)\n3. `file`: The path to the file to write the log to (optional)\n\n### Return Values\nA logger object from `log.*`\n\n## `remove(name: string)`\nRemoves a previously created log.\n\n### Arguments\n1. `name`: The log to remove\n\n### Return Values\nThis function does not return anything.\n\n## `open(name: string, filter: string?): number`\nOpens a log for listening to messages.\n\n### Arguments\n1. `name`: The name of the log to listen to\n2. `filter`: A filter command to filter messages with (see the\n openlog syscall docs for more info) (optional)\n\n### Return Values\nAn ID to identify the logged messages with\n\n## `close(name: string|number)`\nCloses a log or stream for listening.\n\n### Arguments\n1. `name`: The log name to close (closes all streams), or an\n ID returned by <a href=\"log.html#open\">log.open</a>.\n\n### Return Values\nThis function does not return anything.\n\n## `setTTY(name: string, tty: TTY|nil, level: number?)`\nSets the TTY to output a log to.  (Requires root)\n\n### Arguments\n1. `name`: The log to set the TTY of\n2. `tty`: The TTY to use, or `nil` to disable\n3. `level`: The minimum log level to show messages (optional)\n\n### Return Values\nThis function does not return anything.\n\n## `levels`\nConstants for log levels.\n\n### Fields\n- `debug`:\n- `info`:\n- `notice`:\n- `warning`:\n- `error`:\n- `critical`:\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=4678},["system.serialization.md"]={created=1688258061593,type="file",modified=1688258055043,data="# system.serialization\nThe serialization module provides functions for serializing and deserializing\n objects in multiple formats, as well as some miscellaneous encoding types.\n\n# serialization.base64\n\n\n## `serialization.base64.encode(str: string): string`\nEncodes a binary string into Base64.\n\n### Arguments\n1. `str`: The string to encode\n\n### Return Values\nThe string's representation in Base64\n\n## `serialization.base64.decode(str: string): string`\nDecodes a Base64 string to binary.\n\n### Arguments\n1. `str`: The Base64 to decode\n\n### Return Values\nThe decoded data\n\n# serialization.json\n\n\n## `serialization.json.encode(val: any): string`\nSerializes an arbitrary Lua object into a JSON string.\n\n### Arguments\n1. `val`: The value to encode\n\n### Return Values\nThe JSON representation of the object\n\n## `serialization.json.decode(str: string): any`\nParses a JSON string and returns a Lua value represented by the string.\n\n### Arguments\n1. `str`: The JSON string to decode\n\n### Return Values\nThe Lua value from the JSON\n\n## `serialization.json.save(val: any, path: string)`\nSaves a Lua value to a JSON file.\n\n### Arguments\n1. `val`: The value to save\n2. `path`: The path to the file to save\n\n### Return Values\nThis function does not return anything.\n\n## `serialization.json.load(path: string): any`\nLoads a JSON file into a Lua value.\n\n### Arguments\n1. `path`: The path to the file to load\n\n### Return Values\nThe loaded value\n\n# serialization.lua\n\n\n## `serialization.lua.encode(val: any, opts: {minified=boolean,allow_functions=boolean}?): string`\nSerializes an arbitrary Lua object into a serialized Lua string.\n\n### Arguments\n1. `val`: The value to encode\n2. `opts`: Any options to specify while encoding (optional)\n\n### Return Values\nThe serialized Lua representation of the object\n\n## `serialization.lua.decode(str: string, opts: {allow_functions=boolean}?): any`\nParses a serialized Lua string and returns a Lua value represented by the string.\n\n### Arguments\n1. `str`: The serialized Lua string to decode\n2. `opts`: Any options to specify while decoding (optional)\n\n### Return Values\nThe Lua value from the serialized Lua\n\n## `serialization.lua.save(val: any, path: string, opts: {minified=boolean,allow_functions=boolean}?)`\nSaves a Lua value to a serialized Lua file.\n\n### Arguments\n1. `val`: The value to save\n2. `path`: The path to the file to save\n3. `opts`: Any options to specify while encoding (optional)\n\n### Return Values\nThis function does not return anything.\n\n## `serialization.lua.load(path: string, opts: {allow_functions=boolean}?): any`\nLoads a serialized Lua file into a Lua value.\n\n### Arguments\n1. `path`: The path to the file to load\n2. `opts`: Any options to specify while decoding (optional)\n\n### Return Values\nThe loaded value\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=2757},["system.keys.md"]={created=1688258061297,type="file",modified=1688258053233,data="# system.keys\nThe keys module assigns names to the keycode constants that Phoenix sends in\n key events, and adds a few functions to make using them easier.  This module\n uses the same names as the CraftOS `keys` API, so porting programs should be\n trivial.\n\n\n## `getName(id: number): string|nil`\nReturns the name for the specified keycode.\n\n### Arguments\n1. `id`: The keycode to check\n\n### Return Values\nThe name (which is a key in `keys`), or `nil` if the code is invalid\n\n## `getCharacter(id: number): string|nil`\nReturns a printable representation of the keycode if available.\n\n### Arguments\n1. `id`: The keycode to check\n\n### Return Values\nThe keycode's character (in lowercase), or `nil` if the code doesn't have a printable representation\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=746},["system.hardware.md"]={created=1688258061180,type="file",modified=1688258052510,data="# system.hardware\nThe hardware module implements functions for operating on peripherals and\n other hardware devices.\n\n## `wrap(device: string): device`\nWraps a device into an indexable object, allowing accessing properties and\n methods of the device by indexing the table.\n If an object is passed, this simply re-wraps the device in a new object.\n\n### Arguments\n1. `device`: The device specifier or object to wrap\n\n### Return Values\nThe wrapped device\n\n## `find(type: string): device...`\nReturns a list of wrapped devices that implement the specified type.\n\n### Arguments\n1. `type`: The type to search for\n\n### Return Values\nThe devices found, or `nil` if none were found\n\n## `path(device: string|device): string...`\nReturns a list of device paths that match the device specifier or object.\n If an absolute path is specified, this returns the same path back.\n If a device object is specified, this returns the path to the device.\n\n### Arguments\n1. `device`: The device specifier or object to read\n\n### Return Values\nThe paths that match the specifier or device object.\n\n## `hasType(device: string|device, type: string): boolean`\nReturns whether the device implements the specified type.\n\n### Arguments\n1. `device`: The device specifier or object to query\n2. `type`: The type to check for\n\n### Return Values\nWhether the device implements the type\n\n## `info(device: string|device): HWInfo|nil`\nReturns a table of information about the specified device.\n\n### Arguments\n1. `device`: The device specifier or object to query\n\n### Return Values\nThe hardware info table, or `nil` if no device was found\n\n## `methods(device: string|device): {string...}`\nReturns a list of methods implemented by this device.\n\n### Arguments\n1. `device`: The device specifier or object to query\n\n### Return Values\nThe methods available to call on this device\n\n## `properties(device: string|device): {string...}`\nReturns a list of properties implemented by this device.\n\n### Arguments\n1. `device`: The device specifier or object to query\n\n### Return Values\nThe properties available on this device\n\n## `children(device: string|device): {string...}`\nReturns a list of children of this device.\n\n### Arguments\n1. `device`: The device specifier or object to query\n\n### Return Values\nThe names of children of the device\n\n## `call(device: string|device, method: string, ...: any): any...`\nCalls a method on a device.\n\n### Arguments\n1. `device`: The device specifier or object to call on\n2. `method`: The method to call\n3. `...`: Any arguments to pass to the method\n\n### Return Values\nThe return values from the method\n\n## `listen(device: string|device[, state: boolean = true])`\nToggles whether this process should receive events from the device.\n\n### Arguments\n1. `device`: The device specifier or object to modify\n2. `state`: Whether to allow events (defaults to true)\n\n### Return Values\nThis function does not return anything.\n\n## `lock(device: string|device[, wait: boolean = true]): boolean`\nLocks the device from being called on or listened to by other processes.\n\n### Arguments\n1. `device`: The device specifier or object to modify\n2. `wait`: Whether to wait for the device to unlock if\n it's currently locked by another process (defaults to true)\n\n### Return Values\nWhether the current process now owns the lock\n\n## `unlock(device: string|device)`\nUnlocks the device after previously locking it.\n\n### Arguments\n1. `device`: The device specifier or object to modify\n\n### Return Values\nThis function does not return anything.\n\n## `tree`\nA table that allows accessing device object pointers in a tree.  This is\n simply syntax sugar for real paths.\n\n### Fields\nThis function does not take any arguments.\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=3673},["system.graphics.md"]={created=1688258061123,type="file",modified=1688258052170,data="# system.graphics\nThe graphics module provides functions to draw primitive geometry on a locked\n terminal object.  It supports both text and graphics mode terminals.\n The state of text terminals is preserved, so using these functions doesn't\n change the cursor position or colors.\n\n\n## `drawPixel(term: Terminal|GFXTerminal, x: number, y: number, color: number)`\nDraws a single pixel on screen.\n\n### Arguments\n1. `term`: The terminal to draw on\n2. `x`: The X coordinate to draw at\n3. `y`: The Y coordinate to draw at\n4. `color`: The color to draw with\n\n### Return Values\nThis function does not return anything.\n\n## `drawLine(term: Terminal|GFXTerminal, x1: number, y1: number, x2: number, y2: number, color: number)`\nDraws a line between two points.\n\n### Arguments\n1. `term`: The terminal to draw on\n2. `x1`: The start X coordinate to draw at\n3. `y1`: The start Y coordinate to draw at\n4. `x2`: The end X coordinate to draw at\n5. `y2`: The end Y coordinate to draw at\n6. `color`: The color to draw with\n\n### Return Values\nThis function does not return anything.\n\n## `drawBox(term: Terminal|GFXTerminal, x: number, y: number, width: number, height: number, color: number)`\nDraws an outlined rectangle on screen.\n\n### Arguments\n1. `term`: The terminal to draw on\n2. `x`: The upper-left X coordinate to draw at\n3. `y`: The upper-left Y coordinate to draw at\n4. `width`: The width of the rectangle\n5. `height`: The height of the rectangle\n6. `color`: The color to draw with\n\n### Return Values\nThis function does not return anything.\n\n## `drawFilledBox(term: Terminal|GFXTerminal, x: number, y: number, width: number, height: number, color: number)`\nDraws a filled rectangle on screen.\n\n### Arguments\n1. `term`: The terminal to draw on\n2. `x`: The upper-left X coordinate to draw at\n3. `y`: The upper-left Y coordinate to draw at\n4. `width`: The width of the rectangle\n5. `height`: The height of the rectangle\n6. `color`: The color to draw with\n\n### Return Values\nThis function does not return anything.\n\n## `drawCircle(term: Terminal|GFXTerminal, x: number, y: number, width: number, height: number, color: number[, startAngle: number = 0][, arcCircumference: number = 2*math.pi])`\nDraws an outlined circle (or arc) on screen.\n\n### Arguments\n1. `term`: The terminal to draw on\n2. `x`: The upper-left X coordinate to draw at\n3. `y`: The upper-left Y coordinate to draw at\n4. `width`: The width of the circle\n5. `height`: The height of the circle\n6. `color`: The color to draw with\n7. `startAngle`: The angle to start from in radians (starting at the right side) (defaults to 0)\n8. `arcCircumference`: The amount of the arc to draw in radians (defaults to 2*math.pi)\n\n### Return Values\nThis function does not return anything.\n\n## `drawFilledTriangle(term: Terminal|GFXTerminal, x1: number, y1: number, x2: number, y2: number, x3: number, y3: number, color: number)`\nDraws a filled triangle on screen.\n\n### Arguments\n1. `term`: The terminal to draw on\n2. `x1`: The first X coordinate to draw at\n3. `y1`: The first Y coordinate to draw at\n4. `x2`: The second X coordinate to draw at\n5. `y2`: The second Y coordinate to draw at\n6. `x3`: The third X coordinate to draw at\n7. `y3`: The third Y coordinate to draw at\n8. `color`: The color to draw with\n\n### Return Values\nThis function does not return anything.\n\n## `drawImage(term: Terminal|GFXTerminal, x: number, y: number, image: table)`\nDraws an image on screen.  The image may be either a valid graphics mode\n pixel region (using either string or table rows), or a blit table with\n {text, text color, background color} table rows (text mode only).\n\n### Arguments\n1. `term`: The terminal to draw on\n2. `x`: The X coordinate to draw at\n3. `y`: The Y coordinate to draw at\n4. `image`: The image to draw\n\n### Return Values\nThis function does not return anything.\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=3803},["system.pretty.md"]={created=1688258061470,type="file",modified=1688258054313,data="# system.pretty\nProvides a \"pretty printer\", for rendering data structures in an\naesthetically pleasing manner.\n\nIn order to display something using @{pretty}, you build up a series of\n@{Doc|documents}. These behave a little bit like strings; you can concatenate\nthem together and then print them to the screen.\n\nHowever, documents also allow you to control how they should be printed. There\nare several functions (such as @{nest} and @{group}) which allow you to control\nthe \"layout\" of the document. When you come to display the document, the 'best'\n(most compact) layout is used.\n\nThe structure of this module is based on [A Prettier Printer][prettier].\n\n[prettier]: https://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf \"A Prettier Printer\"\n\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=760},["system.process.md"]={created=1688258061533,type="file",modified=1688258054667,data="# system.process\nThe process module allows querying various properties about the current\n process, as well as creating, modifying, and searching other processes.\n\n## `getpid(): number`\nReturns the process ID of the current process.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe process ID of the current process\n\n## `getppid(): number`\nReturns the process ID of the parent process, if available.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe process ID of the parent process, if available\n\n## `getuser(): string`\nReturns the username the process is running under.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe username the process is running under\n\n## `setuser(user: string)`\nSets the user of the current process.  This can only be run by root.\n\n### Arguments\n1. `user`: The user to switch to\n\n### Return Values\nThis function does not return anything.\n\n## `clock(): number`\nReturns the amount of time this process has executed.  This may not be\n entirely accurate due to a lack of precision in the system clock.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe amount of time this process has executed\n\n## `getenv(): table`\nReturns the environment table for the current process.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe environment table for the current process\n\n## `getname(): string`\nReturns the name of the current process.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe name of the current process\n\n## `getcwd(): string`\nReturns the working directory of the current process.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe working directory of the current process\n\n## `chdir(dir: string)`\nSets the working directory of the current process.\n\n### Arguments\n1. `dir`: The new working directory, which must be absolute and existent.\n\n### Return Values\nThis function does not return anything.\n\n## `fork(func: function, name: string, ...: any): number`\nCreates a new process running the specified function with arguments.\n\n### Arguments\n1. `func`: The function to run in the new process. This will be the\n main function of the first thread, and will have its environment set to the\n new process's environment.\n2. `name`: ? The name of the new process.\n3. `...`: Any arguments to pass to the function.\n\n### Return Values\nThe PID of the new process.\n\n## `exec(path: string, ...: any)`\nReplaces the current process with the contents of the specified file.\n This function does not return - it can only throw an error.\n\n### Arguments\n1. `path`: The path to the file to execute.\n2. `...`: Any arguments to pass to the file.\n\n### Return Values\nThis function does not return anything.\n\n## `execp(command: string, ...: any)`\nReplaces the current process with the contents of the specified file or\n command, searching the PATH environment variable if necessary.\n This function does not return - it can only throw an error.\n\n### Arguments\n1. `command`: The command or file to execute.\n2. `...`: Any arguments to pass to the file.\n\n### Return Values\nThis function does not return anything.\n\n## `start(path: string, ...: any): number`\nStarts a new process from the specified path.\n\n### Arguments\n1. `path`: The path to the file to execute.\n2. `...`: Any arguments to pass to the file.\n\n### Return Values\nThe PID of the new process.\n\n## `run(path: string, ...: any): true, any / false, string`\nRuns a program from the specified path in a new process, waiting until it completes.\n\n### Arguments\n1. `path`: The command or file to execute\n2. `...`: Any arguments to pass to the file\n\n### Return Values\nThis function may return the following values:\n1. When the process succeeded\n2. The return value from the process\n\nOr:\n1. When the process errored\n2. The error message from the process\n\n## `newthread(func: function, ...: any): number`\nCreates a new thread running the specified function with arguments.\n Threads in the same process share the same environment, event queue, and\n other properties.\n\n### Arguments\n1. `func`: The function to start\n2. `...`: Any arguments to pass to the function\n\n### Return Values\nThe ID of the new thread\n\n## `exit(code: number)`\nEnds the current process immediately, stopping all threads and sending the\n specified return value to the parent.  This function does not return.\n\n### Arguments\n1. `code`: ? The value to return.\n\n### Return Values\nThis function does not return anything.\n\n## `getplist(): table`\nReturns a list of all valid PIDs.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nA list of all valid PIDs\n\n## `getpinfo(pid: number): {id=number,name=string,user=string,parent?=number,dir=string,stdin?=number,stdout?=number,stderr?=number,cputime=number,systime=number,threads={[number]={id=number,name=string,status=string}}}|nil`\nReturns a table with various information about the specified process.\n\n### Arguments\n1. `pid`: The process ID to query.\n\n### Return Values\nThe process information, or nil if the process doesn't exist.\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=5130},["system.expect.md"]={created=1688258060950,type="file",modified=1688258051143,data="# system.expect\nThe expect module provides error checking functions for other libraries.\n\n## `expect(index: number, value: any, ...: string): any`\nCheck that a numbered argument matches the expected type(s).  If the type\n doesn't match, throw an error.\n This function supports custom types by checking the __name metaproperty.\n\n### Arguments\n1. `index`: The index of the argument to check\n2. `value`: The value to check\n3. `...`: The types to check for\n\n### Return Values\n`value`\n\n## `field(tbl: any, key: any, ...: string): any`\nCheck that a key in a table matches the expected type(s).  If the type\n doesn't match, throw an error.\n This function supports custom types by checking the __name metaproperty.\n\n### Arguments\n1. `tbl`: The table (or other indexable value) to search through\n2. `key`: The key of the table to check\n3. `...`: The types to check for\n\n### Return Values\nThe indexed value in the table\n\n## `range(num: number[, min: number = -math.huge][, max: number = math.huge]): number`\nCheck that a number is between the specified minimum and maximum values.  If\n the number is out of bounds, throw an error.\n\n### Arguments\n1. `num`: The number to check\n2. `min`: The minimum value of the number (inclusive) (defaults to -math.huge)\n3. `max`: The maximum value of the number (inclusive) (defaults to math.huge)\n\n### Return Values\n`num`\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1349},["system.framebuffer.md"]={created=1688258061063,type="file",modified=1688258051830,data="# system.framebuffer\nThe framebuffer library provides functions to make \"window\" and \"framebuffer\"\n objects.  These objects imitate a Terminal object (as returned by\n @{system.terminal.openterm}) or GFXTerminal object (as returned by\n @{system.terminal.opengfx}) that may or may not draw to a parent object.\n Windows and framebuffers may be used as parents to other windows and\n framebuffers, in addition to the root terminal object.\n\n A framebuffer object holds its own state, can be redrawn onto the parent\n terminal even if the parent is changed, can be removed from the parent and\n used independently, and its contents can be accessed from code. A window\n object simply changes the coordinates of writing methods, and is entirely\n dependent on the parent.\n\n The type of object returned by each function is dependent on the parent\n passed in. If a Terminal object is passed, a Terminal object is created; if a\n GFXTerminal object is passed, a GFXTerminal object is created. When creating\n a framebuffer with no parent, the @{empty} fields are used to specify the type.\n\n\n## `window(parent: Terminal|GFXTerminal, x: number, y: number, width: number, height: number): Terminal|GFXTerminal`\nCreates a new window object.\n\n### Arguments\n1. `parent`: The parent object to render to\n2. `x`: The X coordinate in the parent to start at\n3. `y`: The Y coordinate in the parent to start at\n4. `width`: The width of the window\n5. `height`: The height of the window\n\n### Return Values\nThe new window object\n\n## `framebuffer(parent: Terminal|GFXTerminal, wx: number|nil, wy: number|nil, w: number, h: number, visible: boolean?): Terminal|GFXTerminal`\nCreates a new framebuffer object.\n\n### Arguments\n1. `parent`: The parent object to render to, or a member of <a href=\"framebuffer.html#empty\">empty</a> to not use a parent\n2. `wx`: The X coordinate in the parent to start at (`nil` if there's no parent)\n3. `wy`: The Y coordinate in the parent to start at (`nil` if there's no parent)\n4. `w`: The width of the framebuffer\n5. `h`: The height of the framebuffer\n6. `visible`: Whether the window should be visible upon creation (optional)\n\n### Return Values\nThe new framebuffer object\n\n## `empty`\nEmpty objects for use when creating framebuffers with no parents.\n\n### Fields\n- `text`: Used to create a text mode Terminal framebuffer\n- `graphics`: Used to create a graphics mode GFXTerminal framebuffer\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=2388},["system.sync.md"]={created=1688258061650,type="file",modified=1688258055397,data="# system.sync\nThe sync library exposes interfaces for various synchronization structures.\n\n# Class mutex\nA mutex is an object that controls access to a variable across multiple threads.\n It ensures only one thread accesses a resource at a time by blocking other\n threads from locking the mutex until the current thread unlocks it.\n\n## `sync.mutex.new(recursive: boolean?): mutex`\nCreates a new mutex.\n\n### Arguments\n1. `recursive`: Whether to make the mutex recursive (optional)\n\n### Return Values\nThe new mutex object\n\n## `sync.mutex:lock()`\nLocks the mutex, waiting if it's currently owned by another thread.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n## `sync.mutex:unlock()`\nUnlocks the mutex.  This is only valid from the thread that owns the lock.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n## `sync.mutex:tryLock(): boolean`\nTries to lock the thread, returning false if it could not be locked.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nWhether the mutex is now locked\n\n## `sync.mutex:tryLockFor(timeout: number): boolean`\nLocks the mutex, waiting until it's unlocked or until the specified timeout.\n\n### Arguments\n1. `timeout`: The number of seconds to wait\n\n### Return Values\nWhether the mutex is now locked\n\n# Class semaphore\nA semaphore controls access to a limited number of resources.  A function may\n acquire a resource from the semaphore, decrementing its available count. If\n the count is zero, it waits until another function releases a resource, at\n which point it will acquire it and return.\n\n## `sync.semaphore.new([init: number = 1]): semaphore`\nCreates a new semaphore.\n\n### Arguments\n1. `init`: The initial count of the semaphore (defaults to 1)\n\n### Return Values\nThe new semaphore object\n\n## `sync.semaphore:acquire()`\nAcquires a resource from the semaphore, waiting until there is one available.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n## `sync.semaphore:tryAcquireFor(timeout: number): boolean`\nAcquires a resource from the semaphore, waiting until there is one available or until a timeout.\n\n### Arguments\n1. `timeout`: The number of seconds to wait\n\n### Return Values\nWhether the resource was acquired\n\n## `sync.semaphore:release()`\nReleases a resource to the semaphore.  This can be called from any thread.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n# Class conditionVariable\nA condition variable allows threads to wait until another thread notifies\n them to resume.\n\n## `sync.conditionVariable.new(): conditionVariable`\nCreates a new condition variable.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe new condition variable.\n\n## `sync.conditionVariable:wait()`\nWaits for a notification from another thread.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n## `sync.conditionVariable:waitFor(timeout: number): boolean`\nWaits for a notification from another thread, or until a timeout occurs.\n\n### Arguments\n1. `timeout`: The number of seconds to wait\n\n### Return Values\nWhether a notification occurred\n\n## `sync.conditionVariable:notifyOne()`\nNotifies a single (unspecified) thread to continue.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n## `sync.conditionVariable:notifyAll()`\nNotifies all waiting threads to continue.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n# Class barrier\nA barrier is a lock that waits for a specific number of threads to wait on\n the object, at which point all threads will be released together.\n\n## `sync.barrier.new(count: number): barrier`\nCreates a new barrier object.\n\n### Arguments\n1. `count`: The number of threads to wait for\n\n### Return Values\nA new barrier object\n\n## `sync.barrier:wait(): boolean`\nAdds one to the thread wait count, and waits until it meets the limit.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nWhether this call directly resulted in the barrier being met\n\n# Class rwlock\nA readers-writer lock implements two related locks: a read lock, which can\n be held by multiple threads, and a write lock, which can only be held by one\n thread.  Multiple threads can hold a read lock, but a write lock blocks both\n read and write locks.\n\n## `sync.rwLock.new(): rwlock`\nCreates a new RW lock.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThe new RW lock\n\n## `sync.rwLock:lockRead()`\nAcquires the lock for reading, waiting for the write lock to be released first.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n## `sync.rwLock:unlockRead()`\nReleases the lock for reading.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n## `sync.rwLock:lockWrite()`\nAcquires the lock for writing, waiting for the read and write locks to be released.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n## `sync.rwLock:unlockWrite()`\nReleases the lock for writing.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nThis function does not return anything.\n\n## `rwlock:lockGuard(mutex: mutex, fn: function, ...: any): any...`\nCalls a function, ensuring that the mutex is locked before calling and unlocked\n after calling, even if the function returns early or throws an error.\n\n### Arguments\n1. `mutex`: The mutex to lock\n2. `fn`: The function to call\n3. `...`: Any parameters to pass\n\n### Return Values\nThe return values from the function\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=5981},["system.filesystem.md"]={created=1688258061007,type="file",modified=1688258051483,data="# system.filesystem\nThe filesystem module implements common operations for working with the\n filesystem, including wrappers for syscalls.\n\n## `open(path: string, mode: string): FileHandle / nil, string`\nOpens a file for reading or writing.\n\n### Arguments\n1. `path`: The path to the file to open\n2. `mode`: The mode to open the file in: [rwa]b?\n\n### Return Values\nThis function may return the following values:\n1. The file handle, which has the same functions as CraftOS file handles\n\nOr:\n1. If the file could not be opened\n2. An error message describing why the file couldn't be opened\n\n## `list(path: string): table`\nReturns a list of files in a directory.\n\n### Arguments\n1. `path`: The path to query\n\n### Return Values\nA list of files and folders in the directory\n\n## `stat(path: string[, nolink: boolean = false]): FileStat`\nReturns a table with various information about a file or directory.\n\n### Arguments\n1. `path`: The path to query\n2. `nolink`: Whether to not resolve links to the file (defaults to false)\n\n### Return Values\nA table with information about the path\n\n## `remove(path: string)`\nDeletes a file or directory at a path, removing any subentries if present.\n\n### Arguments\n1. `path`: The path to remove\n\n### Return Values\nThis function does not return anything.\n\n## `rename(from: string, to: string)`\nMoves a file or directory on the same filesystem.\n\n### Arguments\n1. `from`: The original file to move\n2. `to`: The new path for the file\n\n### Return Values\nThis function does not return anything.\n\n## `mkdir(path: string)`\nCreates a directory, making any parent paths that don't exist.\n\n### Arguments\n1. `path`: The directory to create\n\n### Return Values\nThis function does not return anything.\n\n## `link(path: string, location: string)`\nCreates a (symbolic) link to a file.\n\n### Arguments\n1. `path`: The path of the new link\n2. `location`: The location to point the link to\n\n### Return Values\nThis function does not return anything.\n\n## `mkfifo(path: string)`\nCreates a FIFO.\n\n### Arguments\n1. `path`: The FIFO to create\n\n### Return Values\nThis function does not return anything.\n\n## `chmod(path: string, user: string|nil, mode: number|string|{read?=boolean,write?=boolean,execute?=boolean})`\nChanges the permissions (mode) of the file at a path.\n\n### Arguments\n1. `path`: The path to modify\n2. `user`: The user to modify, or nil to modify world permissions\n3. `mode`: The new permissions, as either an octal bitmask, a string in the format \"[+-=][rwx]+\" or \"[r-][w-][x-]\", or a table with the permissions to set (any `nil` arguments are left unset).\n\n### Return Values\nThis function does not return anything.\n\n## `chown(path: string, user: string)`\nChanges the owner of a file or directory.\n\n### Arguments\n1. `path`: The path to modify\n2. `user`: The new owner of the file\n\n### Return Values\nThis function does not return anything.\n\n## `chroot(path: string)`\nChanges the root directory of the current and future child processes.\n This function requires root.\n\n### Arguments\n1. `path`: The new root path to change to\n\n### Return Values\nThis function does not return anything.\n\n## `mount(type: string, src: string, dest: string, options: table?)`\nMounts a filesystem of the specified type to a directory.\n\n### Arguments\n1. `type`: The type of filesystem to mount\n2. `src`: The source of the mount (depends on the FS type)\n3. `dest`: The destination directory to mount to\n4. `options`: A table of options to pass to the filesystem (optional)\n\n### Return Values\nThis function does not return anything.\n\n## `unmount(path: string)`\nUnmounts a mounted filesystem.\n\n### Arguments\n1. `path`: The filesystem to unmount\n\n### Return Values\nThis function does not return anything.\n\n## `mountlist(): [{path:string,type:string,source:string,options:table}]`\nReturns a list of mounts currently available.\n\n### Arguments\nThis function does not take any arguments.\n\n### Return Values\nA list of mounts and their properties.\n\n## `combine(...: string): string`\nCombines the specified path components into a single path, canonicalizing any links and ./..  paths.\n\n### Arguments\n1. `...`: The path components to combine\n\n### Return Values\nThe combined and canonicalized path\n\n## `copy(from: string, to: string, preserve: boolean?)`\nCopies a file or directory.\n\n### Arguments\n1. `from`: The path to copy from\n2. `to`: The path to copy to\n3. `preserve`: Whether to preserve permissions when copying (optional)\n\n### Return Values\nThis function does not return anything.\n\n## `move(from: string, to: string)`\nMoves a file or directory, allowing cross-filesystem operations.\n\n### Arguments\n1. `from`: The path to move from\n2. `to`: The path to move to\n\n### Return Values\nThis function does not return anything.\n\n## `basename(path: string): string`\nReturns the file name for a path.\n\n### Arguments\n1. `path`: The path to use\n\n### Return Values\nThe file name of the path\n\n## `dirname(path: string): string`\nReturns the parent directory for a path.\n\n### Arguments\n1. `path`: The path to use\n\n### Return Values\nThe parent directory of the path\n\n## `find(wildcard: string): table`\nSearches the filesystem for paths matching a glob-style wildcard.\n\n### Arguments\n1. `wildcard`: The pathspec to match\n\n### Return Values\nA list of matching file paths\n\n## `exists(path: string): boolean`\nConvenience function for determining whether a file exists.\n This simply checks that @{stat} does not return `nil`.\n\n### Arguments\n1. `path`: The path to check\n\n### Return Values\nWhether the path exists\n\n## `isFile(path: string): boolean`\nReturns whether the path exists and is a file.\n\n### Arguments\n1. `path`: The path to check\n\n### Return Values\nWhether the path is a file\n\n## `isDir(path: string): boolean`\nReturns whether the path exists and is a directory.\n\n### Arguments\n1. `path`: The path to check\n\n### Return Values\nWhether the path is a directory\n\n## `isLink(path: string): boolean`\nReturns whether the path exists and is a link.\n\n### Arguments\n1. `path`: The path to check\n\n### Return Values\nWhether the path is a link\n\n## `effectivePermissions(file: string|FileStat, user: string?): {read:boolean,write:boolean,execute:boolean}|nil`\nReturns the effective permissions on a file or stat entry for the selected user.\n\n### Arguments\n1. `file`: The file path or stat to check\n2. `user`: The user to check for (defaults to the current user) (optional)\n\n### Return Values\nThe permissions for the user, or `nil` if the file doesn't exist\n\n# Class FileStat\nA table which stores file statistics.\n\n## `FileStat.type`\nStores the type of file: one of \"file\", \"directory\", \"link\", \"special\"\n\n### Fields\nThis function does not take any arguments.\n\n## `FileStat.size`\nThe size of the file\n\n### Fields\nThis function does not take any arguments.\n\n## `FileStat.created`\nThe creation date of the file, in milliseconds since January 1, 1970\n\n### Fields\nThis function does not take any arguments.\n\n## `FileStat.modified`\nThe modification date of the file, in milliseconds since January 1, 1970\n\n### Fields\nThis function does not take any arguments.\n\n## `FileStat.owner`\nThe owner of the file\n\n### Fields\nThis function does not take any arguments.\n\n## `FileStat.permissions`\nThe permissions of the file for each user, indexed by user name\n\n### Fields\n- `read`: Whether the file can be read\n- `write`: Whether the file can be written to\n- `execute`: Whether the file can be executed\n\n## `FileStat.worldPermissions`\nThe permissions of the file for all users not in @{FileStat.permissions}\n\n### Fields\n- `read`: Whether the file can be read\n- `write`: Whether the file can be written to\n- `execute`: Whether the file can be executed\n\n## `FileStat.special`\nAny additional data from the filesystem\n\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=7653}},modified=1688258061770,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}},modified=1688258070937,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},typescript={created=1688258063107,type="directory",contents={muxzcat={created=1688258012443,type="directory",contents={["index.d.ts"]={created=1688258012409,type="file",modified=1688258012246,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"muxzcat\" {\n    export function DecompressXzOrLzmaFile(input: string|LuaFile, output: string|LuaFile): LuaMultiReturn<[boolean, number]>;\n    export function DecompressXzOrLzmaString(input: string): LuaMultiReturn<[string, number|null] | [null, number]>;\n    export function GetError(err: number): string|null;\n    export const Errors: {\n        UNKNOWN_ERROR: number,\n        OK: number,\n        ERROR_DATA: number,\n        ERROR_MEM: number,\n        ERROR_CRC: number,\n        ERROR_UNSUPPORTED: number,\n        ERROR_PARAM: number,\n        ERROR_INPUT_EOF: number,\n        ERROR_OUTPUT_EOF: number,\n        ERROR_READ: number,\n        ERROR_WRITE: number,\n        ERROR_FINISHED_WITH_MARK: number,\n        ERROR_NOT_FINISHED: number,\n        ERROR_NEEDS_MORE_INPUT: number,\n        ERROR_CHUNK_NOT_CONSUMED: number,\n        ERROR_NEEDS_MORE_INPUT_PARTIAL: number,\n        ERROR_BAD_MAGIC: number,\n        ERROR_BAD_STREAM_FLAGS: number,\n        ERROR_UNSUPPORTED_FILTER_COUNT: number,\n        ERROR_BAD_BLOCK_FLAGS: number,\n        ERROR_UNSUPPORTED_FILTER_ID: number,\n        ERROR_UNSUPPORTED_FILTER_PROPERTIES_SIZE: number,\n        ERROR_BAD_PADDING: number,\n        ERROR_BLOCK_HEADER_TOO_LONG: number,\n        ERROR_BAD_CHUNK_CONTROL_BYTE: number,\n        ERROR_BAD_CHECKSUM_TYPE: number,\n        ERROR_BAD_DICTIONARY_SIZE: number,\n        ERROR_UNSUPPORTED_DICTIONARY_SIZE: number,\n        ERROR_FEED_CHUNK: number,\n        ERROR_NOT_FINISHED_WITH_MARK: number,\n        ERROR_BAD_DICPOS: number,\n        ERROR_MISSING_INITPROP: number,\n        ERROR_BAD_LCLPPB_PROP: number\n    }\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1649},["package.json"]={created=1688258012426,type="file",modified=1688258012279,data="{\n    \"name\": \"@phoenix-cc/muxzcat\",\n    \"version\": \"1.0.0\",\n    \"description\": \"Typing package for muxzcat.\",\n    \"types\": \"./index.d.ts\",\n    \"files\": [\"./*.d.ts\"],\n    \"dependencies\": {\n        \"@jackmacwindows/lua-types\": \"^2.13.1\"\n    },\n    \"author\": \"JackMacWindows\",\n    \"license\": \"GPLv2+\"\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=300},["tsconfig.json"]={created=1688258012443,type="file",modified=1688258012313,data="{\n    \"compilerOptions\": {\n        \"target\": \"ESNext\",\n        \"lib\": [\"ESNext\"],\n        \"moduleResolution\": \"node\",\n        \"strict\": false,\n        \"types\": [\"@jackmacwindows/lua-types/cc\"]\n    },\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=201}},modified=1688258012443,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},libsystem={created=1688258015626,type="directory",contents={["index.d.ts"]={created=1688258015323,type="file",modified=1688258014516,data="/// <reference path=\"events.d.ts\"/>\n/// <reference path=\"expect.d.ts\"/>\n/// <reference path=\"filesystem.d.ts\"/>\n/// <reference path=\"framebuffer.d.ts\"/>\n/// <reference path=\"graphics.d.ts\"/>\n/// <reference path=\"hardware.d.ts\"/>\n/// <reference path=\"ipc.d.ts\"/>\n/// <reference path=\"keys.d.ts\"/>\n/// <reference path=\"log.d.ts\"/>\n/// <reference path=\"network.d.ts\"/>\n/// <reference path=\"pretty.d.ts\"/>\n/// <reference path=\"process.d.ts\"/>\n/// <reference path=\"serialization.d.ts\"/>\n/// <reference path=\"sync.d.ts\"/>\n/// <reference path=\"terminal.d.ts\"/>\n/// <reference path=\"util.d.ts\"/>\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=588},["sync.d.ts"]={created=1688258015549,type="file",modified=1688258014929,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.sync\" {\n    export interface mutex {\n        lock(): void;\n        unlock(): void;\n        tryLock(): boolean;\n        tryLockFor(timeout: number): boolean;\n    }\n    export const mutex: {new: (this: void, recursive?: boolean) => mutex};\n    export interface semaphore {\n        acquire(): void;\n        tryAcquireFor(timeout: number): boolean;\n        release(): void;\n    }\n    export const semaphore: {new: (this: void, init?: number) => mutex};\n    export interface conditionVariable {\n        wait(): void;\n        waitFor(timeout: number): boolean;\n        notifyOne(): void;\n        notifyAll(): void;\n    }\n    export const conditionVariable: {new: (this: void) => conditionVariable};\n    export interface barrier {\n        wait(): boolean;\n    }\n    export const barrier: {new: (this: void, count: number) => barrier};\n    export interface rwLock {\n        lockRead(): void;\n        unlockRead(): void;\n        lockWrite(): void;\n        unlockWrite(): void;\n    }\n    export const rwLock: {new: (this: void) => rwLock};\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1098},["ipc.d.ts"]={created=1688258015349,type="file",modified=1688258014563,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.ipc\" {\n    export const signal: {\n        SIGHUP: number,\n        SIGINT: number,\n        SIGQUIT: number,\n        SIGTRAP: number,\n        SIGABRT: number,\n        SIGKILL: number,\n        SIGPIPE: number,\n        SIGTERM: number,\n        SIGCONT: number,\n        SIGSTOP: number,\n        SIGTTIN: number,\n        SIGTTOU: number\n    };\n    export function kill(pid: number, signal: number): void;\n    export function sigaction(signal: number, fn: ((signal: number) => void) | (() => void) | null): void;\n    export function sendEvent(pid: number, event: string, param: Object): boolean;\n    export function register(name: string): boolean;\n    export function lookup(name: string): number|null;\n    export function sendServiceEvent(name: string, event: string, param: Object): boolean;\n    export function receiveEvent(pid?: number, event?: string, timeout?: number): LuaMultiReturn<[string, Object] | [null, null]>;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=987},["events.d.ts"]={created=1688258015173,type="file",modified=1688258014259,data="type AlarmEvent = {id: number};\ntype CharEvent = {character: string};\ntype ComputerCommandEvent = {args: string[]};\ntype DiskEvent = {device: string};\ntype DiskEjectEvent = {device: string};\ntype HandleStatusChangeEvent = {id: number, status: string};\ntype KeyEvent = {keycode: number, isRepeat: boolean};\ntype KeyUpEvent = {keycode: number};\ntype ModemMessageEvent = {device: string, channel: number, replyChannel: number, message: any, distance: number};\ntype MonitorResizeEvent = {device: string};\ntype MouseClickEvent = {button: number, x: number, y: number, buttonMask: number, device: string|null};\ntype MouseUpEvent = {button: number, x: number, y: number, buttonMask: number, device: string|null};\ntype MouseDragEvent = {button: number, x: number, y: number, buttonMask: number, device: string|null};\ntype MouseScrollEvent = {direction: boolean, x: number, y: number, buttonMask: number, device: string|null};\ntype PasteEvent = {text: string};\ntype DeviceAddedEvent = {device: string};\ntype DeviceRemovedEvent = {device: string};\ntype RedstoneEvent = {};\ntype HandleDataReadyEvent = {id: number};\ntype SpeakerAudioEmptyEvent = {device: string};\ntype TaskCompleteEvent = {id: number, success: boolean, results: any[]};\ntype TermResizeEvent = {};\ntype TimerEvent = {id: number};\ntype TurtleInventoryEvent = {};\ntype ProcessCompleteEvent = {pid: number, thread: number, value: any|null, n: number|null, error: string|null, traceback: string|null} & any[];",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1460},["log.d.ts"]={created=1688258015399,type="file",modified=1688258014656,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.log\" {\n    type LogOptions = {\n        name: string|null,\n        category: string|null,\n        level: 0|1|2|3|4|5|\"debug\"|\"info\"|\"notice\"|\"warning\"|\"error\"|\"critical\"|null,\n        time: number|null,\n        process: number|null,\n        thread: number|null,\n        module: string|null,\n        traceback: boolean|null\n    }\n    /** @noSelf **/\n    interface Log {\n        log(options: LogOptions, ...args: any[]): void;\n        log(...args: any[]): void;\n        debug(options: LogOptions, ...args: any[]): void;\n        debug(...args: any[]): void;\n        info(options: LogOptions, ...args: any[]): void;\n        info(...args: any[]): void;\n        notice(options: LogOptions, ...args: any[]): void;\n        notice(...args: any[]): void;\n        warning(options: LogOptions, ...args: any[]): void;\n        warning(...args: any[]): void;\n        warn(options: LogOptions, ...args: any[]): void;\n        warn(...args: any[]): void;\n        error(options: LogOptions, ...args: any[]): void;\n        error(...args: any[]): void;\n        crtitical(options: LogOptions, ...args: any[]): void;\n        crtitical(...args: any[]): void;\n        traceback(message: string): void;\n    }\n\n    const log: Log & {\n        levels: {debug: number, info: number, notice: number, warning: number, error: number, critical: number},\n        create(this: void, name: string, streamed?: boolean, file?: string): Log,\n        remove(this: void, name: string): void,\n        open(this: void, name: string, filter?: string): number,\n        close(this: void, name: string|number): void,\n        setTTY(this: void, name: string, tty: TTY|null, level?: number): void\n    } & {[name: string]: Log};\n    export = log;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1763},["graphics.d.ts"]={created=1688258015273,type="file",modified=1688258014429,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.graphics\" {\n    export function drawPixel(term: Terminal|GFXTerminal, x: number, y: number, color: Color): void;\n    export function drawLine(term: Terminal|GFXTerminal, x1: number, y1: number, x2: number, y2: number, color: Color): void;\n    export function drawBox(term: Terminal|GFXTerminal, x: number, y: number, width: number, height: number, color: Color): void;\n    export function drawFilledBox(term: Terminal|GFXTerminal, x: number, y: number, width: number, height: number, color: Color): void;\n    export function drawCircle(term: Terminal|GFXTerminal, x: number, y: number, width: number, height: number, color: Color, startAngle?: number, arcCircumference?: number): void;\n    export function drawFilledTriangle(term: Terminal|GFXTerminal, x1: number, y1: number, x2: number, y2: number, x3: number, y3: number, color: Color): void;\n    export function drawImage(term: Terminal, x: number, y: number, image: [string, string, string][] | string[] | (Color|null)[][]): void;\n    export function drawImage(term: GFXTerminal, x: number, y: number, image: string[] | (Color|null)[][]): void;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1168},["terminal.d.ts"]={created=1688258015576,type="file",modified=1688258014976,data="/** @noSelfInFile **/\ntype Color = 0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15;\ntype Colour = Color;\n\n/** @noSelf **/\ndeclare interface ITerminalBase {\n    close(): void;\n    clear(): void;\n    getSize(): LuaMultiReturn<[number, number]>;\n    getPaletteColor(color: Color): LuaMultiReturn<[number, number, number]>;\n    setPaletteColor(color: Color, rgb: number): void;\n    setPaletteColor(color: Color, r: number, g: number, b: number): void;\n    getPaletteColour(colour: Color): LuaMultiReturn<[number, number, number]>;\n    setPaletteColour(colour: Color, rgb: number): void;\n    setPaletteColour(colour: Color, r: number, g: number, b: number): void;\n}\n\n/** @noSelf **/\ndeclare interface Terminal extends ITerminalBase {\n    write(text: string): void;\n    blit(text: string, fg: string, bg: string): void;\n    clearLine(): void;\n    getCursorPos(): LuaMultiReturn<[number, number]>;\n    setCursorPos(x: number, y: number): void;\n    getCursorBlink(): boolean;\n    setCursorBlink(blink: boolean): void;\n    isColor(): boolean;\n    isColour(): boolean;\n    scroll(lines: number): void;\n    getTextColor(): Color;\n    setTextColor(color: Color): void;\n    getBackgroundColor(): Color;\n    setBackgroundColor(color: Color): void;\n    getTextColour(): Color;\n    setTextColour(colour: Color): void;\n    getBackgroundColour(): Color;\n    setBackgroundColour(colour: Color): void;\n    getLine(y: number): LuaMultiReturn<[string, string, string]>;\n}\n\n/** @noSelf **/\ndeclare interface GFXTerminal extends ITerminalBase {\n    getPixel(x: number, y: number): number;\n    setPixel(x: number, y: number, color: number): void;\n    getPixels(x: number, y: number, width: number, height: number, asStr?: false): Color[][];\n    getPixels(x: number, y: number, width: number, height: number, asStr: true): string[];\n    drawPixels(x: number, y: number, data: ((Color|null)[]|string)[], width?: number, height?: number): void;\n    drawPixels(x: number, y: number, data: number, width: number, height: number): void;\n    getFrozen(): boolean;\n    setFrozen(frozen: boolean): void;\n}\n\ntype TTY = [string, string, string][] & {\n    isTTY: true,\n    flags: {\n        cbreak: boolean,\n        delay: boolean,\n        echo: boolean,\n        keypad: boolean,\n        nlcr: boolean,\n        raw: boolean\n    },\n    cursor: {x: number, y: number},\n    cursorBlink: boolean,\n    colors: {fg: string, bg: string, bold: boolean},\n    size: {width: number, height: number},\n    dirtyLines: number[],\n    palette: [number, number, number][],\n    dirtyPalette: number[],\n    buffer: string,\n    preBuffer: string,\n    isLocked: boolean,\n    isGraphics: boolean,\n    textBuffer: [string, string, string][] & {\n        cursor: {x: number, y: number},\n        cursorBlink: boolean,\n        colors: {fg: string, bg: string, bold: boolean},\n        dirtyLines: number[],\n        palette: [number, number, number][],\n        dirtyPalette: number[]\n    },\n    graphicsBuffer: string[] & {\n        palette: [number, number, number][],\n        dirtyPalette: number[],\n        dirtyRects: ({x: number, y: number, color: Color} | {x: number, y: number, width: number, height: number})[],\n        frozen: boolean\n    },\n    eof: boolean\n};\n\ntype TermFlags = {\n    cbreak?: boolean,\n    delay?: boolean,\n    echo?: boolean,\n    keypad?: boolean,\n    nlcr?: boolean,\n    raw?: boolean\n};\n\n/** @noResolution **/\ndeclare module \"system.terminal\" {\n    type _Colors = {\n        white: Color,\n        orange: Color,\n        magenta: Color,\n        lightBlue: Color,\n        yellow: Color,\n        lime: Color,\n        pink: Color,\n        gray: Color,\n        grey: Color,\n        lightGray: Color,\n        lightGrey: Color,\n        cyan: Color,\n        purple: Color,\n        blue: Color,\n        brown: Color,\n        green: Color,\n        red: Color,\n        black: Color\n    };\n    export interface Readable {\n        read(count?: number): string|null;\n    }\n    export interface Writable {\n        write(str: string): void;\n    }\n\n    export const colors: _Colors;\n    export const colours: _Colors;\n    export function toEscape(color: Color, background?: boolean): string;\n    export function write(...args: any[]): void;\n    export function writeerr(...args: any[]): void;\n    export function read(n: number): string|null;\n    export function readline(): string|null;\n    export function termctl(flags?: TermFlags): TermFlags|null;\n    export function openterm(): LuaMultiReturn<[Terminal] | [null, string]>;\n    export function opengfx(): LuaMultiReturn<[GFXTerminal] | [null, string]>;\n    export function mktty(width: number, height: number): TTY;\n    export function stdin(handle: number|TTY|Readable|null): void;\n    export function stdout(handle: number|TTY|Writable|null): void;\n    export function stderr(handle: number|TTY|Writable|null): void;\n    export function istty(): LuaMultiReturn<[boolean, boolean]>;\n    export function termsize(): LuaMultiReturn<[number, number] | []>;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=4945},["process.d.ts"]={created=1688258015499,type="file",modified=1688258014836,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.process\" {\n    export type ProcessInfo = {\n        id: number,\n        name: string,\n        user: string,\n        parent: number | null,\n        dir: string,\n        stdin: number | null,\n        stdout: number | null,\n        stderr: number | null,\n        cputime: number,\n        systime: number,\n        threads: {id: number, name: string, status: string}[];\n    };\n    export function getpid(): number;\n    export function getppid(): number;\n    export function getuser(): string;\n    export function setuser(user: string): void;\n    export function clock(): number;\n    export function getenv(): LuaTable;\n    export function getname(): string;\n    export function getcwd(): string;\n    export function chdir(dir: string): void;\n    export function fork(func: Function, name: string, ...args: any[]): number;\n    export function exec(path: string, ...args: any[]): never;\n    export function execp(command: string, ...args: any[]): never;\n    export function start(path: string, ...args: any[]): number;\n    export function run(path: string, ...args: any[]): LuaMultiReturn<[true, any] | [false, string]>;\n    export function newthread(func: Function, ...args: any[]): number;\n    export function exit(code?: number): never;\n    export function getplist(): number[];\n    export function getpinfo(pid: number): ProcessInfo|null;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1403},["util.d.ts"]={created=1688258015626,type="file",modified=1688258015073,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.util\" {\n    export const syscall: {[method: string]: (...args: any[]) => LuaMultiReturn<any[]>};\n    export function argparse(arguments: {\"\": {stopProcessingOnPositionalArgument?: boolean}} & {[arg: string]: boolean | \"number\" | \"multiple\" | \"multiple number\" | `@${string}`}, ...args: string[]): LuaMultiReturn<[{[arg: string]: true|string} & string[]] | [null, string]>;\n    export function timer(time: number): number;\n    export function alarm(time: number): number;\n    export function cancel(id: number): number;\n    export function sleep(time: number): void;\n    export function pullEvent(): LuaMultiReturn<[string, Object]>;\n    export function filterEvent(...types: string[]): LuaMultiReturn<[string, Object]>;\n    export function queueEvent(event: string, param: Object): void;\n    export function split(str: string, sep?: string, includeEmpty?: boolean): string[];\n    export function copy<T>(value: T): T;\n    export function addEventListener(event: string, callback: (event: string, param: Object) => boolean): void;\n    export function removeEventListener(event: string, callback: (event: string, param: Object) => boolean): void;\n    export function runEvents(): string;\n    export function startEvents(): number;\n    export function type(value: any): string;\n    export function crc32(str: string, polynomial?: number|number[], crc?: number): number;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1435},["tsconfig.json"]={created=1688258015603,type="file",modified=1688258015023,data="{\n    \"compilerOptions\": {\n        \"target\": \"ESNext\",\n        \"lib\": [\"ESNext\"],\n        \"moduleResolution\": \"node\",\n        \"strict\": false,\n        \"types\": [\"@jackmacwindows/lua-types/cc\"]\n    },\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=201},["network.d.ts"]={created=1688258015426,type="file",modified=1688258014699,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.network\" {\n    export interface NetworkHandle {\n        status(): LuaMultiReturn<[\"ready\"|\"connecting\"|\"error\"|\"open\"|\"closed\", string|null]>;\n        read(...mode: (\"*a\"|\"*l\"|\"*L\"|\"*n\"|\"a\"|\"l\"|\"L\"|\"n\"|number)[]): LuaMultiReturn<(string|number|null)[]>;\n        read(mode: \"*a\"|\"*l\"|\"*L\"|\"a\"|\"l\"|\"L\"|number): string|null;\n        read(mode: \"*n\"|\"n\"): number|null;\n        write(...data: any[]): void;\n        close(): void;\n    }\n    export interface HTTPHandle extends NetworkHandle {\n        responseHeaders(): Object;\n        responseCode(): number;\n    }\n    export type ConnectOptions = {\n        url: string,\n        encoding: \"utf8\" | \"utf-8\" | \"binary\" | null,\n        headers: Object | null,\n        method: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\" | \"OPTIONS\" | \"HEAD\" | null,\n        redirect: boolean | null,\n        device: string | null\n    };\n    export type IPConfig = {\n        ip: string|number,\n        netmask: number|string,\n        up: boolean\n    };\n    export type Route = {\n        source: string,\n        sourceNetmask: number,\n        action: \"unicast\" | \"broadcast\" | \"local\" | \"unreachable\" | \"prohibit\" | \"blackhole\",\n        device: string | null,\n        destination: string | null\n    };\n\n    export function connect(options: string|ConnectOptions): LuaMultiReturn<[NetworkHandle|null, null|string]>;\n    export function get(options: string|ConnectOptions): LuaMultiReturn<[NetworkHandle|null, null|string]>;\n    export function head(options: string|ConnectOptions): LuaMultiReturn<[NetworkHandle|null, null|string]>;\n    export function options(options: string|ConnectOptions): LuaMultiReturn<[NetworkHandle|null, null|string]>;\n    export function post(options: string|ConnectOptions): LuaMultiReturn<[NetworkHandle|null, null|string]>;\n    export function put(options: string|ConnectOptions): LuaMultiReturn<[NetworkHandle|null, null|string]>;\n    export function getData(url: string, headers?: Object): LuaMultiReturn<[string|null, null|string]>;\n    export function listen(uri: string): void;\n    export function unlisten(uri: string): void;\n    export function ipconfig(device: string, info?: IPConfig): IPConfig|null;\n    export function control(ip: string, type: string, err?: string): void;\n    export function events(state?: boolean): boolean;\n    export function checkURI(uri: string): boolean;\n    /** @noSelf **/\n    export namespace route {\n        function list(num?: number): Route[];\n        function add(options: Route & {table: number | null}): void;\n        function remove(source: string, mask: number, num?: number): void;\n    }\n    /** @noSelf **/\n    export namespace arp {\n        function list(device: string): {[ip: string]: number};\n        function set(device: string, ip: string, id: number|null): void;\n    }\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=2835},["framebuffer.d.ts"]={created=1688258015249,type="file",modified=1688258014386,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.framebuffer\" {\n    /** @noSelf **/\n    interface _Window<T extends Terminal | GFXTerminal> {\n        getPosition(): LuaMultiReturn<[number, number]>;\n        reposition(x?: number, y?: number, width?: number, height?: number, parent?: T): void;\n        resize(width?: number, height?: number): void;\n        reparent(parent?: T): void;\n        restoreCursor(this: _Window<Terminal>): void;\n    }\n    /** @noSelf **/\n    interface _Framebuffer<T extends Terminal | GFXTerminal> extends _Window<T> {\n        redraw(full?: boolean): void;\n        isVisible(): boolean;\n        setVisible(visible: boolean): void;\n    }\n    export type Window<T extends Terminal | GFXTerminal> = T & _Window<T>;\n    export type Framebuffer<T extends Terminal | GFXTerminal> = T & _Framebuffer<T>;\n\n    export const empty: {text: Terminal, graphics: GFXTerminal};\n    export function window(parent: Terminal, x: number, y: number, width: number, height: number): Window<Terminal>;\n    export function window(parent: GFXTerminal, x: number, y: number, width: number, height: number): Window<GFXTerminal>;\n    export function framebuffer(parent: Terminal, x: number, y: number, width: number, height: number, visible?: boolean): Framebuffer<Terminal>;\n    export function framebuffer(parent: GFXTerminal, x: number, y: number, width: number, height: number, visible?: boolean): Framebuffer<GFXTerminal>;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1448},["serialization.d.ts"]={created=1688258015526,type="file",modified=1688258014883,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.serialization\" {\n    /** @noSelf **/\n    export namespace base64 {\n        function encode(str: string): string;\n        function decode(str: string): string;\n    }\n    /** @noSelf **/\n    export namespace json {\n        function encode(val: any): string;\n        function decode(str: string): any;\n        function save(val: any, path: string): void;\n        function load(path: string): any;\n    }\n    /** @noSelf **/\n    export namespace lua {\n        type EncodeOptions = {minified?: boolean, allow_functions?: boolean};\n        type DecodeOptions = {allow_functions?: boolean};\n        function encode(val: any, opts?: EncodeOptions): string;\n        function decode(str: string, opts?: DecodeOptions): any;\n        function save(val: any, path: string, opts?: EncodeOptions): void;\n        function load(path: string, opts?: DecodeOptions): any;\n    }\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=926},["keys.d.ts"]={created=1688258015373,type="file",modified=1688258014609,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.keys\" {\n    type Key = number;\n    const keys: {\n        a: Key;\n        apostrophe: Key;\n        at: Key;\n        ax: Key;\n        b: Key;\n        backslash: Key;\n        backspace: Key;\n        c: Key;\n        capsLock: Key;\n        circumflex: Key;\n        colon: Key;\n        comma: Key;\n        convert: Key;\n        d: Key;\n        down: Key;\n        e: Key;\n        eight: Key;\n        end: Key;\n        enter: Key;\n        equals: Key;\n        f: Key;\n        f1: Key;\n        f10: Key;\n        f11: Key;\n        f12: Key;\n        f13: Key;\n        f14: Key;\n        f15: Key;\n        f2: Key;\n        f3: Key;\n        f4: Key;\n        f5: Key;\n        f6: Key;\n        f7: Key;\n        f8: Key;\n        f9: Key;\n        five: Key;\n        four: Key;\n        g: Key;\n        grave: Key;\n        h: Key;\n        home: Key;\n        i: Key;\n        insert: Key;\n        j: Key;\n        k: Key;\n        kana: Key;\n        kanji: Key;\n        l: Key;\n        left: Key;\n        leftAlt: Key;\n        leftBracket: Key;\n        leftCtrl: Key;\n        leftShift: Key;\n        m: Key;\n        minus: Key;\n        multiply: Key;\n        n: Key;\n        nine: Key;\n        noconvert: Key;\n        numLock: Key;\n        numPad0: Key;\n        numPad1: Key;\n        numPad2: Key;\n        numPad3: Key;\n        numPad4: Key;\n        numPad5: Key;\n        numPad6: Key;\n        numPad7: Key;\n        numPad8: Key;\n        numPad9: Key;\n        numPadAdd: Key;\n        numPadComma: Key;\n        numPadDecimal: Key;\n        numPadDivide: Key;\n        numPadEnter: Key;\n        numPadEquals: Key;\n        numPadSubtract: Key;\n        o: Key;\n        one: Key;\n        p: Key;\n        pageDown: Key;\n        pageUp: Key;\n        pause: Key;\n        period: Key;\n        q: Key;\n        r: Key;\n        returnKey: Key;\n        right: Key;\n        rightAlt: Key;\n        rightBracket: Key;\n        rightCtrl: Key;\n        rightShift: Key;\n        s: Key;\n        scrollLock: Key;\n        semiColon: Key;\n        seven: Key;\n        six: Key;\n        slash: Key;\n        space: Key;\n        stop: Key;\n        t: Key;\n        tab: Key;\n        three: Key;\n        two: Key;\n        u: Key;\n        underscore: Key;\n        up: Key;\n        v: Key;\n        w: Key;\n        x: Key;\n        y: Key;\n        yen: Key;\n        z: Key;\n        zero: Key;\n        getName(this: void, k: Key): string|null;\n        getCharacter(this: void, k: Key): string|null;\n    }\n    export = keys;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=2532},["pretty.d.ts"]={created=1688258015476,type="file",modified=1688258014789,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.pretty\" {\n    type Doc = {};\n    export const empty: Doc;\n    export const space: Doc;\n    export const line: Doc;\n    export const space_line: Doc;\n    export function text(text: string, color?: number): Doc;\n    export function concat(...args: (Doc|string)[]): Doc;\n    export function nest(depth: number, doc: Doc): Doc;\n    export function group(doc: Doc): Doc;\n    export function write(doc: Doc, ribbon_frac?: number): void;\n    export function print(doc: Doc, ribbon_frac?: number): void;\n    export function render(doc: Doc, width?: number, ribbon_frac?: number): string;\n    export function pretty(obj: any, options?: {function_args?: boolean, function_source: boolean}): Doc;\n    export function pretty_print(obj: any, options?: {function_args?: boolean, function_source: boolean}, ribbon_frac?: number): void;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=889},["filesystem.d.ts"]={created=1688258015223,type="file",modified=1688258014343,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.filesystem\" {\n    /** @noSelf **/\n    export interface FileHandle {\n        close(): void;\n    }\n    /** @noSelf **/\n    export interface ReadFileHandle extends FileHandle {\n        read(n: number): string|number|null;\n        readLine(newline?: boolean): string|null;\n        readAll(): string|null;\n    }\n    /** @noSelf **/\n    export interface WriteFileHandle extends FileHandle {\n        write(val: any): void;\n        writeLine(val: any): void;\n        flush(): void;\n    }\n    /** @noSelf **/\n    export interface BinaryFileHandle {\n        seek(mode?: \"set\"|\"cur\"|\"end\", offset?: number): number;\n    }\n    export type Permission = {read: boolean|null, write: boolean|null, execute: boolean|null};\n    export type FileStat = {\n        size: number,\n        type: \"file\" | \"directory\" | \"link\" | \"fifo\" | \"special\",\n        created: number,\n        modified: number,\n        owner: string | null,\n        mountpoint: string,\n        capacity: number,\n        freeSpace: number,\n        permissions: {[key: string]: Permission},\n        worldPermissions: Permission,\n        setuser: boolean,\n        special: LuaTable | null\n    };\n    export type MountInfo = {\n        path: string,\n        type: string,\n        source: string,\n        options: {[key: string]: any}\n    };\n\n    export function open(path: string, mode: \"r\"): LuaMultiReturn<[ReadFileHandle|null, null|string]>;\n    export function open(path: string, mode: \"w\"|\"a\"): LuaMultiReturn<[WriteFileHandle|null, null|string]>;\n    export function open(path: string, mode: \"rb\"): LuaMultiReturn<[(ReadFileHandle & BinaryFileHandle)|null, null|string]>;\n    export function open(path: string, mode: \"wb\"|\"ab\"): LuaMultiReturn<[(WriteFileHandle & BinaryFileHandle)|null, null|string]>;\n    export function list(path: string): string[];\n    export function stat(path: string, nolink?: boolean): LuaMultiReturn<[FileStat|null, null|string]>;\n    export function remove(path: string): void;\n    export function rename(from: string, to: string): void;\n    export function mkdir(path: string): void;\n    export function link(path: string, location: string): void;\n    export function mkfifo(path: string): void;\n    export function chmod(path: string, user: string|null, mode: number|string|Permission): void;\n    export function chown(path: string, user: string): void;\n    export function chroot(path: string): void;\n    export function mount(type: string, src: string, dest: string, options?: Object): void;\n    export function unmount(path: string): void;\n    export function mountlist(): MountInfo[];\n    export function combine(...args: string[]): string;\n    export function copy(from: string, to: string, preserve?: boolean): void;\n    export function move(from: string, to: string): void;\n    export function basename(path: string): string;\n    export function dirname(path: string): string;\n    export function find(wildcard: string): string[];\n    export function exists(path: string): boolean;\n    export function isFile(path: string): boolean;\n    export function isDir(path: string): boolean;\n    export function isLink(path: string): boolean;\n    export function effectivePermissions(file: string|FileStat, user?: string): Permission|null;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=3282},["expect.d.ts"]={created=1688258015199,type="file",modified=1688258014303,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"system.expect\" {\n    namespace expect {\n        function expect(index: number, value: any, ...types: string[]): any;\n        function field(tbl: Object, index: any, ...types: string[]): any;\n        function range(num: number, min?: number, max?: number): number;\n    }\n    function expect(index: number, value: any, ...types: string[]): any;\n    export = expect;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=425},["package.json"]={created=1688258015449,type="file",modified=1688258014746,data="{\r\n    \"name\": \"@phoenix-cc/libsystem\",\r\n    \"version\": \"1.1.1\",\r\n    \"description\": \"Typing package for Phoenix libsystem.\",\r\n    \"types\": \"./index.d.ts\",\r\n    \"files\": [\"./*.d.ts\"],\r\n    \"dependencies\": {\r\n        \"@jackmacwindows/lua-types\": \"^2.13.1\"\r\n    },\r\n    \"author\": \"JackMacWindows\",\r\n    \"license\": \"GPLv2+\"\r\n}",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=323},["hardware.d.ts"]={created=1688258015299,type="file",modified=1688258014473,data="/** @noSelfInFile **/\ntype device = {[method: string]: Function} & {[property: string]: any};\n\n/** @noSelf **/\ndeclare interface CommandDevice extends device {\n    command: string;\n    run(): LuaMultiReturn<[boolean, string|null]>;\n}\n\n/** @noSelf **/\ndeclare interface ComputerDevice extends device {\n    readonly isOn: boolean;\n    readonly label: string|null;\n    turnOn(): void;\n    shutdown(): void;\n    reboot(): void;\n}\n\n/** @noSelf **/\ndeclare interface RootComputerDevice extends ComputerDevice {\n    label: string|null;\n    shutdown(): never;\n    reboot(): never;\n}\n\n/** @noSelf **/\ndeclare interface DriveDevice extends device {\n    readonly state: {\n        audio: string|null,\n        label: string|null,\n        id: number|null\n    } | null;\n    setLabel(label: string|null): void;\n    play(): void;\n    stop(): void;\n    eject(): void;\n    insert(path: string): void;\n}\n\n/** @noSelf **/\ndeclare interface EnergyStorageDevice extends device {\n    readonly energy: number;\n}\n\n/** @noSelf **/\ndeclare interface FluidStorageDevice extends device {\n    readonly tanks: {name: string, amount: number}[];\n    push(to: string, limit?: number, name?: string): number;\n    pull(from: string, limit?: number, name?: string): number;\n}\n\ntype ItemDetail = {\n    name: string,\n    count: number,\n    nbt?: string,\n    displayName: string,\n    maxCount: number,\n    damage?: number,\n    maxDamage?: number,\n    durability?: number,\n    lore?: string[],\n    enchantments?: {name: string, level: number, displayName: string}[],\n    unbreakable?: boolean\n}\n\n/** @noSelf **/\ndeclare interface InventoryDevice extends device {\n    readonly items: {name: string, count: number, nbt: string|null}[];\n    detail(slot: number): ItemDetail|null;\n    limit(slot: number): number;\n    push(to: string, slot: number, limit?: number, toSlot?: number): number;\n    pull(from: string, slot: number, limit?: number, toSlot?: number): number;\n}\n\n/** @noSelf **/\ndeclare interface ModemDevice extends device {\n    readonly remainingChannels: number;\n    open(channel: number): void;\n    isOpen(channel: number): boolean;\n    close(channel: number): void;\n    closeAll(): void;\n    transmit(channel: number, replyChannel: number|null, payload: any): void;\n}\n\n/** @noSelf **/\ndeclare interface MonitorDevice extends device {\n    scale: number;\n    readonly size: {width: number, height: number};\n    write(...value: any[]): void;\n    termctl(flags?: TermFlags): TermFlags;\n    openterm(): LuaMultiReturn<[Terminal] | [null, string]>;\n    opengfx(): LuaMultiReturn<[GFXTerminal] | [null, string]>;\n}\n\n/** @noSelf **/\ndeclare interface PrinterPage {\n    readonly size: {width: number, height: number};\n    cursor: {x: number, y: number};\n    title: string|null;\n    write(...text: any[]): void;\n    close(): boolean;\n}\n\n/** @noSelf **/\ndeclare interface PrinterDevice extends device {\n    readonly inkLevel: number;\n    readonly paperLevel: number;\n    page(): PrinterPage|null;\n}\n\n/** @noSelf **/\ndeclare interface RedstoneDevice extends device {\n    readonly input: number|null;\n    output: number|null;\n    readonly bundledInput: number|null;\n    bundledOutput: number|null;\n}\n\n/** @noSelf **/\ninterface SpeakerDevice extends device {\n    playNote(instrument: string, volume?: number, pitch?: number): boolean;\n    playSound(name: string, volume?: number, speed?: number): boolean;\n    playAudio(audio: number[], volume?: number): boolean;\n    stop(): void;\n}\n\n/** @noResolution **/\ndeclare module \"system.hardware\" {\n    export type HWInfo = {\n        id: string,                      // Device hardware ID\n        uuid: string,                    // Assigned UUID\n        alias: string|null,              // User-specified alias\n        parent: string,                  // Path to parent device\n        displayName: string,             // Display name for users\n        types: {[type: string]: string}, // Types of devices implemented: type = driver name\n        metadata: Object                 // Extra static metadata provided by drivers\n    }\n    export type devicetree = {[name: string]: devicetree|null};\n    type _devspec = string | device | devicetree;\n\n    export const tree: devicetree;\n    export function wrap(device: _devspec): device | null;\n    export function find(type: string): LuaMultiReturn<device[]>;\n    export function path(device: _devspec): LuaMultiReturn<string[]>;\n    export function hasType(device: _devspec, type: string): boolean;\n    export function info(device: _devspec): HWInfo|null;\n    export function methods(device: _devspec): string[];\n    export function properties(device: _devspec): string[];\n    export function children(device: _devspec): string[];\n    export function call(device: _devspec, method: string, ...args: any[]): LuaMultiReturn<any[]>;\n    export function listen(device: _devspec, state?: boolean): void;\n    export function lock(device: _devspec, wait?: boolean): boolean;\n    export function unlock(device: _devspec): void;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=4965}},modified=1688258015626,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},libdeflate={created=1688258063850,type="directory",contents={["index.d.ts"]={created=1688258063727,type="file",modified=1688258063140,data="/** @noResolution **/\ndeclare module \"libdeflate\" {\n    export interface Dictionary {\n        adler32: number;\n        hash_tables: number[][];\n        string_table: string[];\n        strlen: number;\n    }\n    export type CompressionConfigs = {\n        level?: 0|1|2|3|4|5|6|7|8|9|null,\n        strategy?: \"fixed\" | \"huffman_only\" | \"dynamic\"\n    }\n\n    export function CRC32(str: string, crc?: number): number;\n    export function Adler32(str: string): number;\n    export function IsEqualAdler32(actual: number, expected: number): boolean;\n    export function CreateDictionary(str: string, strlen: number, adler32: number): Dictionary;\n    export function CompressDeflate(str: string, configs?: CompressionConfigs): LuaMultiReturn<[string, number]>;\n    export function CompressDeflateWithDict(str: string, dictionary: Dictionary, configs?: CompressionConfigs): LuaMultiReturn<[string, number]>;\n    export function CompressZlib(str: string, configs?: CompressionConfigs): LuaMultiReturn<[string, number]>;\n    export function CompressZlibWithDict(str: string, dictionary: Dictionary, configs?: CompressionConfigs): LuaMultiReturn<[string, number]>;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1152},["package.json"]={created=1688258063787,type="file",modified=1688258063260,data="{\n    \"name\": \"@phoenix-cc/libdeflate\",\n    \"version\": \"1.0.0\",\n    \"description\": \"Typing package for libdeflate.\",\n    \"types\": \"./index.d.ts\",\n    \"files\": [\"./*.d.ts\"],\n    \"dependencies\": {\n        \"@jackmacwindows/lua-types\": \"^2.13.1\"\n    },\n    \"author\": \"JackMacWindows\",\n    \"license\": \"GPLv2+\"\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=306},["tsconfig.json"]={created=1688258063850,type="file",modified=1688258063387,data="{\n    \"compilerOptions\": {\n        \"target\": \"ESNext\",\n        \"lib\": [\"ESNext\"],\n        \"moduleResolution\": \"node\",\n        \"strict\": false,\n        \"types\": [\"@jackmacwindows/lua-types/cc\"]\n    },\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=201}},modified=1688258063850,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},sha2={created=1688258013446,type="directory",contents={["index.d.ts"]={created=1688258013406,type="file",modified=1688258013076,data="/** @noSelfInFile **/\n/** @noResolution **/\ndeclare module \"sha2\" {\n    export type MessageBuilder = ((message: string) => MessageBuilder) & (() => string);\n    export type ChunkedMessageBuilder = ((message: string) => ChunkedMessageBuilder) & (() => (() => string));\n    export function md5(message: string): string;\n    export function md5(): MessageBuilder;\n    export function sha1(message: string): string;\n    export function sha1(): MessageBuilder;\n    export function sha224(message: string): string;\n    export function sha224(): MessageBuilder;\n    export function sha256(message: string): string;\n    export function sha256(): MessageBuilder;\n    export function sha512_224(message: string): string;\n    export function sha512_224(): MessageBuilder;\n    export function sha512_256(message: string): string;\n    export function sha512_256(): MessageBuilder;\n    export function sha384(message: string): string;\n    export function sha384(): MessageBuilder;\n    export function sha512(message: string): string;\n    export function sha512(): MessageBuilder;\n    export function sha3_224(message: string): string;\n    export function sha3_224(): MessageBuilder;\n    export function sha3_256(message: string): string;\n    export function sha3_256(): MessageBuilder;\n    export function sha3_384(message: string): string;\n    export function sha3_384(): MessageBuilder;\n    export function sha3_512(message: string): string;\n    export function sha3_512(): MessageBuilder;\n    export function shake128(digest_size_in_bytes: number, message: string): string;\n    export function shake128(digest_size_in_bytes: number): MessageBuilder;\n    export function shake256(digest_size_in_bytes: number, message: string): string;\n    export function shake256(digest_size_in_bytes: number): MessageBuilder;\n    export function hmac(hash_func: () => MessageBuilder, key: string, message: string): string;\n    export function hmac(hash_func: () => MessageBuilder, key: string): MessageBuilder;\n    export function hex_to_bin(hex: string): string;\n    export function bin_to_hex(bin: string): string;\n    export function base64_to_bin(base64: string): string;\n    export function bin_to_base64(bin: string): string;\n    export function hex2bin(hex: string): string;\n    export function bin2hex(bin: string): string;\n    export function base642bin(base64: string): string;\n    export function bin2base64(bin: string): string;\n    export function blake2b(message: string, key?: string, salt?: string, digest_size_in_bytes?: number): string;\n    export function blake2b(message: null, key?: string, salt?: string, digest_size_in_bytes?: number): MessageBuilder;\n    export function blake2s(message: string, key?: string, salt?: string, digest_size_in_bytes?: number): string;\n    export function blake2s(message: null, key?: string, salt?: string, digest_size_in_bytes?: number): MessageBuilder;\n    export function blake2bp(message: string, key?: string, salt?: string, digest_size_in_bytes?: number): string;\n    export function blake2bp(message: null, key?: string, salt?: string, digest_size_in_bytes?: number): MessageBuilder;\n    export function blake2sp(message: string, key?: string, salt?: string, digest_size_in_bytes?: number): string;\n    export function blake2sp(message: null, key?: string, salt?: string, digest_size_in_bytes?: number): MessageBuilder;\n    export function blake2xs(digest_size_in_bytes: number, message: string, key?: string, salt?: string): string | (() => string);\n    export function blake2xs(digest_size_in_bytes: message: null, key?: string, salt?: string): MessageBuilder | ChunkedMessageBuilder;\n    export function blake2xb(digest_size_in_bytes: number, message: string, key?: string, salt?: string): string | (() => string);\n    export function blake2xb(digest_size_in_bytes: message: null, key?: string, salt?: string): MessageBuilder | ChunkedMessageBuilder;\n    export function blake2(message: string, key?: string, salt?: string, digest_size_in_bytes?: number): string;\n    export function blake2(message: null, key?: string, salt?: string, digest_size_in_bytes?: number): MessageBuilder;\n    export function blake2b_160(message: string, key?: string, salt?: string): string;\n    export function blake2b_160(message: null, key?: string, salt?: string): MessageBuilder;\n    export function blake2b_256(message: string, key?: string, salt?: string): string;\n    export function blake2b_256(message: null, key?: string, salt?: string): MessageBuilder;\n    export function blake2b_384(message: string, key?: string, salt?: string): string;\n    export function blake2b_384(message: null, key?: string, salt?: string): MessageBuilder;\n    export function blake2b_512(message: string, key?: string, salt?: string): string;\n    export function blake2b_512(message: null, key?: string, salt?: string): MessageBuilder;\n    export function blake2s_128(message: string, key?: string, salt?: string): string;\n    export function blake2s_128(message: null, key?: string, salt?: string): MessageBuilder;\n    export function blake2s_160(message: string, key?: string, salt?: string): string;\n    export function blake2s_160(message: null, key?: string, salt?: string): MessageBuilder;\n    export function blake2s_224(message: string, key?: string, salt?: string): string;\n    export function blake2s_224(message: null, key?: string, salt?: string): MessageBuilder;\n    export function blake2s_256(message: string, key?: string, salt?: string): string;\n    export function blake2s_256(message: null, key?: string, salt?: string): MessageBuilder;\n    export function blake3(message: string, key?: string, digest_size_in_bytes?: number): string | (() => string);\n    export function blake3(message: null, key?: string, digest_size_in_bytes?: number): MessageBuilder | ChunkedMessageBuilder;\n    export function blake3_derive_key(key_material: string, context_string: string, digest_size_in_bytes?: number): string | (() => string);\n    export function blake3_derive_key(key_material: null, context_string: string, digest_size_in_bytes?: number): MessageBuilder | ChunkedMessageBuilder;\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=6100},["package.json"]={created=1688258013426,type="file",modified=1688258013116,data="{\n    \"name\": \"@phoenix-cc/sha2\",\n    \"version\": \"12.0.0\",\n    \"description\": \"Typing package for sha2.\",\n    \"types\": \"./index.d.ts\",\n    \"files\": [\"./*.d.ts\"],\n    \"dependencies\": {\n        \"@jackmacwindows/lua-types\": \"^2.13.1\"\n    },\n    \"author\": \"JackMacWindows\",\n    \"license\": \"GPLv2+\"\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=295},["tsconfig.json"]={created=1688258013446,type="file",modified=1688258013153,data="{\n    \"compilerOptions\": {\n        \"target\": \"ESNext\",\n        \"lib\": [\"ESNext\"],\n        \"moduleResolution\": \"node\",\n        \"strict\": false,\n        \"types\": [\"@jackmacwindows/lua-types/cc\"]\n    },\n}",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=201}},modified=1688258013446,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}},modified=1688258063107,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}},modified=1688258012229,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},lib={created=1688258063667,type="directory",contents={["muxzcat.lua"]={created=1688258012389,type="file",modified=1688258012183,data="local a;if bit32~=nil then a=bit32 elseif pcall(require,\"bit32\")then a=require\"bit32\"elseif pcall(require,\"bit\")then a=require\"bit\"elseif bit~=nil then a=bit else local function b(c)if c-math.floor(c)>0 then error(\"trying to use bitwise operation on non-integer!\")end end;local function d(c)b(c)if c<0 then return d(a.bnot(math.abs(c))+1)end;local e={}local f=1;while c>0 do local g=math.mod(c,2)if g==1 then e[f]=1 else e[f]=0 end;c=(c-g)/2;f=f+1 end;return e end;local function h(e)local c=table.getn(e)local i=0;local j=1;for k=1,c do i=i+e[k]*j;j=j*2 end;return i end;local function l(m,n)local o={}local p={}if table.getn(m)>table.getn(n)then o=m;p=n else o=n;p=m end;for k=table.getn(p)+1,table.getn(o)do p[k]=0 end end;local function q(r,c)local m=d(r)local n=d(c)l(m,n)local e={}local i=math.max(table.getn(m),table.getn(n))for k=1,i do if m[k]==0 and n[k]==0 then e[k]=0 else e[k]=1 end end;return h(e)end;local function s(r,c)local m=d(r)local n=d(c)l(m,n)local e={}local i=math.max(table.getn(m),table.getn(n))for k=1,i do if m[k]==0 or n[k]==0 then e[k]=0 else e[k]=1 end end;return h(e)end;local function t(c)local e=d(c)local u=math.max(table.getn(e),32)for k=1,u do if e[k]==1 then e[k]=0 else e[k]=1 end end;return h(e)end;local function v(r,c)local m=d(r)local n=d(c)l(m,n)local e={}local i=math.max(table.getn(m),table.getn(n))for k=1,i do if m[k]~=n[k]then e[k]=1 else e[k]=0 end end;return h(e)end;local function w(c,x)b(c)local y=0;if c<0 then c=t(math.abs(c))+1;y=2147483648 end;for k=1,x do c=c/2;c=q(math.floor(c),y)end;return math.floor(c)end;local function z(c,x)b(c)if c<0 then c=t(math.abs(c))+1 end;for k=1,x do c=c/2 end;return math.floor(c)end;local function A(c,x)b(c)if c<0 then c=t(math.abs(c))+1 end;for k=1,x do c=c*2 end;return s(c,4294967295)end;a={bnot=t,band=s,bor=q,bxor=v,brshift=w,blshift=A,blogic_rshift=z}end;if a.blogic_rshift then a={arshift=a.brshift,band=a.band,bnot=a.bnot,bor=a.bor,btest=function(B,C)return a.band(B,C)~=0 end,bxor=a.bxor,lshift=a.blshift,rshift=a.blogic_rshift}end;local D={}local E={}local F={}local G={}local H={}local I={}setmetatable(D,{__sub=function(J)local K={J,__sub=function(self,C)return a.band(self[1],C)end}return setmetatable(K,K)end})setmetatable(E,{__sub=function(J)local K={J,__sub=function(self,C)return a.bor(self[1],C)end}return setmetatable(K,K)end})setmetatable(F,{__sub=function(J)local K={J,__sub=function(self,C)return a.bxor(self[1],C)end}return setmetatable(K,K)end})setmetatable(H,{__sub=function(J)local K={J,__sub=function(self,C)return a.lshift(self[1],C)end}return setmetatable(K,K)end})setmetatable(I,{__sub=function(J)local K={J,__sub=function(self,C)return a.rshift(self[1],C)end}return setmetatable(K,K)end})setmetatable(G,{__sub=function(L,M)return a.bnot(M)end})local N,O;local function P(Q,k,c,...)if c~=nil then Q[k]=c;return P(Q,k+1,...)end end;local function R(B,S,u)local T;if N then T,N=N:sub(1,u),N:sub(u+1)for k=1,#T,256 do P(B,S+k-1,T:byte(k,k+256))end;return#T else T=io.input():read(u)for k=1,#T,256 do P(B,S+k-1,T:byte(k,k+256))end;return#T end end;local function U(Q,k,V)if k==V then return Q[k]elseif k>V then return nil else return Q[k],U(Q,k+1,V)end end;local function W(B,S,u)if O then for k=S,S+u-1,256 do O=O..string.char(U(B,k,math.min(S+u-1,k+255)))end;return u else for k=1,u,256 do io.output():write(string.char(U(B,k+S-1,math.min(S+u-1,k+S+254))))end;return u end end;local X=0;local Y=0;local Z=0;local _=0;local a0=0;local a1=0;local a2=0;local a3=0;local a4=0;local a5=1;local a6=1;local a7=1;local a8=1;local a9=0;local aa=0;local ab=0;local ac=0;local ad=0;local ae=0;local af=0;local ag=0;local ah=0;local ai=0;local aj=0;local ak=0;local al=0;local am={}local an=setmetatable({},{__index=function(L,ao)return am[ao]end,__newindex=function(L,ao,ap)am[ao]=ap-D-0xFFFF end})local aq={}local ar=setmetatable({},{__index=function(L,ao)return aq[ao]end,__newindex=function(L,ao,ap)aq[ao]=ap-D-0xFF end})local as={}local at=setmetatable({},{__index=function(L,ao)return as[ao]end,__newindex=function(L,ao,ap)as[ao]=ap-D-0xFF end})local function au()X=0;Y=0;Z=0;_=0;a0=0;a1=0;a2=0;a3=0;a4=0;a5=1;a6=1;a7=1;a8=1;a9=0;aa=0;ab=0;ac=0;ad=0;ae=0;af=0;ag=0;ah=0;ai=0;aj=0;ak=0;al=0;am={}aq={}as={}end;local function av(aw)if a9~=0 and a9<274 then local ax=a9;if aw-a0<ax then ax=aw-a0 end;if a3==0 and Y-a2<=ax then a3=Y end;a2=a2+ax;a9=a9-ax;while ax~=0 do ax=ax-1;at[a0]=at[a0-a5+(a0<a5 and a1 or 0)]-D-0xFF;a0=a0+1 end end end;local function ay(az,aA)local aB=1-H-ak-1;local aC=1-H-aj-1;local aD=0;repeat local aE=a3==0 and Y-a2<az-a0 and a0+Y-a2 or az;a9=0;repeat local aF=0;local aG=0;local aH=0;local aI=0;local aJ=a2-D-aB;aF=0+a4-H-4+aJ;aH=an[aF]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then local aK=0;assert(aH<=0x7fffffff and aH<=2048)Z=aG;an[aF]=aH+a.rshift(2048-aH,5)aF=1846;if a3~=0 or a2~=0 then aF=aF+768*(a2-D-aC-H-ai+a.rshift(at[(a0==0 and a1 or a0)-1],al))end;if a4<7 then a4=a4-(a4<4 and a4 or 3)aK=1;repeat aH=an[aF+aK]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aF+aK]=aH+a.rshift(2048-aH,5)aK=aK+aK else Z=Z-aG;_=_-aG;an[aF+aK]=aH-a.rshift(aH,5)aK=aK+aK+1 end until not(aK<0x100)else local aL=at[a0-a5+(a0<a5 and a1 or 0)]local aM=0x100;a4=a4-(a4<10 and 3 or 6)aK=1;repeat local aN;local aO;assert(aM==0 or aM==0x100)aL=aL-H-1;aN=aL-D-aM;aO=aF+aM+aN+aK;aH=an[aO]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aO]=aH+a.rshift(2048-aH,5)aK=aK+aK;aM=aM-D-(G-aN)else Z=Z-aG;_=_-aG;an[aO]=aH-a.rshift(aH,5)aK=aK+aK+1;aM=aM-D-aN end until not(aK<0x100)end;at[a0]=aK-D-0xFF;a0=a0+1;a2=a2+1 else Z=Z-aG;_=_-aG;an[aF]=aH-a.rshift(aH,5)aF=192+a4;aH=an[aF]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;local aP=true;if _<aG then assert(aH<=0x7fffffff and aH<=2048)Z=aG;an[aF]=aH+a.rshift(2048-aH,5)a4=a4+12;aF=818 else Z=Z-aG;_=_-aG;an[aF]=aH-a.rshift(aH,5)if a3==0 and a2==0 then return 1 end;aF=204+a4;aH=an[aF]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then assert(aH<=0x7fffffff and aH<=2048)Z=aG;an[aF]=aH+a.rshift(2048-aH,5)aF=240+a4-H-4+aJ;aH=an[aF]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aF]=aH+a.rshift(2048-aH,5)at[a0]=at[a0-a5+(a0<a5 and a1 or 0)]-D-0xFF;a0=a0+1;a2=a2+1;a4=a4<7 and 9 or 11;aP=false end;if aP then Z=Z-aG;_=_-aG;an[aF]=aH-a.rshift(aH,5)end else Z=Z-aG;_=_-aG;an[aF]=aH-a.rshift(aH,5)aF=216+a4;aH=an[aF]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aF]=aH+a.rshift(2048-aH,5)aI=a6 else Z=Z-aG;_=_-aG;an[aF]=aH-a.rshift(aH,5)aF=228+a4;aH=an[aF]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aF]=aH+a.rshift(2048-aH,5)aI=a7 else Z=Z-aG;_=_-aG;an[aF]=aH-a.rshift(aH,5)aI=a8;a8=a7 end;a7=a6 end;a6=a5;a5=aI end;if aP then a4=a4<7 and 8 or 11;aF=1332 end end;if aP then do local aQ;local aR;local aS=aF+0;aH=an[aS]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then assert(aH<=0x7fffffff and aH<=2048)Z=aG;an[aS]=aH+a.rshift(2048-aH,5)aS=aF+2+aJ-H-3;aR=0;aQ=8 else Z=Z-aG;_=_-aG;an[aS]=aH-a.rshift(aH,5)aS=aF+1;aH=an[aS]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then assert(aH<=0x7fffffff and aH<=2048)Z=aG;an[aS]=aH+a.rshift(2048-aH,5)aS=aF+130+aJ-H-3;aR=8;aQ=8 else Z=Z-aG;_=_-aG;an[aS]=aH-a.rshift(aH,5)aS=aF+258;aR=8+8;aQ=256 end end;do a9=1;repeat aH=an[aS+a9]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aS+a9]=aH+a.rshift(2048-aH,5)a9=a9+a9 else Z=Z-aG;_=_-aG;an[aS+a9]=aH-a.rshift(aH,5)a9=a9+a9+1 end until not(a9<aQ)a9=a9-aQ end;a9=a9+aR end;if a4>=12 then aF=432+(a9<4 and a9 or 4-1)-H-6;do aI=1;repeat aH=an[aF+aI]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aF+aI]=aH+a.rshift(2048-aH,5)aI=aI+aI else Z=Z-aG;_=_-aG;an[aF+aI]=aH-a.rshift(aH,5)aI=aI+aI+1 end until not(aI<64)aI=aI-64 end;assert(aI<=0x7fffffff and aI<64)if aI>=4 then local aT=aI;local aU=a.rshift(aI,1)-1;aI=2-E-(aI-D-1)if aT<14 then aI=aI-H-aU;aF=688+aI-aT-1;do local aV=1;aD=1;repeat aH=an[aF+aD]if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aF+aD]=aH+a.rshift(2048-aH,5)aD=aD+aD else Z=Z-aG;_=_-aG;an[aF+aD]=aH-a.rshift(aH,5)aD=aD+aD+1;aI=aI-E-aV end;aV=aV-H-1;aU=aU-1 until not(aU~=0)end else aU=aU-4;repeat if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;Z=a.rshift(Z,1)if _-Z-D-0x80000000~=0 then aI=aI-H-1 else _=_-Z;aI=aI-H-1+1 end;aU=aU-1 until not(aU~=0)aF=802;aI=aI-H-4;do aD=1;aH=an[aF+aD]assert(aH<=0x7fffffff and aH<=2048)if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aF+aD]=aH+a.rshift(2048-aH,5)aD=aD+aD else Z=Z-aG;_=_-aG;an[aF+aD]=aH-a.rshift(aH,5)aD=aD+aD+1;aI=aI-E-1 end;aH=an[aF+aD]assert(aH<=0x7fffffff and aH<=2048)if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aF+aD]=aH+a.rshift(2048-aH,5)aD=aD+aD else Z=Z-aG;_=_-aG;an[aF+aD]=aH-a.rshift(aH,5)aD=aD+aD+1;aI=aI-E-2 end;aH=an[aF+aD]assert(aH<=0x7fffffff and aH<=2048)if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aF+aD]=aH+a.rshift(2048-aH,5)aD=aD+aD else Z=Z-aG;_=_-aG;an[aF+aD]=aH-a.rshift(aH,5)aD=aD+aD+1;aI=aI-E-4 end;aH=an[aF+aD]assert(aH<=0x7fffffff and aH<=2048)if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;aG=a.rshift(Z,11)*aH;if _<aG then Z=aG;an[aF+aD]=aH+a.rshift(2048-aH,5)aD=aD+aD else Z=Z-aG;_=_-aG;an[aF+aD]=aH-a.rshift(aH,5)aD=aD+aD+1;aI=aI-E-8 end end;if G-aI==0 then a9=a9+274;a4=a4-12;break end end end;assert(aI<=0x7fffffff and aI<=1610612736)a8=a7;a7=a6;a6=a5;a5=aI+1;if a3==0 then if aI>=a2 then return 1 end else if aI>=a3 then return 1 end end;a4=a4<12+7 and 7 or 7+3 end;a9=a9+2;if aE==a0 then return 1 end;do local aW=aE-a0;local aX=aW<a9 and aW or a9;local aY=a0-a5+(a0<a5 and a1 or 0)a2=a2+aX;a9=a9-aX;if aY+aX<=a1 then assert(a0>aY)assert(aX>0)repeat at[a0]=at[aY]-D-0xFF;a0=a0+1;aY=aY+1;aX=aX-1 until not(aX~=0)else repeat at[a0]=at[aY]-D-0xFF;a0=a0+1;aY=aY+1;if aY==a1 then aY=0 end until not(aX~=0)end end end end until not(a0<aE and X<aA)if Z<16777216 then Z=Z-H-8;_=_-H-8-E-ar[X]X=X+1 end;if a2>=Y then a3=Y end;av(az)until not(a0<az and X<aA and a9<274)if a9>274 then a9=274 end;return 0 end;local function aZ(a_,b0)local b1=Z;local b2=_;local b3=a4;local b4;local b5;local b6;local b7;local b8=a2-D-(1-H-ak-1)b5=0+b3-H-4+b8;b7=an[b5]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then local b9=1;b1=b6;b5=1846;if a3~=0 or a2~=0 then b5=b5+768*(a2-D-(1-H-aj-1)-H-ai+a.rshift(at[(a0==0 and a1 or a0)-1],al))end;if b3<7 then repeat b7=an[b5+b9]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6;b9=b9+b9 else b1=b1-b6;b2=b2-b6;b9=b9+b9+1 end until not(b9<0x100)else local ba=at[a0-a5+(a0<a5 and a1 or 0)]local bb=0x100;repeat local bc;local bd;assert(bb==0 or bb==0x100)ba=ba-H-1;bc=ba-D-bb;bd=b5+bb+bc+b9;b7=an[bd]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6;b9=b9+b9;bb=bb-D-(G-bc)else b1=b1-b6;b2=b2-b6;b9=b9+b9+1;bb=bb-D-bc end until not(b9<0x100)end;b4=1 else local be;b1=b1-b6;b2=b2-b6;b5=192+b3;b7=an[b5]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6;b3=0;b5=818;b4=2 else b1=b1-b6;b2=b2-b6;b4=3;b5=204+b3;b7=an[b5]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6;b5=240+b3-H-4+b8;b7=an[b5]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6;if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;return 3 else b1=b1-b6;b2=b2-b6 end else b1=b1-b6;b2=b2-b6;b5=216+b3;b7=an[b5]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6 else b1=b1-b6;b2=b2-b6;b5=228+b3;b7=an[b5]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6 else b1=b1-b6;b2=b2-b6 end end end;b3=12;b5=1332 end;do local bf;local bg;local bh=b5+0;b7=an[bh]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6;bh=b5+2+b8-H-3;bg=0;bf=8 else b1=b1-b6;b2=b2-b6;bh=b5+1;b7=an[bh]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6;bh=b5+130+b8-H-3;bg=8;bf=8 else b1=b1-b6;b2=b2-b6;bh=b5+258;bg=8+8;bf=256 end end;do be=1;repeat b7=an[bh+be]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6;be=be+be else b1=b1-b6;b2=b2-b6;be=be+be+1 end until not(be<bf)be=be-bf end;be=be+bg end;if b3<4 then local bi;b5=432+(be<4 and be or 4-1)-H-6;do bi=1;repeat b7=an[b5+bi]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6;bi=bi+bi else b1=b1-b6;b2=b2-b6;bi=bi+bi+1 end until not(bi<64)bi=bi-64 end;assert(bi<=0x7fffffff and bi<64)if bi>=4 then local bj=a.rshift(bi,1)-1;if bi<14 then b5=688+2-E-(bi-D-1)-H-bj-bi-1 else bj=bj-4;repeat if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b1=a.rshift(b1,1)if b2-b1-D-0x80000000==0 then b2=b2-b1 end;bj=bj-1 until not(bj~=0)b5=802;bj=4 end;do local bk=1;repeat b7=an[b5+bk]if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;b6=a.rshift(b1,11)*b7;if b2<b6 then b1=b6;bk=bk+bk else b1=b1-b6;b2=b2-b6;bk=bk+bk+1 end;bj=bj-1 until not(bj~=0)end end end end;if b1<16777216 then if a_>=b0 then return 0 end;b1=b1-H-8;b2=b2-H-8-E-ar[a_]a_=a_+1 end;return b4 end;local function bl(bm,bn)ad=1;a9=0;aa=0;if bm~=0 then a2=0;a3=0;ae=1 end;if bn~=0 then ae=1 end end;local function bo(bp)local bq=ab+bp;local br;local bs;av(a1)while a9~=274 do if ad~=0 then while bq>ab and aa<5 do ar[6+65536+6+aa]=ar[ab]aa=aa+1;ab=ab+1 end;if aa<5 then end;if ar[6+65536+6]~=0 then return 1 end;_=ar[6+65536+6+1]-H-24-E-(ar[6+65536+6+2]-H-16)-E-(ar[6+65536+6+3]-H-8)-E-ar[6+65536+6+4]Z=0xffffffff;ad=0;aa=0 end;br=0;if a0>=a1 then if a9==0 and _==0 then if ab~=bq then return 18 end;return 0 end;if a9~=0 then return 16 end;br=1 end;if ae~=0 then local bt=1846+768-H-(ai+aj)for bu=0,bt-1,1 do an[bu]=a.rshift(2048,1)end;a8=1;a7=a8;a6=a7;a5=a6;a4=0;ae=0 end;if aa==0 then local bv;if bq-ab<20 or br~=0 then bs=aZ(ab,bq)if bs==0 then aa=0;while ab~=bq do ar[6+65536+6+aa]=ar[ab]aa=aa+1;ab=ab+1 end;if ab~=bq then return 17 end;return 17 end;if br~=0 and bs~=2 then return 16 end;bv=ab else bv=bq-20 end;X=ab;if ay(a1,bv)~=0 then return 1 end;ab=X else local bw=aa;local bx=0;while bw<20 and bx<bq-ab do ar[6+65536+6+bw]=ar[ab+bx]bw=bw+1;bx=bx+1 end;aa=bw;if bw<20 or br~=0 then bs=aZ(6+65536+6,6+65536+6+bw)if bs==0 then ab=ab+bx;if ab~=bq then return 17 end;return 17 end;if br~=0 and bs~=2 then return 16 end end;X=6+65536+6;if ay(0,6+65536+6)~=0 then return 1 end;bx=bx-bw-(X-(6+65536+6))ab=ab+bx;aa=0 end end;if _~=0 then return 1 end;return 15 end;local function by(bz)local bA=ac-ab;local bB;assert(bz<=6+65536+6)if bA<bz then if 6+65536+6-ab<bz then ac=0;while ac<bA do ar[ac]=ar[ab+ac]ac=ac+1 end;ab=0 end;while bA<bz do bB=R(ar,ac,bz-bA)if bB+1<=1 then break end;ac=ac+bB;bA=bA+bB end end;return bA end;local function bC()while ar[ab]>=0x80 do ab=ab+1 end;ab=ab+1 end;local function bD(bE)while bE~=0 do ab=ab+1;if ar[ab-1]~=0 then return 57 end;bE=bE-1 end;return 0 end;local function bF(bG)return a.band(ar[bG],0xff)+a.blshift(a.band(ar[bG+1],0xff),8)+a.blshift(a.band(ar[bG+2],0xff),16)+bit.blshift(a.band(ar[bG+3],0xff),24)end;local function bH()a1=0;af=1;ag=1;ah=1;a0=0;bl(1,1)end;local function bI(bJ)if bJ>=9*5*5 then return 68 end;ai=bJ%9;al=8-ai;bJ=math.floor(bJ/9)ak=math.floor(bJ/5)aj=bJ%5;if ai+aj>4 then return 68 end;ah=0;return 0 end;local function bK(bL)while bL~=a0 do local bM=W(at,bL,a0-bL)if bM-D-0x80000000~=0 then return 9 end;bL=bL+bM end;return 0 end;local function bN()local bO;local bP;local bQ;if by(12+12+6)<12+12+6 then return 6 end;if ar[0]==0xfd and ar[1]==0x37 and ar[2]==0x7a and ar[3]==0x58 and ar[4]==0x5a and ar[5]==0 and ar[6]==0 then elseif ar[ab]<=225 and ar[ab+13]==0 and((function()bP=bF(ab+9)return bP end)()==0 or G-bP==0)and(function()Y=bF(ab+1)return Y end)()>=4096 and Y<a.band(1610612736+1,0x7fffffff)then local bR;local bS;local bT;bH()if(function()bQ=bI(ar[ab])return bQ end)()~=0 then return bQ end;if bP==0 then bR=bF(ab+5)a1=bR;if not(bR<a.band(1610612736+1,0x7fffffff))then return 2 end else bR=bP;a1=1610612736 end;ab=ab+13;while(function()bS=by(6+65536+6)return bS end)()~=0 do bT=a0;bQ=bo(bS)if bR<a0 then a0=bR end;if(function()bQ=bK(bT)return bQ end)()~=0 then return bQ end;if bQ==15 then break end;if bQ~=17 and bQ~=0 then return bQ end;if a0-bR==0 then break end end;return 0 else return 51 end;bO=ar[ab+7]if bO==0 then bO=1 elseif bO==1 then bO=4 elseif bO==4 then bO=8 elseif bO==10 then bO=32 else return 60 end;ab=ab+12;while true do local bU=3;local bV;local bW;local bX;local bY;assert(ac-ab>=12)bY=ab;ab=ab+1;if(function()bV=ar[ab-1]return bV end)()==0 then break end;bV=bV+1-H-2;if by(bV)<bV then return 6 end;bY=ab;bP=ar[ab]ab=ab+1;if bP-D-2~=0 then return 53 end;if bP-D-20~=0 then return 54 end;if bP-D-64~=0 then bC()end;if bP-D-128~=0 then bC()end;if ar[ab]~=0x21 then return 55 end;ab=ab+1;if ar[ab]~=1 then return 56 end;ab=ab+1;bX=ar[ab]ab=ab+1;if bX>40 then return 61 end;if bX>37 then return 62 end;Y=2-E-(bX-D-1)-H-(math.floor(bX/2)+11)assert(Y>=4096)bW=ab-bY+5;if bW>bV then return 58 end;if(function()bQ=bD(bV-bW)return bQ end)()~=0 then return bQ end;ab=ab+4;do local bZ;local b_;local c0;bH()while true do local c1;assert(a0==a1)if by(6)<6 then return 6 end;c1=ar[ab]if c1==0 then ab=ab+1;break elseif a.band(c1-3,0xff)<0x80-3 then return 59 end;bZ=ar[ab+1]-H-8+ar[ab+2]+1;if c1<3 then c0=c1==1 and 1 or 0;b_=bZ;ab=ab+3;bU=bU-3;if c0~=0 then ag=1;ah=ag;af=0 elseif af~=0 then return 1 end;bl(c0,0)else local c2=a.rshift(c1,5)-D-3;local c3=c2~=0 and 1 or 0;local c4=c1-D-64~=0 and 1 or 0;c0=c2==3 and 1 or 0;bZ=bZ+c1-D-31-H-16;b_=ar[ab+3]-H-8+ar[ab+4]+1;if c4~=0 then if(function()bQ=bI(ar[ab+5])return bQ end)()~=0 then return bQ end;ab=ab+1;bU=bU-1 else if ah~=0 then return 67 end end;ab=ab+5;bU=bU-5;if c0==0 and af~=0 or c3==0 and ag~=0 then return 1 end;bl(c0,c3)af=0;ag=0 end;assert(a0==a1)a1=a1+bZ;if a1>1610612736 then return 2 end;if by(b_+6)<b_ then return 6 end;if c1<0x80 then while a0~=a1 do at[a0]=ar[ab]-D-0xFF;a0=a0+1;ab=ab+1 end;if a3==0 and Y-a2<=bZ then a3=Y end;a2=a2+bZ else if(function()bQ=bo(b_)return bQ end)()~=0 then return bQ end end;if a0~=a1 then return 65 end;if(function()bQ=bK(a0-bZ)return bQ end)()~=0 then return bQ end;bU=bU-b_ end end;if by(7+12+6)<7+12+6 then return 6 end;if(function()bQ=bD(bU-D-3)return bQ end)()~=0 then return bQ end;ab=ab+bO end;return 0 end;local c5={UNKNOWN_ERROR=-1,OK=0,ERROR_DATA=1,ERROR_MEM=2,ERROR_CRC=3,ERROR_UNSUPPORTED=4,ERROR_PARAM=5,ERROR_INPUT_EOF=6,ERROR_OUTPUT_EOF=7,ERROR_READ=8,ERROR_WRITE=9,ERROR_FINISHED_WITH_MARK=15,ERROR_NOT_FINISHED=16,ERROR_NEEDS_MORE_INPUT=17,ERROR_CHUNK_NOT_CONSUMED=18,ERROR_NEEDS_MORE_INPUT_PARTIAL=17,ERROR_BAD_MAGIC=51,ERROR_BAD_STREAM_FLAGS=52,ERROR_UNSUPPORTED_FILTER_COUNT=53,ERROR_BAD_BLOCK_FLAGS=54,ERROR_UNSUPPORTED_FILTER_ID=55,ERROR_UNSUPPORTED_FILTER_PROPERTIES_SIZE=56,ERROR_BAD_PADDING=57,ERROR_BLOCK_HEADER_TOO_LONG=58,ERROR_BAD_CHUNK_CONTROL_BYTE=59,ERROR_BAD_CHECKSUM_TYPE=60,ERROR_BAD_DICTIONARY_SIZE=61,ERROR_UNSUPPORTED_DICTIONARY_SIZE=62,ERROR_FEED_CHUNK=63,ERROR_NOT_FINISHED_WITH_MARK=64,ERROR_BAD_DICPOS=65,ERROR_MISSING_INITPROP=67,ERROR_BAD_LCLPPB_PROP=68}return{DecompressXzOrLzmaFile=function(c6,c7)if type(c6)~=\"userdata\"and(_HOST==nil or type(c6)~=\"table\")and type(c6)~=\"string\"then error(\"bad argument #1 (expected string or file, got \"..type(c6)..\")\",2)end;if type(c7)~=\"userdata\"and(_HOST==nil or type(c7)~=\"table\")and type(c7)~=\"string\"then error(\"bad argument #2 (expected string or file, got \"..type(c7)..\")\",2)end;N=nil;O=nil;local c8=io.input()local c9=io.output()if type(c6)==\"string\"then c6=io.open(c6,\"rb\")if c6==nil then return false,-1 end end;if type(c7)==\"string\"then c7=io.open(c7,\"wb\")if c7==nil then return false,-1 end end;io.input(c6)io.output(c7)au()local ca,cb=pcall(bN)io.input(c8)io.output(c9)c6:close()c7:close()if not ca then if cb then io.stderr:write(cb..\"\\n\")end;return false,-1 else return cb==0,cb end end,DecompressXzOrLzmaString=function(c6)if type(c6)~=\"string\"then error(\"bad argument #1 (expected string, got \"..type(c6)..\")\",2)end;N=c6;O=\"\"au()local ca,cb=pcall(bN)if not ca then if cb then io.stderr:write(cb..\"\\n\")end;return-1 elseif cb==0 then return O elseif cb==53 and#O>0 then return O,cb else return nil,cb end end,GetError=function(_)for cc,cd in pairs(c5)do if cd==_ then return cc end end;return nil end,Errors=c5}\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=21375},["usermgr.lua"]={created=1688258011716,type="file",modified=1688258011069,data="local a=require\"system.expect\"local b=require\"system.ipc\"local c=require\"system.process\"local d={}local e;local function f(g,h)if not e then e=b.lookup(\"usermgr\")end;if not e then error(\"Could not connect to user authentication service\",2)end;b.sendEvent(e,\"usermgr.request.\"..g,h)local i,j=b.receiveEvent(e,\"usermgr.response.\"..g,5)if not j then error(\"Timed out waiting for user authentication service\",2)end;return j end;function d.authenticate(k,l)a(1,k,\"string\")a(2,l,\"string\")if c.getuser()~=\"root\"then error(\"Permission denied\",2)end;local m=f(\"authenticate\",{user=k,password=l})return m.result or false,m.error or m.message end;function d.getUserInfo(k)a(1,k,\"string\")local m=f(\"getUserInfo\",{user=k})if m.error then error(m.error,2)end;return m.result end;function d.addUser(k,l,n)a(1,k,\"string\")a(2,l,\"string\",\"nil\")n=a(3,n,\"table\",\"nil\")or{}a.field(n,\"fullName\",\"string\",\"nil\")a.field(n,\"home\",\"string\",\"nil\")a.field(n,\"shell\",\"string\",\"nil\")n.user=k;n.password=l;if c.getuser()~=\"root\"then error(\"Permission denied\",2)end;local m=f(\"addUser\",n)if m.error then error(m.error,2)end;return m.result or false end;function d.removeUser(k)a(1,k,\"string\")if c.getuser()~=\"root\"then error(\"Permission denied\",2)end;local m=f(\"removeUser\",{user=k})if m.error then error(m.error,2)end;return m.result or false end;function d.editUser(k,n)a(1,k,\"string\")a(2,n,\"table\")a.field(n,\"fullName\",\"string\",\"nil\")a.field(n,\"home\",\"string\",\"nil\")a.field(n,\"shell\",\"string\",\"nil\")n.user=k;local o=c.getuser()if o~=\"root\"and o~=k then error(\"Permission denied\",2)end;local m=f(\"editUser\",n)if m.error then error(m.error,2)end;return m.result or false end;function d.setPassword(k,l,n)a(1,k,\"string\")a(2,l,\"string\",\"nil\")n=a(3,n,\"table\",\"nil\")or{}a.field(n,\"nextChange\",\"number\",\"nil\")a.field(n,\"expirationTime\",\"number\",\"nil\")a.field(n,\"expirationWarning\",\"number\",\"nil\")a.field(n,\"lockTime\",\"number\",\"nil\")a.field(n,\"isLocked\",\"boolean\",\"nil\")if c.getuser()~=\"root\"then error(\"Permission denied\",2)end;n.user,n.password=k,l;local m=f(\"setPassword\",n)if m.error then error(m.error,2)end;return m.result or false end;return d\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=2114},["libdeflate.lua"]={created=1688258063667,type="file",modified=1688258062913,data="local a;do local b=\"1.0.2-release\"local c=\"LibDeflate\"local d=3;local e=\"LibDeflate \"..b..\" Copyright (C) 2018-2021 Haoqian He.\"..\" Licensed under the zlib License\"if LibStub then local f,g=LibStub:GetLibrary(c,true)if f and g and g>=d then return f else a=LibStub:NewLibrary(c,d)end else a={}end;a._VERSION=b;a._MAJOR=c;a._MINOR=d;a._COPYRIGHT=e end;local assert=assert;local error=error;local pairs=pairs;local h=string.byte;local i=string.char;local j=string.find;local k=string.gsub;local l=string.sub;local m=table.concat;local n=table.sort;local tostring=tostring;local type=type;local o={}local p={}local q={}local r={}local s={}local t={}local u={}local v={}local w={}local x={3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258}local y={0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0}local z={[0]=1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577}local A={[0]=0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13}local B={16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15}local C;local D;local E;local F;local G;local H;local I;local J;for K=0,255 do p[K]=i(K)end;do local L=1;for K=0,32 do o[K]=L;L=L*2 end end;for K=1,9 do q[K]={}for M=0,o[K+1]-1 do local N=0;local O=M;for P=1,K do N=N-N%2+((N%2==1 or O%2==1)and 1 or 0)O=(O-O%2)/2;N=N*2 end;q[K][M]=(N-N%2)/2 end end;do local Q=18;local R=16;local S=265;local T=1;for U=3,258 do if U<=10 then r[U]=U+254;t[U]=0 elseif U==258 then r[U]=285;t[U]=0 else if U>Q then Q=Q+R;R=R*2;S=S+4;T=T+1 end;local V=U-Q-1+R/2;r[U]=(V-V%(R/8))/(R/8)+S;t[U]=T;s[U]=V%(R/8)end end end;do u[1]=0;u[2]=1;w[1]=0;w[2]=0;local Q=3;local R=4;local W=2;local T=0;for X=3,256 do if X>R then Q=Q*2;R=R*2;W=W+2;T=T+1 end;u[X]=X<=Q and W or W+1;w[X]=T<0 and 0 or T;if R>=8 then v[X]=(X-R/2-1)%(R/4)end end end;local Y,Z,_,a0,a1=bit32.band,bit32.bnot,bit32.bxor,bit32.lshift,bit32.rshift;local a2=0xEDB88320;local function a3(a4)local a5={}local V=setmetatable({},a5)function a5:__index(a6)local a7=a4(a6)V[a6]=a7;return a7 end;return V end;local a8=a3(function(K)local a9=K;for P=1,8 do local R=Y(a9,1)a9=a1(a9,1)if R==1 then a9=_(a9,a2)end end;return a9 end)local function aa(ab,a9)a9=Z(a9 or 0)local ac=a1(a9,8)local ad=a8[_(a9%256,ab)]return Z(_(ac,ad))end;local function ae(af,a9)a9=a9 or 0;for K=1,#af do a9=aa(af:byte(K),a9)end;return a9 end;function a:CRC32(af,a9)if type(af)=='string'then return ae(af,a9)else return aa(af,a9)end end;function a:Adler32(ag)if type(ag)~=\"string\"then error((\"Usage: LibDeflate:Adler32(str):\"..\" 'str' - string expected got '%s'.\"):format(type(ag)),2)end;local ah=#ag;local K=1;local Q=1;local R=0;while K<=ah-15 do local ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax=h(ag,K,K+15)R=(R+16*Q+16*ai+15*aj+14*ak+13*al+12*am+11*an+10*ao+9*ap+8*aq+7*ar+6*as+5*at+4*au+3*av+2*aw+ax)%65521;Q=(Q+ai+aj+ak+al+am+an+ao+ap+aq+ar+as+at+au+av+aw+ax)%65521;K=K+16 end;while K<=ah do local ay=h(ag,K,K)Q=(Q+ay)%65521;R=(R+Q)%65521;K=K+1 end;return(R*65536+Q)%4294967296 end;local function az(aA,aB)return aA%4294967296==aB%4294967296 end;function a:CreateDictionary(ag,ah,aC)if type(ag)~=\"string\"then error((\"Usage: LibDeflate:CreateDictionary(str, strlen, adler32):\"..\" 'str' - string expected got '%s'.\"):format(type(ag)),2)end;if type(ah)~=\"number\"then error((\"Usage: LibDeflate:CreateDictionary(str, strlen, adler32):\"..\" 'strlen' - number expected got '%s'.\"):format(type(ah)),2)end;if type(aC)~=\"number\"then error((\"Usage: LibDeflate:CreateDictionary(str, strlen, adler32):\"..\" 'adler32' - number expected got '%s'.\"):format(type(aC)),2)end;if ah~=#ag then error((\"Usage: LibDeflate:CreateDictionary(str, strlen, adler32):\"..\" 'strlen' does not match the actual length of 'str'.\"..\" 'strlen': %u, '#str': %u .\"..\" Please check if 'str' is modified unintentionally.\"):format(ah,#ag))end;if ah==0 then error(\"Usage: LibDeflate:CreateDictionary(str, strlen, adler32):\"..\" 'str' - Empty string is not allowed.\",2)end;if ah>32768 then error((\"Usage: LibDeflate:CreateDictionary(str, strlen, adler32):\"..\" 'str' - string longer than 32768 bytes is not allowed.\"..\" Got %d bytes.\"):format(ah),2)end;local aD=self:Adler32(ag)if not az(aC,aD)then error((\"Usage: LibDeflate:CreateDictionary(str, strlen, adler32):\"..\" 'adler32' does not match the actual adler32 of 'str'.\"..\" 'adler32': %u, 'Adler32(str)': %u .\"..\" Please check if 'str' is modified unintentionally.\"):format(aC,aD))end;local aE={}aE.adler32=aC;aE.hash_tables={}aE.string_table={}aE.strlen=ah;local aF=aE.string_table;local aG=aE.hash_tables;aF[1]=h(ag,1,1)aF[2]=h(ag,2,2)if ah>=3 then local K=1;local aH=aF[1]*256+aF[2]while K<=ah-2-3 do local ai,aj,ak,al=h(ag,K+2,K+5)aF[K+2]=ai;aF[K+3]=aj;aF[K+4]=ak;aF[K+5]=al;aH=(aH*256+ai)%16777216;local V=aG[aH]if not V then V={}aG[aH]=V end;V[#V+1]=K-ah;K=K+1;aH=(aH*256+aj)%16777216;V=aG[aH]if not V then V={}aG[aH]=V end;V[#V+1]=K-ah;K=K+1;aH=(aH*256+ak)%16777216;V=aG[aH]if not V then V={}aG[aH]=V end;V[#V+1]=K-ah;K=K+1;aH=(aH*256+al)%16777216;V=aG[aH]if not V then V={}aG[aH]=V end;V[#V+1]=K-ah;K=K+1 end;while K<=ah-2 do local ay=h(ag,K+2)aF[K+2]=ay;aH=(aH*256+ay)%16777216;local V=aG[aH]if not V then V={}aG[aH]=V end;V[#V+1]=K-ah;K=K+1 end end;return aE end;local function aI(aE)if type(aE)~=\"table\"then return false,(\"'dictionary' - table expected got '%s'.\"):format(type(aE))end;if type(aE.adler32)~=\"number\"or type(aE.string_table)~=\"table\"or type(aE.strlen)~=\"number\"or aE.strlen<=0 or aE.strlen>32768 or aE.strlen~=#aE.string_table or type(aE.hash_tables)~=\"table\"then return false,(\"'dictionary' - corrupted dictionary.\"):format(type(aE))end;return true,\"\"end;local aJ={[0]={false,nil,0,0,0},[1]={false,nil,4,8,4},[2]={false,nil,5,18,8},[3]={false,nil,6,32,32},[4]={true,4,4,16,16},[5]={true,8,16,32,32},[6]={true,8,16,128,128},[7]={true,8,32,128,256},[8]={true,32,128,258,1024},[9]={true,32,258,258,4096}}local function aK(ag,aL,aE,aM,aN)if type(ag)~=\"string\"then return false,(\"'str' - string expected got '%s'.\"):format(type(ag))end;if aL then local aO,aP=aI(aE)if not aO then return false,aP end end;if aM then local aQ=type(aN)if aQ~=\"nil\"and aQ~=\"table\"then return false,(\"'configs' - nil or table expected got '%s'.\"):format(type(aN))end;if aQ==\"table\"then for a6,a7 in pairs(aN)do if a6~=\"level\"and a6~=\"strategy\"then return false,(\"'configs' - unsupported table key in the configs: '%s'.\"):format(a6)elseif a6==\"level\"and not aJ[a7]then return false,(\"'configs' - unsupported 'level': %s.\"):format(tostring(a7))elseif a6==\"strategy\"and a7~=\"fixed\"and a7~=\"huffman_only\"and a7~=\"dynamic\"then return false,(\"'configs' - unsupported 'strategy': '%s'.\"):format(tostring(a7))end end end end;return true,\"\"end;local aR=0;local aS=1;local aT=2;local aU=3;local function aV()local aW=0;local aX=0;local aY=0;local aZ=0;local a_={}local b0={}local function b1(O,T)aX=aX+O*o[aY]aY=aY+T;aZ=aZ+T;if aY>=32 then aW=aW+1;a_[aW]=p[aX%256]..p[(aX-aX%256)/256%256]..p[(aX-aX%65536)/65536%256]..p[(aX-aX%16777216)/16777216%256]local b2=o[32-aY+T]aX=(O-O%b2)/b2;aY=aY-32 end end;local function b3(ag)for P=1,aY,8 do aW=aW+1;a_[aW]=i(aX%256)aX=(aX-aX%256)/256 end;aY=0;aW=aW+1;a_[aW]=ag;aZ=aZ+#ag*8 end;local function b4(b5)if b5==aU then return aZ end;if b5==aS or b5==aT then local b6=(8-aY%8)%8;if aY>0 then aX=aX-o[aY]+o[aY+b6]for P=1,aY,8 do aW=aW+1;a_[aW]=p[aX%256]aX=(aX-aX%256)/256 end;aX=0;aY=0 end;if b5==aT then aZ=aZ+b6;return aZ end end;local b7=m(a_)a_={}aW=0;b0[#b0+1]=b7;if b5==aR then return aZ else return aZ,m(b0)end end;return b1,b3,b4 end;local function b8(b9,ba,bb)bb=bb+1;b9[bb]=ba;local O=ba[1]local bc=bb;local bd=(bc-bc%2)/2;while bd>=1 and b9[bd][1]>O do local V=b9[bd]b9[bd]=ba;b9[bc]=V;bc=bd;bd=(bd-bd%2)/2 end end;local function be(b9,bb)local bf=b9[1]local ba=b9[bb]local O=ba[1]b9[1]=ba;b9[bb]=bf;bb=bb-1;local bc=1;local bg=bc*2;local bh=bg+1;while bg<=bb do local bi=b9[bg]if bh<=bb and b9[bh][1]<bi[1]then local bj=b9[bh]if bj[1]<O then b9[bh]=ba;b9[bc]=bj;bc=bh;bg=bc*2;bh=bg+1 else break end else if bi[1]<O then b9[bg]=ba;b9[bc]=bi;bc=bg;bg=bc*2;bh=bg+1 else break end end end;return bf end;local function bk(bl,bm,bn,bo)local bp=0;local bq={}local br={}for T=1,bo do bp=(bp+(bl[T-1]or 0))*2;bq[T]=bp end;for bs=0,bn do local T=bm[bs]if T then bp=bq[T]bq[T]=bp+1;if T<=9 then br[bs]=q[T][bp]else local N=0;for P=1,T do N=N-N%2+((N%2==1 or bp%2==1)and 1 or 0)bp=(bp-bp%2)/2;N=N*2 end;br[bs]=(N-N%2)/2 end end end;return br end;local function bt(Q,R)return Q[1]<R[1]or Q[1]==R[1]and Q[2]<R[2]end;local function bu(bv,bo,bn)local bb;local bw=-1;local bx={}local b9={}local bm={}local by={}local bl={}local bz=0;for bs,bA in pairs(bv)do bz=bz+1;bx[bz]={bA,bs}end;if bz==0 then return{},{},-1 elseif bz==1 then local bs=bx[1][2]bm[bs]=1;by[bs]=0;return bm,by,bs else n(bx,bt)bb=bz;for K=1,bb do b9[K]=bx[K]end;while bb>1 do local bB=be(b9,bb)bb=bb-1;local bC=be(b9,bb)bb=bb-1;local bD={bB[1]+bC[1],-1,bB,bC}b8(b9,bD,bb)bb=bb+1 end;local bE=0;local bF={b9[1],0,0,0}local bG=1;local bH=1;b9[1][1]=0;while bH<=bG do local ba=bF[bH]local T=ba[1]local bs=ba[2]local bi=ba[3]local bj=ba[4]if bi then bG=bG+1;bF[bG]=bi;bi[1]=T+1 end;if bj then bG=bG+1;bF[bG]=bj;bj[1]=T+1 end;bH=bH+1;if T>bo then bE=bE+1;T=bo end;if bs>=0 then bm[bs]=T;bw=bs>bw and bs or bw;bl[T]=(bl[T]or 0)+1 end end;if bE>0 then repeat local T=bo-1;while(bl[T]or 0)==0 do T=T-1 end;bl[T]=bl[T]-1;bl[T+1]=(bl[T+1]or 0)+2;bl[bo]=bl[bo]-1;bE=bE-2 until bE<=0;bH=1;for T=bo,1,-1 do local bI=bl[T]or 0;while bI>0 do local bs=bx[bH][2]bm[bs]=T;bI=bI-1;bH=bH+1 end end end;by=bk(bl,bm,bn,bo)return bm,by,bw end end;local function bJ(bK,bL,bM,bN)local bO=0;local bP={}local bQ={}local bR=0;local bS={}local bT=nil;local bA=0;bN=bN<0 and 0 or bN;local bU=bL+bN+1;for W=0,bU+1 do local U=W<=bL and(bK[W]or 0)or(W<=bU and(bM[W-bL-1]or 0)or nil)if U==bT then bA=bA+1;if U~=0 and bA==6 then bO=bO+1;bP[bO]=16;bR=bR+1;bS[bR]=3;bQ[16]=(bQ[16]or 0)+1;bA=0 elseif U==0 and bA==138 then bO=bO+1;bP[bO]=18;bR=bR+1;bS[bR]=127;bQ[18]=(bQ[18]or 0)+1;bA=0 end else if bA==1 then bO=bO+1;bP[bO]=bT;bQ[bT]=(bQ[bT]or 0)+1 elseif bA==2 then bO=bO+1;bP[bO]=bT;bO=bO+1;bP[bO]=bT;bQ[bT]=(bQ[bT]or 0)+2 elseif bA>=3 then bO=bO+1;local bV=bT~=0 and 16 or(bA<=10 and 17 or 18)bP[bO]=bV;bQ[bV]=(bQ[bV]or 0)+1;bR=bR+1;bS[bR]=bA<=10 and bA-3 or bA-11 end;bT=U;if U and U~=0 then bO=bO+1;bP[bO]=U;bQ[U]=(bQ[U]or 0)+1;bA=0 else bA=1 end end end;return bP,bS,bQ end;local function bW(ag,V,bX,bY,bZ)local K=bX-bZ;while K<=bY-15-bZ do V[K],V[K+1],V[K+2],V[K+3],V[K+4],V[K+5],V[K+6],V[K+7],V[K+8],V[K+9],V[K+10],V[K+11],V[K+12],V[K+13],V[K+14],V[K+15]=h(ag,K+bZ,K+15+bZ)K=K+16 end;while K<=bY-bZ do V[K]=h(ag,K+bZ,K+bZ)K=K+1 end;return V end;local function b_(c0,aF,aG,c1,c2,bZ,aE)local c3=aJ[c0]local c4,c5,c6,c7,c8=c3[1],c3[2],c3[3],c3[4],c3[5]local c9=not c4 and c6 or 2147483646;local ca=c8-c8%4/4;local aH;local cb;local cc;local cd=0;if aE then cb=aE.hash_tables;cc=aE.string_table;cd=aE.strlen;assert(c1==1)if c2>=c1 and cd>=2 then aH=cc[cd-1]*65536+cc[cd]*256+aF[1]local V=aG[aH]if not V then V={}aG[aH]=V end;V[#V+1]=-1 end;if c2>=c1+1 and cd>=1 then aH=cc[cd]*65536+aF[1]*256+aF[2]local V=aG[aH]if not V then V={}aG[aH]=V end;V[#V+1]=0 end end;local ce=cd+3;aH=(aF[c1-bZ]or 0)*256+(aF[c1+1-bZ]or 0)local cf={}local cg=0;local ch={}local ci={}local cj=0;local ck={}local cl={}local cm=0;local cn={}local co=0;local cp=false;local cq;local cr;local cs=0;local ct=0;local bH=c1;local cu=c2+(c4 and 1 or 0)while bH<=cu do local cv=bH-bZ;local cw=bZ-3;cq=cs;cr=ct;cs=0;aH=(aH*256+(aF[cv+2]or 0))%16777216;local cx;local cy;local cz=aG[aH]local cA;if not cz then cA=0;cz={}aG[aH]=cz;if cb then cy=cb[aH]cx=cy and#cy or 0 else cx=0 end else cA=#cz;cy=cz;cx=cA end;if bH<=c2 then cz[cA+1]=bH end;if cx>0 and bH+2<=c2 and(not c4 or cq<c6)then local cB=c4 and cq>=c5 and ca or c8;local cC=c2-bH;cC=cC>=257 and 257 or cC;cC=cC+cv;local cD=cv+3;while cx>=1 and cB>0 do local bT=cy[cx]if bH-bT>32768 then break end;if bT<bH then local cE=cD;if bT>=-257 then local cF=bT-cw;while cE<=cC and aF[cF]==aF[cE]do cE=cE+1;cF=cF+1 end else local cF=ce+bT;while cE<=cC and cc[cF]==aF[cE]do cE=cE+1;cF=cF+1 end end;local M=cE-cv;if M>cs then cs=M;ct=bH-bT end;if cs>=c7 then break end end;cx=cx-1;cB=cB-1;if cx==0 and bT>0 and cb then cy=cb[aH]cx=cy and#cy or 0 end end end;if not c4 then cq,cr=cs,ct end;if(not c4 or cp)and(cq>3 or cq==3 and cr<4096)and cs<=cq then local W=r[cq]local cG=t[cq]local cH,cI,cJ;if cr<=256 then cH=u[cr]cJ=v[cr]cI=w[cr]else cH=16;cI=7;local Q=384;local R=512;while true do if cr<=Q then cJ=(cr-R/2-1)%(R/4)break elseif cr<=R then cJ=(cr-R/2-1)%(R/4)cH=cH+1;break else cH=cH+2;cI=cI+1;Q=Q*2;R=R*2 end end end;cg=cg+1;cf[cg]=W;ch[W]=(ch[W]or 0)+1;cj=cj+1;ci[cj]=cH;ck[cH]=(ck[cH]or 0)+1;if cG>0 then local cK=s[cq]cm=cm+1;cl[cm]=cK end;if cI>0 then co=co+1;cn[co]=cJ end;for K=bH+1,bH+cq-(c4 and 2 or 1)do aH=(aH*256+(aF[K-bZ+2]or 0))%16777216;if cq<=c9 then cz=aG[aH]if not cz then cz={}aG[aH]=cz end;cz[#cz+1]=K end end;bH=bH+cq-(c4 and 1 or 0)cp=false elseif not c4 or cp then local W=aF[c4 and cv-1 or cv]cg=cg+1;cf[cg]=W;ch[W]=(ch[W]or 0)+1;bH=bH+1 else cp=true;bH=bH+1 end end;cg=cg+1;cf[cg]=256;ch[256]=(ch[256]or 0)+1;return cf,cl,ch,ci,cn,ck end;local function cL(ch,ck)local cM,cN,bL=bu(ch,15,285)local cO,cP,bN=bu(ck,15,29)local cQ,bS,cR=bJ(cM,bL,cO,bN)local cS,cT=bu(cR,7,18)local cU=0;for K=1,19 do local bs=B[K]local cV=cS[bs]or 0;if cV~=0 then cU=K end end;cU=cU-4;local cW=bL+1-257;local cX=bN+1-1;if cX<0 then cX=0 end;return cW,cX,cU,cS,cT,cQ,bS,cM,cN,cO,cP end;local function cY(cf,ci,cU,cS,cQ,cM,cO)local cZ=17;cZ=cZ+(cU+4)*3;for K=1,#cQ do local W=cQ[K]cZ=cZ+cS[W]if W>=16 then cZ=cZ+(W==16 and 2 or(W==17 and 3 or 7))end end;local c_=0;for K=1,#cf do local W=cf[K]local d0=cM[W]cZ=cZ+d0;if W>256 then c_=c_+1;if W>264 and W<285 then local d1=y[W-256]cZ=cZ+d1 end;local cH=ci[c_]local d2=cO[cH]cZ=cZ+d2;if cH>3 then local cI=(cH-cH%2)/2-1;cZ=cZ+cI end end end;return cZ end;local function d3(b1,d4,cf,cl,ci,cn,cW,cX,cU,cS,cT,cQ,bS,cM,cN,cO,cP)b1(d4 and 1 or 0,1)b1(2,2)b1(cW,5)b1(cX,5)b1(cU,4)for K=1,cU+4 do local bs=B[K]local cV=cS[bs]or 0;b1(cV,3)end;local d5=1;for K=1,#cQ do local W=cQ[K]b1(cT[W],cS[W])if W>=16 then local d6=bS[d5]b1(d6,W==16 and 2 or(W==17 and 3 or 7))d5=d5+1 end end;local c_=0;local d7=0;local d8=0;for K=1,#cf do local d9=cf[K]local bp=cN[d9]local d0=cM[d9]b1(bp,d0)if d9>256 then c_=c_+1;if d9>264 and d9<285 then d7=d7+1;local da=cl[d7]local d1=y[d9-256]b1(da,d1)end;local db=ci[c_]local dc=cP[db]local d2=cO[db]b1(dc,d2)if db>3 then d8=d8+1;local cJ=cn[d8]local cI=(db-db%2)/2-1;b1(cJ,cI)end end end end;local function dd(cf,ci)local cZ=3;local c_=0;for K=1,#cf do local W=cf[K]local d0=E[W]cZ=cZ+d0;if W>256 then c_=c_+1;if W>264 and W<285 then local d1=y[W-256]cZ=cZ+d1 end;local cH=ci[c_]cZ=cZ+5;if cH>3 then local cI=(cH-cH%2)/2-1;cZ=cZ+cI end end end;return cZ end;local function de(b1,d4,cf,cl,ci,cn)b1(d4 and 1 or 0,1)b1(1,2)local c_=0;local d7=0;local d8=0;for K=1,#cf do local df=cf[K]local bp=C[df]local d0=E[df]b1(bp,d0)if df>256 then c_=c_+1;if df>264 and df<285 then d7=d7+1;local da=cl[d7]local d1=y[df-256]b1(da,d1)end;local cH=ci[c_]local dc=G[cH]b1(dc,5)if cH>3 then d8=d8+1;local cJ=cn[d8]local cI=(cH-cH%2)/2-1;b1(cJ,cI)end end end end;local function dg(c1,c2,aZ)assert(c2-c1+1<=65535)local cZ=3;aZ=aZ+3;local b6=(8-aZ%8)%8;cZ=cZ+b6;cZ=cZ+32;cZ=cZ+(c2-c1+1)*8;return cZ end;local function dh(b1,b3,d4,ag,c1,c2,aZ)assert(c2-c1+1<=65535)b1(d4 and 1 or 0,1)b1(0,2)aZ=aZ+3;local b6=(8-aZ%8)%8;if b6>0 then b1(o[b6]-1,b6)end;local di=c2-c1+1;b1(di,16)local dj=255-di%256+(255-(di-di%256)/256)*256;b1(dj,16)b3(ag:sub(c1,c2))end;local function dk(aN,b1,b3,b4,ag,aE)local aF={}local aG={}local d4=nil;local c1;local c2;local dl;local aZ=b4(aU)local ah=#ag;local bZ;local c0;local dm;if aN then if aN.level then c0=aN.level end;if aN.strategy then dm=aN.strategy end end;if not c0 then if ah<2048 then c0=7 elseif ah>65536 then c0=3 else c0=5 end end;while not d4 do if not c1 then c1=1;c2=64*1024-1;bZ=0 else c1=c2+1;c2=c2+32*1024;bZ=c1-32*1024-1 end;if c2>=ah then c2=ah;d4=true else d4=false end;local cf,cl,ch,ci,cn,ck;local cW,cX,cU,cS,cT,cQ,bS,cM,cN,cO,cP;local dn;local dp;local dq;if c0~=0 then bW(ag,aF,c1,c2+3,bZ)if c1==1 and aE then local cc=aE.string_table;local dr=aE.strlen;for K=0,-dr+1<-257 and-257 or-dr+1,-1 do aF[K]=cc[dr+K]end end;if dm==\"huffman_only\"then cf={}bW(ag,cf,c1,c2,c1-1)cl={}ch={}cf[c2-c1+2]=256;for K=1,c2-c1+2 do local W=cf[K]ch[W]=(ch[W]or 0)+1 end;ci={}cn={}ck={}else cf,cl,ch,ci,cn,ck=b_(c0,aF,aG,c1,c2,bZ,aE)end;cW,cX,cU,cS,cT,cQ,bS,cM,cN,cO,cP=cL(ch,ck)dn=cY(cf,ci,cU,cS,cQ,cM,cO)dp=dd(cf,ci)end;dq=dg(c1,c2,aZ)local ds=dq;ds=dp and dp<ds and dp or ds;ds=dn and dn<ds and dn or ds;if c0==0 or dm~=\"fixed\"and dm~=\"dynamic\"and dq==ds then dh(b1,b3,d4,ag,c1,c2,aZ)aZ=aZ+dq elseif dm~=\"dynamic\"and(dm==\"fixed\"or dp==ds)then de(b1,d4,cf,cl,ci,cn)aZ=aZ+dp elseif dm==\"dynamic\"or dn==ds then d3(b1,d4,cf,cl,ci,cn,cW,cX,cU,cS,cT,cQ,bS,cM,cN,cO,cP)aZ=aZ+dn end;if d4 then dl=b4(aU)else dl=b4(aR)end;assert(dl==aZ)if not d4 then local M;if aE and c1==1 then M=0;while aF[M]do aF[M]=nil;M=M-1 end end;aE=nil;M=1;for K=c2-32767,c2 do aF[M]=aF[K-bZ]M=M+1 end;for a6,V in pairs(aG)do local dt=#V;if dt>0 and c2+1-V[1]>32768 then if dt==1 then aG[a6]=nil else local du={}local dv=0;for K=2,dt do M=V[K]if c2+1-M<=32768 then dv=dv+1;du[dv]=M end end;aG[a6]=du end end end end end end;local function dw(ag,aE,aN)local b1,b3,b4=aV()dk(aN,b1,b3,b4,ag,aE)local aZ,dx=b4(aS)local b6=(8-aZ%8)%8;return dx,b6 end;local function dy(ag,aE,aN)local b1,b3,b4=aV()local dz=8;local dA=7;local dB=dA*16+dz;b1(dB,8)local dC=aE and 1 or 0;local dD=2;local dE=dD*64+dC*32;local dF=31-(dB*256+dE)%31;dE=dE+dF;b1(dE,8)if dC==1 then local aC=aE.adler32;local dG=aC%256;aC=(aC-dG)/256;local dH=aC%256;aC=(aC-dH)/256;local dI=aC%256;aC=(aC-dI)/256;local dJ=aC%256;b1(dJ,8)b1(dI,8)b1(dH,8)b1(dG,8)end;dk(aN,b1,b3,b4,ag,aE)b4(aT)local aC=a:Adler32(ag)local dJ=aC%256;aC=(aC-dJ)/256;local dI=aC%256;aC=(aC-dI)/256;local dH=aC%256;aC=(aC-dH)/256;local dG=aC%256;b1(dG,8)b1(dH,8)b1(dI,8)b1(dJ,8)local aZ,dx=b4(aS)local b6=(8-aZ%8)%8;return dx,b6 end;function a:CompressDeflate(ag,aN)local dK,dL=aK(ag,false,nil,true,aN)if not dK then error(\"Usage: LibDeflate:CompressDeflate(str, configs): \"..dL,2)end;return dw(ag,nil,aN)end;function a:CompressDeflateWithDict(ag,aE,aN)local dK,dL=aK(ag,true,aE,true,aN)if not dK then error(\"Usage: LibDeflate:CompressDeflateWithDict\"..\"(str, dictionary, configs): \"..dL,2)end;return dw(ag,aE,aN)end;function a:CompressZlib(ag,aN)local dK,dL=aK(ag,false,nil,true,aN)if not dK then error(\"Usage: LibDeflate:CompressZlib(str, configs): \"..dL,2)end;return dy(ag,nil,aN)end;function a:CompressZlibWithDict(ag,aE,aN)local dK,dL=aK(ag,true,aE,true,aN)if not dK then error(\"Usage: LibDeflate:CompressZlibWithDict\"..\"(str, dictionary, configs): \"..dL,2)end;return dy(ag,aE,aN)end;local function ab(dM,R)return Y(a1(dM,R*8),0xFF)end;function a:CompressGzip(ag,aN)local dK,dL=aK(ag,false,nil,true,aN)if not dK then error(\"Usage: LibDeflate:CompressGzip(str, configs): \"..dL,2)end;local dN,dO=dw(ag,nil,aN)if dN==nil then return dN,dO end;local V=os.time()local dP=0;local a9=self:CRC32(ag)local U=string.len(ag)if aN~=nil and aN.level~=nil then if aN.level==0 then dP=0x04 elseif aN.level==9 then dP=0x02 end end;return i(0x1f,0x8b,8,0,ab(V,0),ab(V,1),ab(V,2),ab(V,3),dP,0xFF)..dN..i(ab(a9,0),ab(a9,1),ab(a9,2),ab(a9,3),ab(U,0),ab(U,1),ab(U,2),ab(U,3))end;local function dQ(dR)local dS=dR;local dT=#dR;local dU=1;local aY=0;local aX=0;local function dV(T)local b2=o[T]local W;if T<=aY then W=aX%b2;aX=(aX-W)/b2;aY=aY-T else local dW=o[aY]local dH,dI,dJ,dX=h(dS,dU,dU+3)aX=aX+((dH or 0)+(dI or 0)*256+(dJ or 0)*65536+(dX or 0)*16777216)*dW;dU=dU+4;aY=aY+32-T;W=aX%b2;aX=(aX-W)/b2 end;return W end;local function dY(dZ,a_,aW)assert(aY%8==0)local d_=aY/8<dZ and aY/8 or dZ;for P=1,d_ do local ab=aX%256;aW=aW+1;a_[aW]=i(ab)aX=(aX-ab)/256 end;aY=aY-d_*8;dZ=dZ-d_;if(dT-dU-dZ+1)*8+aY<0 then return-1 end;for K=dU,dU+dZ-1 do aW=aW+1;a_[aW]=l(dS,K,K)end;dU=dU+dZ;return aW end;local function e0(e1,e2,ds)local W=0;local e3=0;local bH=0;local bA;if ds>0 then if aY<15 and dS then local dW=o[aY]local dH,dI,dJ,dX=h(dS,dU,dU+3)aX=aX+((dH or 0)+(dI or 0)*256+(dJ or 0)*65536+(dX or 0)*16777216)*dW;dU=dU+4;aY=aY+32 end;local b2=o[ds]aY=aY-ds;W=aX%b2;aX=(aX-W)/b2;W=q[ds][W]bA=e1[ds]if W<bA then return e2[W]end;bH=bA;e3=bA*2;W=W*2 end;for T=ds+1,15 do local e4;e4=aX%2;aX=(aX-e4)/2;aY=aY-1;W=e4==1 and W+1-W%2 or W;bA=e1[T]or 0;local e5=W-e3;if e5<bA then return e2[bH+e5]end;bH=bH+bA;e3=e3+bA;e3=e3*2;W=W*2 end;return-10 end;local function e6()return(dT-dU+1)*8+aY end;local function e7()local e8=aY%8;local b2=o[e8]aY=aY-e8;aX=(aX-aX%b2)/b2 end;return dV,dY,e0,e6,e7 end;local function e9(ag,aE)local dV,dY,e0,e6,e7=dQ(ag)local ea={ReadBits=dV,ReadBytes=dY,Decode=e0,ReaderBitlenLeft=e6,SkipToByteBoundary=e7,buffer_size=0,buffer={},result_buffer={},dictionary=aE}return ea end;local function eb(ec,bn,bo)local e1={}local ds=bo;for bs=0,bn do local T=ec[bs]or 0;ds=T>0 and T<ds and T or ds;e1[T]=(e1[T]or 0)+1 end;if e1[0]==bn+1 then return 0,e1,{},0 end;local ed=1;for U=1,bo do ed=ed*2;ed=ed-(e1[U]or 0)if ed<0 then return ed end end;local ee={}ee[1]=0;for U=1,bo-1 do ee[U+1]=ee[U]+(e1[U]or 0)end;local e2={}for bs=0,bn do local T=ec[bs]or 0;if T~=0 then local bZ=ee[T]e2[bZ]=bs;ee[T]=ee[T]+1 end end;return ed,e1,e2,ds end;local function ef(ea,cM,eg,eh,cO,ei,ej)local a_,aW,dV,e0,e6,b0=ea.buffer,ea.buffer_size,ea.ReadBits,ea.Decode,ea.ReaderBitlenLeft,ea.result_buffer;local aE=ea.dictionary;local cc;local dr;local ek=1;if aE and not a_[0]then cc=aE.string_table;dr=aE.strlen;ek=-dr+1;for K=0,-dr+1<-257 and-257 or-dr+1,-1 do a_[K]=p[cc[dr+K]]end end;repeat local bs=e0(cM,eg,eh)if bs<0 or bs>285 then return-10 elseif bs<256 then aW=aW+1;a_[aW]=p[bs]elseif bs>256 then bs=bs-256;local T=x[bs]T=bs>=8 and T+dV(y[bs])or T;bs=e0(cO,ei,ej)if bs<0 or bs>29 then return-10 end;local X=z[bs]X=X>4 and X+dV(A[bs])or X;local el=aW-X+1;if el<ek then return-11 end;if el>=-257 then for P=1,T do aW=aW+1;a_[aW]=a_[el]el=el+1 end else el=dr+el;for P=1,T do aW=aW+1;a_[aW]=p[cc[el]]el=el+1 end end end;if e6()<0 then return 2 end;if aW>=65536 then b0[#b0+1]=m(a_,\"\",1,32768)for K=32769,aW do a_[K-32768]=a_[K]end;aW=aW-32768;a_[aW+1]=nil end until bs==256;ea.buffer_size=aW;return 0 end;local function em(ea)local a_,aW,dV,dY,e6,e7,b0=ea.buffer,ea.buffer_size,ea.ReadBits,ea.ReadBytes,ea.ReaderBitlenLeft,ea.SkipToByteBoundary,ea.result_buffer;e7()local dZ=dV(16)if e6()<0 then return 2 end;local en=dV(16)if e6()<0 then return 2 end;if dZ%256+en%256~=255 then return-2 end;if(dZ-dZ%256)/256+(en-en%256)/256~=255 then return-2 end;aW=dY(dZ,a_,aW)if aW<0 then return 2 end;if aW>=65536 then b0[#b0+1]=m(a_,\"\",1,32768)for K=32769,aW do a_[K-32768]=a_[K]end;aW=aW-32768;a_[aW+1]=nil end;ea.buffer_size=aW;return 0 end;local function eo(ea)return ef(ea,F,D,7,J,H,5)end;local function ep(ea)local dV,e0=ea.ReadBits,ea.Decode;local eq=dV(5)+257;local er=dV(5)+1;local es=dV(4)+4;if eq>286 or er>30 then return-3 end;local cS={}for K=1,es do cS[B[K]]=dV(3)end;local et,eu,ev,ew=eb(cS,18,7)if et~=0 then return-4 end;local cM={}local cO={}local bH=0;while bH<eq+er do local bs;local T;bs=e0(eu,ev,ew)if bs<0 then return bs elseif bs<16 then if bH<eq then cM[bH]=bs else cO[bH-eq]=bs end;bH=bH+1 else T=0;if bs==16 then if bH==0 then return-5 end;if bH-1<eq then T=cM[bH-1]else T=cO[bH-eq-1]end;bs=3+dV(2)elseif bs==17 then bs=3+dV(3)else bs=11+dV(7)end;if bH+bs>eq+er then return-6 end;while bs>0 do bs=bs-1;if bH<eq then cM[bH]=T else cO[bH-eq]=T end;bH=bH+1 end end end;if(cM[256]or 0)==0 then return-9 end;local ex,ey,eg,eh=eb(cM,eq-1,15)if ex~=0 and(ex<0 or eq~=(ey[0]or 0)+(ey[1]or 0))then return-7 end;local ez,eA,ei,ej=eb(cO,er-1,15)if ez~=0 and(ez<0 or er~=(eA[0]or 0)+(eA[1]or 0))then return-8 end;return ef(ea,ey,eg,eh,eA,ei,ej)end;local function eB(ea)local dV=ea.ReadBits;local d4;while not d4 do d4=dV(1)==1;local eC=dV(2)local eD;if eC==0 then eD=em(ea)elseif eC==1 then eD=eo(ea)elseif eC==2 then eD=ep(ea)else return nil,-1 end;if eD~=0 then return nil,eD end end;ea.result_buffer[#ea.result_buffer+1]=m(ea.buffer,\"\",1,ea.buffer_size)local dx=m(ea.result_buffer)return dx end;local function eE(ag,aE)local ea=e9(ag,aE)local dx,eD=eB(ea)if not dx then return nil,eD end;local eF=ea.ReaderBitlenLeft()local eG=(eF-eF%8)/8;return dx,eG end;local function eH(ag,aE)local ea=e9(ag,aE)local dV=ea.ReadBits;local dB=dV(8)if ea.ReaderBitlenLeft()<0 then return nil,2 end;local dz=dB%16;local dA=(dB-dz)/16;if dz~=8 then return nil,-12 end;if dA>7 then return nil,-13 end;local dE=dV(8)if ea.ReaderBitlenLeft()<0 then return nil,2 end;if(dB*256+dE)%31~=0 then return nil,-14 end;local dC=(dE-dE%32)/32%2;local dD=(dE-dE%64)/64%4;if dC==1 then if not aE then return nil,-16 end;local dJ=dV(8)local dI=dV(8)local dH=dV(8)local dG=dV(8)local aD=dJ*16777216+dI*65536+dH*256+dG;if ea.ReaderBitlenLeft()<0 then return nil,2 end;if not az(aD,aE.adler32)then return nil,-17 end end;local dx,eD=eB(ea)if not dx then return nil,eD end;ea.SkipToByteBoundary()local eI=dV(8)local eJ=dV(8)local eK=dV(8)local eL=dV(8)if ea.ReaderBitlenLeft()<0 then return nil,2 end;local eM=eI*16777216+eJ*65536+eK*256+eL;local eN=a:Adler32(dx)if not az(eM,eN)then return nil,-15 end;local eF=ea.ReaderBitlenLeft()local eG=(eF-eF%8)/8;return dx,eG end;function a:DecompressDeflate(ag)local dK,dL=aK(ag)if not dK then error(\"Usage: LibDeflate:DecompressDeflate(str): \"..dL,2)end;return eE(ag)end;function a:DecompressDeflateWithDict(ag,aE)local dK,dL=aK(ag,true,aE)if not dK then error(\"Usage: LibDeflate:DecompressDeflateWithDict(str, dictionary): \"..dL,2)end;return eE(ag,aE)end;function a:DecompressZlib(ag)local dK,dL=aK(ag)if not dK then error(\"Usage: LibDeflate:DecompressZlib(str): \"..dL,2)end;return eH(ag)end;function a:DecompressZlibWithDict(ag,aE)local dK,dL=aK(ag,true,aE)if not dK then error(\"Usage: LibDeflate:DecompressZlibWithDict(str, dictionary): \"..dL,2)end;return eH(ag,aE)end;function a:DecompressGzip(ag)local dK,dL=aK(ag)if not dK then error(\"Usage: LibDeflate:DecompressGzip(str): \"..dL,2)end;if h(string.sub(ag,1,1))~=31 or h(string.sub(ag,2,2))~=139 then return nil,-1 end;if Y(h(string.sub(ag,4,4)),0xE0)~=0 then return nil,-3 end;if h(string.sub(ag,3,3))~=8 then return nil,-4 end;local bZ=10;if Y(h(string.sub(ag,4,4)),4)==4 then bZ=bZ+h(string.sub(ag,11,11))*256+h(string.sub(ag,12,12))end;if Y(h(string.sub(ag,4,4)),8)==8 then while h(string.sub(ag,bZ,bZ))~=0 do bZ=bZ+1 end end;if Y(h(string.sub(ag,4,4)),16)==16 then while h(string.sub(ag,bZ,bZ))~=0 do bZ=bZ+1 end end;if Y(h(string.sub(ag,4,4)),2)==2 then local eO=h(string.sub(ag,bZ+1,bZ+1))*256+h(string.sub(ag,bZ,bZ))local eP=Y(self:CRC32(string.sub(ag,1,bZ-1)),0xFFFF)if _(eO,eP)~=0xFFFF then return nil,-5 end;bZ=bZ+2 end;local dN,dO=eE(string.sub(ag,bZ+1,-8))if dN==nil then return dN,dO end;local eO=h(string.sub(ag,-5,-5))*0x1000000+h(string.sub(ag,-6,-6))*0x10000+h(string.sub(ag,-7,-7))*256+h(string.sub(ag,-8,-8))eO=Z(eO)local eP=self:CRC32(dN)if _(eO,eP)~=0xFFFFFFFF then return nil,-2 end;return dN end;do E={}for eQ=0,143 do E[eQ]=8 end;for eQ=144,255 do E[eQ]=9 end;for eQ=256,279 do E[eQ]=7 end;for eQ=280,287 do E[eQ]=8 end;I={}for X=0,31 do I[X]=5 end;local eD;eD,F,D=eb(E,287,9)assert(eD==0)eD,J,H=eb(I,31,5)assert(eD==0)C=bk(F,E,287,9)G=bk(J,I,31,5)end;a.internals={LoadStringToTable=bW,IsValidDictionary=aI,IsEqualAdler32=az,_byte_to_6bit_char=_byte_to_6bit_char,_6bit_to_byte=_6bit_to_byte,InternalClearCache=InternalClearCache}return a\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=27630},["sha2.lua"]={created=1688258013386,type="file",modified=1688258013013,data="local a=false;local unpack,b,c,d,e,f,g,h,i,j,k,l,m,tonumber,type,n=table.unpack or unpack,table.concat,string.byte,string.char,string.rep,string.sub,string.gsub,string.gmatch,string.format,math.floor,math.ceil,math.min,math.max,tonumber,type,math.huge;local function o(p)local q,r,s,t=0,p,p;while true do q,t,r,s=q+1,r,r+r+1,s+s+q%2;if q>256 or r-(r-1)~=1 or s-(s-1)~=1 or r==s then return q,false elseif r==t then return q,true end end end;local u=2/3;local v=u*5>3 and u*4<3 and o(1.0)>=53;assert(v,\"at least 53-bit floating point numbers are required\")local w,x=o(1)local y=x and w==64;local z=x and w==32;assert(y or z or not x,\"Lua integers must be either 32-bit or 64-bit\")local A=({false,[1]=true})[1]and _VERSION~=\"Luau\"and(type(jit)~=\"table\"or jit.version_num>=20000)local B;local C;local D;local E;local F;if A then E=require\"bit\"F=\"bit\"local G,H=pcall(require,\"ffi\")if G then D=H end;B=not not loadstring\"b=0b0\"C=type(jit)==\"table\"and jit.arch or D and D.arch or nil else for I,J in ipairs(_VERSION==\"Lua 5.2\"and{\"bit32\",\"bit\"}or{\"bit\",\"bit32\"})do if type(_G[J])==\"table\"and _G[J].bxor then E=_G[J]F=J;break end end end;if a then print(\"Abilities:\")print(\"   Lua version:               \"..(A and\"LuaJIT \"..(B and\"2.1 \"or\"2.0 \")..(C or\"\")..(D and\" with FFI\"or\" without FFI\")or _VERSION))print(\"   Integer bitwise operators: \"..(y and\"int64\"or z and\"int32\"or\"no\"))print(\"   32-bit bitwise library:    \"..(F or\"not found\"))end;local K,L;if A and D then K=\"Using 'ffi' library of LuaJIT\"L=\"FFI\"elseif A then K=\"Using special code for sandboxed LuaJIT (no FFI)\"L=\"LJ\"elseif F then K=\"Using '\"..F..\"' library\"L=\"LIB32\"else K=\"Emulating bitwise operators using look-up table\"L=\"EMUL\"end;if a then print(\"Implementation selected:\")print(\"   \"..K)end;local M,N,O,P,Q,R,S,T,U,V,W;if L==\"FFI\"or L==\"LJ\"or L==\"LIB32\"then M=E.band;N=E.bor;O=E.bxor;P=E.lshift;Q=E.rshift;R=E.rol or E.lrotate;S=E.ror or E.rrotate;T=E.bnot;U=E.tobit;V=E.tohex;assert(M and N and O and P and Q and R and S and T,\"Library '\"..F..\"' is incomplete\")W=O end;V=V or pcall(i,\"%x\",2^31)and function(u)return i(\"%08x\",u%4294967296)end or function(u)return i(\"%08x\",(u+2^31)%2^32-2^31)end;local function X(u,Y)return O(u,Y or 0xA5A5A5A5)%4294967296 end;local function Z()return{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}end;local _,a0,a1,a2,a3,a4,a5,a6;local a7,a8,a9,aa,ab,ac={},{},{},{},{},{}local ad={[224]={},[256]=aa}local ae,af={[384]={},[512]=a9},{[384]={},[512]=aa}local ag,ah={},{0x67452301,0xEFCDAB89,0x98BADCFE,0x10325476,0xC3D2E1F0}local ai={0,0,0,0,0,0,0,0,28,25,26,27,0,0,10,9,11,12,0,15,16,17,18,0,20,22,23,21}local aj,ak;local al={}local am,an,ao=al,al,{}local ap,aq,ar=4294967296,0,0;local as={{1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16},{15,11,5,9,10,16,14,7,2,13,1,3,12,8,6,4},{12,9,13,1,6,3,16,14,11,15,4,7,8,2,10,5},{8,10,4,2,14,13,12,15,3,7,6,11,5,1,16,9},{10,1,6,8,3,5,11,16,15,2,12,13,7,9,4,14},{3,13,7,11,1,12,9,4,5,14,8,6,16,15,2,10},{13,6,2,16,15,14,5,11,1,8,7,4,10,3,9,12},{14,12,8,15,13,2,4,10,6,1,16,5,9,7,3,11},{7,16,15,10,12,4,1,9,13,3,14,8,2,5,11,6},{11,3,9,5,8,7,2,6,16,12,10,15,4,13,14,1}}as[11],as[12]=as[1],as[2]local at={1,3,4,11,13,10,12,6,1,3,4,11,13,10,2,7,5,8,14,15,16,9,2,7,5,8,14,15}local function au(av)local aw={}for I,ax in ipairs{1,9,13,17,18,21}do aw[ax]=\"<\"..e(av,ax)end;return aw end;if L==\"FFI\"then local ay=D.new(\"int32_t[?]\",80)an=ay;ao=D.new(\"int32_t[?]\",16)at=D.new(\"uint8_t[?]\",#at+1,0,unpack(at))for az=1,10 do as[az]=D.new(\"uint8_t[?]\",#as[az]+1,0,unpack(as[az]))end;as[11],as[12]=as[1],as[2]function _(aA,aB,aC,ax)local aD,aE=ay,a8;for aF=aC,aC+ax-1,64 do for az=0,15 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=N(P(aG,24),P(E,16),P(aH,8),aI)end;for az=16,63 do local aG,E=aD[az-15],aD[az-2]aD[az]=U(O(S(aG,7),R(aG,14),Q(aG,3))+O(R(E,15),R(E,13),Q(E,10))+aD[az-7]+aD[az-16])end;local aG,E,aH,aI,aJ,aK,aL,aM=aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]for az=0,63,8 do local aN=U(O(aL,M(aJ,O(aK,aL)))+O(S(aJ,6),S(aJ,11),R(aJ,7))+aD[az]+aE[az+1]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(aL,M(aJ,O(aK,aL)))+O(S(aJ,6),S(aJ,11),R(aJ,7))+aD[az+1]+aE[az+2]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(aL,M(aJ,O(aK,aL)))+O(S(aJ,6),S(aJ,11),R(aJ,7))+aD[az+2]+aE[az+3]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(aL,M(aJ,O(aK,aL)))+O(S(aJ,6),S(aJ,11),R(aJ,7))+aD[az+3]+aE[az+4]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(aL,M(aJ,O(aK,aL)))+O(S(aJ,6),S(aJ,11),R(aJ,7))+aD[az+4]+aE[az+5]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(aL,M(aJ,O(aK,aL)))+O(S(aJ,6),S(aJ,11),R(aJ,7))+aD[az+5]+aE[az+6]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(aL,M(aJ,O(aK,aL)))+O(S(aJ,6),S(aJ,11),R(aJ,7))+aD[az+6]+aE[az+7]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(aL,M(aJ,O(aK,aL)))+O(S(aJ,6),S(aJ,11),R(aJ,7))+aD[az+7]+aE[az+8]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)end;aA[1],aA[2],aA[3],aA[4]=U(aG+aA[1]),U(E+aA[2]),U(aH+aA[3]),U(aI+aA[4])aA[5],aA[6],aA[7],aA[8]=U(aJ+aA[5]),U(aK+aA[6]),U(aL+aA[7]),U(aM+aA[8])end end;local aO=D.new(\"int64_t[?]\",80)am=aO;local aP=D.typeof\"int64_t\"local aQ=D.typeof\"int32_t\"local aR=D.typeof\"uint32_t\"aq=aP(2^32)if B then local aS,aT,aU,aV,aW,aX,aY,aZ=M,N,O,T,P,Q,R,S;aj=V;do local a_=D.new(\"int64_t[?]\",16)local aD=am;local function b0(aG,E,aH,aI,b1,b2)local b3,b4,b5,b6=a_[aG],a_[E],a_[aH],a_[aI]b3=aD[b1]+b3+b4;b6=aZ(aU(b6,b3),32)b5=b5+b6;b4=aZ(aU(b4,b5),24)b3=aD[b2]+b3+b4;b6=aZ(aU(b6,b3),16)b5=b5+b6;b4=aY(aU(b4,b5),1)a_[aG],a_[E],a_[aH],a_[aI]=b3,b4,b5,b6 end;function a5(aA,I,aB,aC,ax,b7,b8,b9)local ba,bb,bc,bd,be,bf,bg,bh=aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]for aF=aC,aC+ax-1,128 do if aB then for az=1,16 do aF=aF+8;local aG,E,aH,aI,aJ,aK,aL,aM=c(aB,aF-7,aF)aD[az]=aU(N(P(aM,24),P(aL,16),P(aK,8),aJ)*aP(2^32),aR(aQ(N(P(aI,24),P(aH,16),P(E,8),aG))))end end;a_[0x0],a_[0x1],a_[0x2],a_[0x3],a_[0x4],a_[0x5],a_[0x6],a_[0x7]=ba,bb,bc,bd,be,bf,bg,bh;a_[0x8],a_[0x9],a_[0xA],a_[0xB],a_[0xD],a_[0xE],a_[0xF]=a9[1],a9[2],a9[3],a9[4],a9[6],a9[7],a9[8]b7=b7+(b8 or 128)a_[0xC]=aU(a9[5],b7)if b8 then a_[0xE]=aV(a_[0xE])end;if b9 then a_[0xF]=aV(a_[0xF])end;for az=1,12 do local bi=as[az]b0(0,4,8,12,bi[1],bi[2])b0(1,5,9,13,bi[3],bi[4])b0(2,6,10,14,bi[5],bi[6])b0(3,7,11,15,bi[7],bi[8])b0(0,5,10,15,bi[9],bi[10])b0(1,6,11,12,bi[11],bi[12])b0(2,7,8,13,bi[13],bi[14])b0(3,4,9,14,bi[15],bi[16])end;ba=aU(ba,a_[0x0],a_[0x8])bb=aU(bb,a_[0x1],a_[0x9])bc=aU(bc,a_[0x2],a_[0xA])bd=aU(bd,a_[0x3],a_[0xB])be=aU(be,a_[0x4],a_[0xC])bf=aU(bf,a_[0x5],a_[0xD])bg=aU(bg,a_[0x6],a_[0xE])bh=aU(bh,a_[0x7],a_[0xF])end;aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]=ba,bb,bc,bd,be,bf,bg,bh;return b7 end end;local bj=D.typeof\"int64_t[?]\"ak=0;ar=aP(2^32)function Z()return bj(30)end;function a3(bk,I,aB,aC,ax,bl)local bm=ab;local bn=Q(bl,3)for aF=aC,aC+ax-1,bl do for az=0,bn-1 do aF=aF+8;local aM,aL,aK,aJ,aI,aH,E,aG=c(aB,aF-7,aF)bk[az]=aU(bk[az],aT(N(P(aG,24),P(E,16),P(aH,8),aI)*aP(2^32),aR(aQ(N(P(aJ,24),P(aK,16),P(aL,8),aM)))))end;for bo=1,24 do for az=0,4 do bk[25+az]=aU(bk[az],bk[az+5],bk[az+10],bk[az+15],bk[az+20])end;local bp=aU(bk[25],aY(bk[27],1))bk[1],bk[6],bk[11],bk[16]=aY(aU(bp,bk[6]),44),aY(aU(bp,bk[16]),45),aY(aU(bp,bk[1]),1),aY(aU(bp,bk[11]),10)bk[21]=aY(aU(bp,bk[21]),2)bp=aU(bk[26],aY(bk[28],1))bk[2],bk[7],bk[12],bk[22]=aY(aU(bp,bk[12]),43),aY(aU(bp,bk[22]),61),aY(aU(bp,bk[7]),6),aY(aU(bp,bk[2]),62)bk[17]=aY(aU(bp,bk[17]),15)bp=aU(bk[27],aY(bk[29],1))bk[3],bk[8],bk[18],bk[23]=aY(aU(bp,bk[18]),21),aY(aU(bp,bk[3]),28),aY(aU(bp,bk[23]),56),aY(aU(bp,bk[8]),55)bk[13]=aY(aU(bp,bk[13]),25)bp=aU(bk[28],aY(bk[25],1))bk[4],bk[14],bk[19],bk[24]=aY(aU(bp,bk[24]),14),aY(aU(bp,bk[19]),8),aY(aU(bp,bk[4]),27),aY(aU(bp,bk[14]),39)bk[9]=aY(aU(bp,bk[9]),20)bp=aU(bk[29],aY(bk[26],1))bk[5],bk[10],bk[15],bk[20]=aY(aU(bp,bk[10]),3),aY(aU(bp,bk[20]),18),aY(aU(bp,bk[5]),36),aY(aU(bp,bk[15]),41)bk[0]=aU(bp,bk[0])bk[0],bk[1],bk[2],bk[3],bk[4]=aU(bk[0],aS(aV(bk[1]),bk[2]),bm[bo]),aU(bk[1],aS(aV(bk[2]),bk[3])),aU(bk[2],aS(aV(bk[3]),bk[4])),aU(bk[3],aS(aV(bk[4]),bk[0])),aU(bk[4],aS(aV(bk[0]),bk[1]))bk[5],bk[6],bk[7],bk[8],bk[9]=aU(bk[8],aS(aV(bk[9]),bk[5])),aU(bk[9],aS(aV(bk[5]),bk[6])),aU(bk[5],aS(aV(bk[6]),bk[7])),aU(bk[6],aS(aV(bk[7]),bk[8])),aU(bk[7],aS(aV(bk[8]),bk[9]))bk[10],bk[11],bk[12],bk[13],bk[14]=aU(bk[11],aS(aV(bk[12]),bk[13])),aU(bk[12],aS(aV(bk[13]),bk[14])),aU(bk[13],aS(aV(bk[14]),bk[10])),aU(bk[14],aS(aV(bk[10]),bk[11])),aU(bk[10],aS(aV(bk[11]),bk[12]))bk[15],bk[16],bk[17],bk[18],bk[19]=aU(bk[19],aS(aV(bk[15]),bk[16])),aU(bk[15],aS(aV(bk[16]),bk[17])),aU(bk[16],aS(aV(bk[17]),bk[18])),aU(bk[17],aS(aV(bk[18]),bk[19])),aU(bk[18],aS(aV(bk[19]),bk[15]))bk[20],bk[21],bk[22],bk[23],bk[24]=aU(bk[22],aS(aV(bk[23]),bk[24])),aU(bk[23],aS(aV(bk[24]),bk[20])),aU(bk[24],aS(aV(bk[20]),bk[21])),aU(bk[20],aS(aV(bk[21]),bk[22])),aU(bk[21],aS(aV(bk[22]),bk[23]))end end end;local bq=0xA5A5A5A5*aP(2^32+1)function X(br,bs)return aU(br,bs or bq)end;function a0(aA,I,aB,aC,ax)local aD,aE=aO,a7;for aF=aC,aC+ax-1,128 do for az=0,15 do aF=aF+8;local aG,E,aH,aI,aJ,aK,aL,aM=c(aB,aF-7,aF)aD[az]=aT(N(P(aG,24),P(E,16),P(aH,8),aI)*aP(2^32),aR(aQ(N(P(aJ,24),P(aK,16),P(aL,8),aM))))end;for az=16,79 do local aG,E=aD[az-15],aD[az-2]aD[az]=aU(aZ(aG,1),aZ(aG,8),aX(aG,7))+aU(aZ(E,19),aY(E,3),aX(E,6))+aD[az-7]+aD[az-16]end;local aG,E,aH,aI,aJ,aK,aL,aM=aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]for az=0,79,8 do local aN=aU(aZ(aJ,14),aZ(aJ,18),aY(aJ,23))+aU(aL,aS(aJ,aU(aK,aL)))+aM+aE[az+1]+aD[az]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,aU(aS(aU(aG,E),aH),aS(aG,E))+aU(aZ(aG,28),aY(aG,25),aY(aG,30))+aN;aN=aU(aZ(aJ,14),aZ(aJ,18),aY(aJ,23))+aU(aL,aS(aJ,aU(aK,aL)))+aM+aE[az+2]+aD[az+1]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,aU(aS(aU(aG,E),aH),aS(aG,E))+aU(aZ(aG,28),aY(aG,25),aY(aG,30))+aN;aN=aU(aZ(aJ,14),aZ(aJ,18),aY(aJ,23))+aU(aL,aS(aJ,aU(aK,aL)))+aM+aE[az+3]+aD[az+2]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,aU(aS(aU(aG,E),aH),aS(aG,E))+aU(aZ(aG,28),aY(aG,25),aY(aG,30))+aN;aN=aU(aZ(aJ,14),aZ(aJ,18),aY(aJ,23))+aU(aL,aS(aJ,aU(aK,aL)))+aM+aE[az+4]+aD[az+3]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,aU(aS(aU(aG,E),aH),aS(aG,E))+aU(aZ(aG,28),aY(aG,25),aY(aG,30))+aN;aN=aU(aZ(aJ,14),aZ(aJ,18),aY(aJ,23))+aU(aL,aS(aJ,aU(aK,aL)))+aM+aE[az+5]+aD[az+4]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,aU(aS(aU(aG,E),aH),aS(aG,E))+aU(aZ(aG,28),aY(aG,25),aY(aG,30))+aN;aN=aU(aZ(aJ,14),aZ(aJ,18),aY(aJ,23))+aU(aL,aS(aJ,aU(aK,aL)))+aM+aE[az+6]+aD[az+5]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,aU(aS(aU(aG,E),aH),aS(aG,E))+aU(aZ(aG,28),aY(aG,25),aY(aG,30))+aN;aN=aU(aZ(aJ,14),aZ(aJ,18),aY(aJ,23))+aU(aL,aS(aJ,aU(aK,aL)))+aM+aE[az+7]+aD[az+6]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,aU(aS(aU(aG,E),aH),aS(aG,E))+aU(aZ(aG,28),aY(aG,25),aY(aG,30))+aN;aN=aU(aZ(aJ,14),aZ(aJ,18),aY(aJ,23))+aU(aL,aS(aJ,aU(aK,aL)))+aM+aE[az+8]+aD[az+7]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,aU(aS(aU(aG,E),aH),aS(aG,E))+aU(aZ(aG,28),aY(aG,25),aY(aG,30))+aN end;aA[1]=aG+aA[1]aA[2]=E+aA[2]aA[3]=aH+aA[3]aA[4]=aI+aA[4]aA[5]=aJ+aA[5]aA[6]=aK+aA[6]aA[7]=aL+aA[7]aA[8]=aM+aA[8]end end else local bt=D.new(\"union{int64_t i64; struct{int32_t \"..(D.abi(\"le\")and\"lo, hi\"or\"hi, lo\")..\";} i32;}[3]\")local function bu(aG)bt[0].i64=aG;local bv,bw=bt[0].i32.lo,bt[0].i32.hi;local bx=O(Q(bv,1),P(bw,31),Q(bv,8),P(bw,24),Q(bv,7),P(bw,25))local by=O(Q(bw,1),P(bv,31),Q(bw,8),P(bv,24),Q(bw,7))return by*aP(2^32)+aR(aQ(bx))end;local function bz(E)bt[0].i64=E;local bA,bB=bt[0].i32.lo,bt[0].i32.hi;local bC=O(Q(bA,19),P(bB,13),P(bA,3),Q(bB,29),Q(bA,6),P(bB,26))local bD=O(Q(bB,19),P(bA,13),P(bB,3),Q(bA,29),Q(bB,6))return bD*aP(2^32)+aR(aQ(bC))end;local function bE(aJ)bt[0].i64=aJ;local bF,bG=bt[0].i32.lo,bt[0].i32.hi;local bC=O(Q(bF,14),P(bG,18),Q(bF,18),P(bG,14),P(bF,23),Q(bG,9))local bD=O(Q(bG,14),P(bF,18),Q(bG,18),P(bF,14),P(bG,23),Q(bF,9))return bD*aP(2^32)+aR(aQ(bC))end;local function bH(aG)bt[0].i64=aG;local bA,bB=bt[0].i32.lo,bt[0].i32.hi;local bC=O(Q(bA,28),P(bB,4),P(bA,30),Q(bB,2),P(bA,25),Q(bB,7))local bD=O(Q(bB,28),P(bA,4),P(bB,30),Q(bA,2),P(bB,25),Q(bA,7))return bD*aP(2^32)+aR(aQ(bC))end;local function bI(aJ,aK,aL)bt[0].i64=aK;bt[1].i64=aL;bt[2].i64=aJ;local bJ,bK=bt[0].i32.lo,bt[0].i32.hi;local bL,bM=bt[1].i32.lo,bt[1].i32.hi;local bF,bG=bt[2].i32.lo,bt[2].i32.hi;local bN=O(bL,M(bF,O(bJ,bL)))local bO=O(bM,M(bG,O(bK,bM)))return bO*aP(2^32)+aR(aQ(bN))end;local function bP(aG,E,aH)bt[0].i64=aG;bt[1].i64=E;bt[2].i64=aH;local bv,bw=bt[0].i32.lo,bt[0].i32.hi;local bA,bB=bt[1].i32.lo,bt[1].i32.hi;local bQ,bR=bt[2].i32.lo,bt[2].i32.hi;local bN=O(M(O(bv,bA),bQ),M(bv,bA))local bO=O(M(O(bw,bB),bR),M(bw,bB))return bO*aP(2^32)+aR(aQ(bN))end;local function bS(aG,E,s)bt[0].i64=aG;bt[1].i64=E;local bv,bw=bt[0].i32.lo,bt[0].i32.hi;local bA,bB=bt[1].i32.lo,bt[1].i32.hi;local bQ,bR=O(bv,bA),O(bw,bB)local bx=O(Q(bQ,s),P(bR,-s))local by=O(Q(bR,s),P(bQ,-s))return by*aP(2^32)+aR(aQ(bx))end;local function bT(aG,E)bt[0].i64=aG;bt[1].i64=E;local bv,bw=bt[0].i32.lo,bt[0].i32.hi;local bA,bB=bt[1].i32.lo,bt[1].i32.hi;local bQ,bR=O(bv,bA),O(bw,bB)local bx=O(P(bQ,1),Q(bR,31))local by=O(P(bR,1),Q(bQ,31))return by*aP(2^32)+aR(aQ(bx))end;local function bU(aG,E)bt[0].i64=aG;bt[1].i64=E;local bv,bw=bt[0].i32.lo,bt[0].i32.hi;local bA,bB=bt[1].i32.lo,bt[1].i32.hi;local by,bx=O(bv,bA),O(bw,bB)return by*aP(2^32)+aR(aQ(bx))end;local function aU(aG,E)bt[0].i64=aG;bt[1].i64=E;local bv,bw=bt[0].i32.lo,bt[0].i32.hi;local bA,bB=bt[1].i32.lo,bt[1].i32.hi;local bx,by=O(bv,bA),O(bw,bB)return by*aP(2^32)+aR(aQ(bx))end;local function bV(aG,E,aH)bt[0].i64=aG;bt[1].i64=E;bt[2].i64=aH;local bv,bw=bt[0].i32.lo,bt[0].i32.hi;local bA,bB=bt[1].i32.lo,bt[1].i32.hi;local bQ,bR=bt[2].i32.lo,bt[2].i32.hi;local bx,by=O(bv,bA,bQ),O(bw,bB,bR)return by*aP(2^32)+aR(aQ(bx))end;function X(br,bs)bt[0].i64=br;local bW,bX=bt[0].i32.lo,bt[0].i32.hi;local bY,bZ=0xA5A5A5A5,0xA5A5A5A5;if bs then bt[1].i64=bs;bY,bZ=bt[1].i32.lo,bt[1].i32.hi end;bW=O(bW,bY)bX=O(bX,bZ)return bX*aP(2^32)+aR(aQ(bW))end;function aj(br)bt[0].i64=br;return V(bt[0].i32.hi)..V(bt[0].i32.lo)end;function a0(aA,I,aB,aC,ax)local aD,aE=aO,a7;for aF=aC,aC+ax-1,128 do for az=0,15 do aF=aF+8;local aG,E,aH,aI,aJ,aK,aL,aM=c(aB,aF-7,aF)aD[az]=N(P(aG,24),P(E,16),P(aH,8),aI)*aP(2^32)+aR(aQ(N(P(aJ,24),P(aK,16),P(aL,8),aM)))end;for az=16,79 do aD[az]=bu(aD[az-15])+bz(aD[az-2])+aD[az-7]+aD[az-16]end;local aG,E,aH,aI,aJ,aK,aL,aM=aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]for az=0,79,8 do local aN=bE(aJ)+bI(aJ,aK,aL)+aM+aE[az+1]+aD[az]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,bP(aG,E,aH)+bH(aG)+aN;aN=bE(aJ)+bI(aJ,aK,aL)+aM+aE[az+2]+aD[az+1]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,bP(aG,E,aH)+bH(aG)+aN;aN=bE(aJ)+bI(aJ,aK,aL)+aM+aE[az+3]+aD[az+2]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,bP(aG,E,aH)+bH(aG)+aN;aN=bE(aJ)+bI(aJ,aK,aL)+aM+aE[az+4]+aD[az+3]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,bP(aG,E,aH)+bH(aG)+aN;aN=bE(aJ)+bI(aJ,aK,aL)+aM+aE[az+5]+aD[az+4]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,bP(aG,E,aH)+bH(aG)+aN;aN=bE(aJ)+bI(aJ,aK,aL)+aM+aE[az+6]+aD[az+5]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,bP(aG,E,aH)+bH(aG)+aN;aN=bE(aJ)+bI(aJ,aK,aL)+aM+aE[az+7]+aD[az+6]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,bP(aG,E,aH)+bH(aG)+aN;aN=bE(aJ)+bI(aJ,aK,aL)+aM+aE[az+8]+aD[az+7]aM,aL,aK,aJ=aL,aK,aJ,aN+aI;aI,aH,E,aG=aH,E,aG,bP(aG,E,aH)+bH(aG)+aN end;aA[1]=aG+aA[1]aA[2]=E+aA[2]aA[3]=aH+aA[3]aA[4]=aI+aA[4]aA[5]=aJ+aA[5]aA[6]=aK+aA[6]aA[7]=aL+aA[7]aA[8]=aM+aA[8]end end;do local a_=D.new(\"int64_t[?]\",16)local aD=am;local function b0(aG,E,aH,aI,b1,b2)local b3,b4,b5,b6=a_[aG],a_[E],a_[aH],a_[aI]b3=aD[b1]+b3+b4;b6=bU(b6,b3)b5=b5+b6;b4=bS(b4,b5,24)b3=aD[b2]+b3+b4;b6=bS(b6,b3,16)b5=b5+b6;b4=bT(b4,b5)a_[aG],a_[E],a_[aH],a_[aI]=b3,b4,b5,b6 end;function a5(aA,I,aB,aC,ax,b7,b8,b9)local ba,bb,bc,bd,be,bf,bg,bh=aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]for aF=aC,aC+ax-1,128 do if aB then for az=1,16 do aF=aF+8;local aG,E,aH,aI,aJ,aK,aL,aM=c(aB,aF-7,aF)aD[az]=aU(N(P(aM,24),P(aL,16),P(aK,8),aJ)*aP(2^32),aR(aQ(N(P(aI,24),P(aH,16),P(E,8),aG))))end end;a_[0x0],a_[0x1],a_[0x2],a_[0x3],a_[0x4],a_[0x5],a_[0x6],a_[0x7]=ba,bb,bc,bd,be,bf,bg,bh;a_[0x8],a_[0x9],a_[0xA],a_[0xB],a_[0xD],a_[0xE],a_[0xF]=a9[1],a9[2],a9[3],a9[4],a9[6],a9[7],a9[8]b7=b7+(b8 or 128)a_[0xC]=aU(a9[5],b7)if b8 then a_[0xE]=-1-a_[0xE]end;if b9 then a_[0xF]=-1-a_[0xF]end;for az=1,12 do local bi=as[az]b0(0,4,8,12,bi[1],bi[2])b0(1,5,9,13,bi[3],bi[4])b0(2,6,10,14,bi[5],bi[6])b0(3,7,11,15,bi[7],bi[8])b0(0,5,10,15,bi[9],bi[10])b0(1,6,11,12,bi[11],bi[12])b0(2,7,8,13,bi[13],bi[14])b0(3,4,9,14,bi[15],bi[16])end;ba=bV(ba,a_[0x0],a_[0x8])bb=bV(bb,a_[0x1],a_[0x9])bc=bV(bc,a_[0x2],a_[0xA])bd=bV(bd,a_[0x3],a_[0xB])be=bV(be,a_[0x4],a_[0xC])bf=bV(bf,a_[0x5],a_[0xD])bg=bV(bg,a_[0x6],a_[0xE])bh=bV(bh,a_[0x7],a_[0xF])end;aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]=ba,bb,bc,bd,be,bf,bg,bh;return b7 end end end;function a1(aA,aB,aC,ax)local aD,aE=ay,ag;for aF=aC,aC+ax-1,64 do for az=0,15 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=N(P(aI,24),P(aH,16),P(E,8),aG)end;local aG,E,aH,aI=aA[1],aA[2],aA[3],aA[4]for az=0,15,4 do aG,aI,aH,E=aI,aH,E,U(R(O(aI,M(E,O(aH,aI)))+aE[az+1]+aD[az]+aG,7)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aI,M(E,O(aH,aI)))+aE[az+2]+aD[az+1]+aG,12)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aI,M(E,O(aH,aI)))+aE[az+3]+aD[az+2]+aG,17)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aI,M(E,O(aH,aI)))+aE[az+4]+aD[az+3]+aG,22)+E)end;for az=16,31,4 do local aL=5*az;aG,aI,aH,E=aI,aH,E,U(R(O(aH,M(aI,O(E,aH)))+aE[az+1]+aD[M(aL+1,15)]+aG,5)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,M(aI,O(E,aH)))+aE[az+2]+aD[M(aL+6,15)]+aG,9)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,M(aI,O(E,aH)))+aE[az+3]+aD[M(aL-5,15)]+aG,14)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,M(aI,O(E,aH)))+aE[az+4]+aD[M(aL,15)]+aG,20)+E)end;for az=32,47,4 do local aL=3*az;aG,aI,aH,E=aI,aH,E,U(R(O(E,aH,aI)+aE[az+1]+aD[M(aL+5,15)]+aG,4)+E)aG,aI,aH,E=aI,aH,E,U(R(O(E,aH,aI)+aE[az+2]+aD[M(aL+8,15)]+aG,11)+E)aG,aI,aH,E=aI,aH,E,U(R(O(E,aH,aI)+aE[az+3]+aD[M(aL-5,15)]+aG,16)+E)aG,aI,aH,E=aI,aH,E,U(R(O(E,aH,aI)+aE[az+4]+aD[M(aL-2,15)]+aG,23)+E)end;for az=48,63,4 do local aL=7*az;aG,aI,aH,E=aI,aH,E,U(R(O(aH,N(E,T(aI)))+aE[az+1]+aD[M(aL,15)]+aG,6)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,N(E,T(aI)))+aE[az+2]+aD[M(aL+7,15)]+aG,10)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,N(E,T(aI)))+aE[az+3]+aD[M(aL-2,15)]+aG,15)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,N(E,T(aI)))+aE[az+4]+aD[M(aL+5,15)]+aG,21)+E)end;aA[1],aA[2],aA[3],aA[4]=U(aG+aA[1]),U(E+aA[2]),U(aH+aA[3]),U(aI+aA[4])end end;function a2(aA,aB,aC,ax)local aD=ay;for aF=aC,aC+ax-1,64 do for az=0,15 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=N(P(aG,24),P(E,16),P(aH,8),aI)end;for az=16,79 do aD[az]=R(O(aD[az-3],aD[az-8],aD[az-14],aD[az-16]),1)end;local aG,E,aH,aI,aJ=aA[1],aA[2],aA[3],aA[4],aA[5]for az=0,19,5 do aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(aI,M(E,O(aI,aH)))+aD[az]+0x5A827999+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(aI,M(E,O(aI,aH)))+aD[az+1]+0x5A827999+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(aI,M(E,O(aI,aH)))+aD[az+2]+0x5A827999+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(aI,M(E,O(aI,aH)))+aD[az+3]+0x5A827999+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(aI,M(E,O(aI,aH)))+aD[az+4]+0x5A827999+aJ)end;for az=20,39,5 do aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az]+0x6ED9EBA1+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+1]+0x6ED9EBA1+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+2]+0x6ED9EBA1+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+3]+0x6ED9EBA1+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+4]+0x6ED9EBA1+aJ)end;for az=40,59,5 do aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(M(aI,O(E,aH)),M(E,aH))+aD[az]+0x8F1BBCDC+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(M(aI,O(E,aH)),M(E,aH))+aD[az+1]+0x8F1BBCDC+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(M(aI,O(E,aH)),M(E,aH))+aD[az+2]+0x8F1BBCDC+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(M(aI,O(E,aH)),M(E,aH))+aD[az+3]+0x8F1BBCDC+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(M(aI,O(E,aH)),M(E,aH))+aD[az+4]+0x8F1BBCDC+aJ)end;for az=60,79,5 do aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az]+0xCA62C1D6+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+1]+0xCA62C1D6+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+2]+0xCA62C1D6+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+3]+0xCA62C1D6+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+4]+0xCA62C1D6+aJ)end;aA[1],aA[2],aA[3],aA[4],aA[5]=U(aG+aA[1]),U(E+aA[2]),U(aH+aA[3]),U(aI+aA[4]),U(aJ+aA[5])end end end;if L==\"FFI\"and not B or L==\"LJ\"then if L==\"FFI\"then local b_=D.typeof\"int32_t[?]\"function Z()return b_(31)end end;function a3(c0,c1,aB,aC,ax,bl)local c2,c3=ab,ac;local bn=Q(bl,3)for aF=aC,aC+ax-1,bl do for az=1,bn do local aG,E,aH,aI=c(aB,aF+1,aF+4)c0[az]=O(c0[az],N(P(aI,24),P(aH,16),P(E,8),aG))aF=aF+8;aG,E,aH,aI=c(aB,aF-3,aF)c1[az]=O(c1[az],N(P(aI,24),P(aH,16),P(E,8),aG))end;for bo=1,24 do for az=1,5 do c0[25+az]=O(c0[az],c0[az+5],c0[az+10],c0[az+15],c0[az+20])end;for az=1,5 do c1[25+az]=O(c1[az],c1[az+5],c1[az+10],c1[az+15],c1[az+20])end;local c4=O(c0[26],P(c0[28],1),Q(c1[28],31))local c5=O(c1[26],P(c1[28],1),Q(c0[28],31))c0[2],c1[2],c0[7],c1[7],c0[12],c1[12],c0[17],c1[17]=O(Q(O(c4,c0[7]),20),P(O(c5,c1[7]),12)),O(Q(O(c5,c1[7]),20),P(O(c4,c0[7]),12)),O(Q(O(c4,c0[17]),19),P(O(c5,c1[17]),13)),O(Q(O(c5,c1[17]),19),P(O(c4,c0[17]),13)),O(P(O(c4,c0[2]),1),Q(O(c5,c1[2]),31)),O(P(O(c5,c1[2]),1),Q(O(c4,c0[2]),31)),O(P(O(c4,c0[12]),10),Q(O(c5,c1[12]),22)),O(P(O(c5,c1[12]),10),Q(O(c4,c0[12]),22))local c6,aA=O(c4,c0[22]),O(c5,c1[22])c0[22],c1[22]=O(P(c6,2),Q(aA,30)),O(P(aA,2),Q(c6,30))c4=O(c0[27],P(c0[29],1),Q(c1[29],31))c5=O(c1[27],P(c1[29],1),Q(c0[29],31))c0[3],c1[3],c0[8],c1[8],c0[13],c1[13],c0[23],c1[23]=O(Q(O(c4,c0[13]),21),P(O(c5,c1[13]),11)),O(Q(O(c5,c1[13]),21),P(O(c4,c0[13]),11)),O(Q(O(c4,c0[23]),3),P(O(c5,c1[23]),29)),O(Q(O(c5,c1[23]),3),P(O(c4,c0[23]),29)),O(P(O(c4,c0[8]),6),Q(O(c5,c1[8]),26)),O(P(O(c5,c1[8]),6),Q(O(c4,c0[8]),26)),O(Q(O(c4,c0[3]),2),P(O(c5,c1[3]),30)),O(Q(O(c5,c1[3]),2),P(O(c4,c0[3]),30))c6,aA=O(c4,c0[18]),O(c5,c1[18])c0[18],c1[18]=O(P(c6,15),Q(aA,17)),O(P(aA,15),Q(c6,17))c4=O(c0[28],P(c0[30],1),Q(c1[30],31))c5=O(c1[28],P(c1[30],1),Q(c0[30],31))c0[4],c1[4],c0[9],c1[9],c0[19],c1[19],c0[24],c1[24]=O(P(O(c4,c0[19]),21),Q(O(c5,c1[19]),11)),O(P(O(c5,c1[19]),21),Q(O(c4,c0[19]),11)),O(P(O(c4,c0[4]),28),Q(O(c5,c1[4]),4)),O(P(O(c5,c1[4]),28),Q(O(c4,c0[4]),4)),O(Q(O(c4,c0[24]),8),P(O(c5,c1[24]),24)),O(Q(O(c5,c1[24]),8),P(O(c4,c0[24]),24)),O(Q(O(c4,c0[9]),9),P(O(c5,c1[9]),23)),O(Q(O(c5,c1[9]),9),P(O(c4,c0[9]),23))c6,aA=O(c4,c0[14]),O(c5,c1[14])c0[14],c1[14]=O(P(c6,25),Q(aA,7)),O(P(aA,25),Q(c6,7))c4=O(c0[29],P(c0[26],1),Q(c1[26],31))c5=O(c1[29],P(c1[26],1),Q(c0[26],31))c0[5],c1[5],c0[15],c1[15],c0[20],c1[20],c0[25],c1[25]=O(P(O(c4,c0[25]),14),Q(O(c5,c1[25]),18)),O(P(O(c5,c1[25]),14),Q(O(c4,c0[25]),18)),O(P(O(c4,c0[20]),8),Q(O(c5,c1[20]),24)),O(P(O(c5,c1[20]),8),Q(O(c4,c0[20]),24)),O(P(O(c4,c0[5]),27),Q(O(c5,c1[5]),5)),O(P(O(c5,c1[5]),27),Q(O(c4,c0[5]),5)),O(Q(O(c4,c0[15]),25),P(O(c5,c1[15]),7)),O(Q(O(c5,c1[15]),25),P(O(c4,c0[15]),7))c6,aA=O(c4,c0[10]),O(c5,c1[10])c0[10],c1[10]=O(P(c6,20),Q(aA,12)),O(P(aA,20),Q(c6,12))c4=O(c0[30],P(c0[27],1),Q(c1[27],31))c5=O(c1[30],P(c1[27],1),Q(c0[27],31))c0[6],c1[6],c0[11],c1[11],c0[16],c1[16],c0[21],c1[21]=O(P(O(c4,c0[11]),3),Q(O(c5,c1[11]),29)),O(P(O(c5,c1[11]),3),Q(O(c4,c0[11]),29)),O(P(O(c4,c0[21]),18),Q(O(c5,c1[21]),14)),O(P(O(c5,c1[21]),18),Q(O(c4,c0[21]),14)),O(Q(O(c4,c0[6]),28),P(O(c5,c1[6]),4)),O(Q(O(c5,c1[6]),28),P(O(c4,c0[6]),4)),O(Q(O(c4,c0[16]),23),P(O(c5,c1[16]),9)),O(Q(O(c5,c1[16]),23),P(O(c4,c0[16]),9))c0[1],c1[1]=O(c4,c0[1]),O(c5,c1[1])c0[1],c0[2],c0[3],c0[4],c0[5]=O(c0[1],M(T(c0[2]),c0[3]),c2[bo]),O(c0[2],M(T(c0[3]),c0[4])),O(c0[3],M(T(c0[4]),c0[5])),O(c0[4],M(T(c0[5]),c0[1])),O(c0[5],M(T(c0[1]),c0[2]))c0[6],c0[7],c0[8],c0[9],c0[10]=O(c0[9],M(T(c0[10]),c0[6])),O(c0[10],M(T(c0[6]),c0[7])),O(c0[6],M(T(c0[7]),c0[8])),O(c0[7],M(T(c0[8]),c0[9])),O(c0[8],M(T(c0[9]),c0[10]))c0[11],c0[12],c0[13],c0[14],c0[15]=O(c0[12],M(T(c0[13]),c0[14])),O(c0[13],M(T(c0[14]),c0[15])),O(c0[14],M(T(c0[15]),c0[11])),O(c0[15],M(T(c0[11]),c0[12])),O(c0[11],M(T(c0[12]),c0[13]))c0[16],c0[17],c0[18],c0[19],c0[20]=O(c0[20],M(T(c0[16]),c0[17])),O(c0[16],M(T(c0[17]),c0[18])),O(c0[17],M(T(c0[18]),c0[19])),O(c0[18],M(T(c0[19]),c0[20])),O(c0[19],M(T(c0[20]),c0[16]))c0[21],c0[22],c0[23],c0[24],c0[25]=O(c0[23],M(T(c0[24]),c0[25])),O(c0[24],M(T(c0[25]),c0[21])),O(c0[25],M(T(c0[21]),c0[22])),O(c0[21],M(T(c0[22]),c0[23])),O(c0[22],M(T(c0[23]),c0[24]))c1[1],c1[2],c1[3],c1[4],c1[5]=O(c1[1],M(T(c1[2]),c1[3]),c3[bo]),O(c1[2],M(T(c1[3]),c1[4])),O(c1[3],M(T(c1[4]),c1[5])),O(c1[4],M(T(c1[5]),c1[1])),O(c1[5],M(T(c1[1]),c1[2]))c1[6],c1[7],c1[8],c1[9],c1[10]=O(c1[9],M(T(c1[10]),c1[6])),O(c1[10],M(T(c1[6]),c1[7])),O(c1[6],M(T(c1[7]),c1[8])),O(c1[7],M(T(c1[8]),c1[9])),O(c1[8],M(T(c1[9]),c1[10]))c1[11],c1[12],c1[13],c1[14],c1[15]=O(c1[12],M(T(c1[13]),c1[14])),O(c1[13],M(T(c1[14]),c1[15])),O(c1[14],M(T(c1[15]),c1[11])),O(c1[15],M(T(c1[11]),c1[12])),O(c1[11],M(T(c1[12]),c1[13]))c1[16],c1[17],c1[18],c1[19],c1[20]=O(c1[20],M(T(c1[16]),c1[17])),O(c1[16],M(T(c1[17]),c1[18])),O(c1[17],M(T(c1[18]),c1[19])),O(c1[18],M(T(c1[19]),c1[20])),O(c1[19],M(T(c1[20]),c1[16]))c1[21],c1[22],c1[23],c1[24],c1[25]=O(c1[23],M(T(c1[24]),c1[25])),O(c1[24],M(T(c1[25]),c1[21])),O(c1[25],M(T(c1[21]),c1[22])),O(c1[21],M(T(c1[22]),c1[23])),O(c1[22],M(T(c1[23]),c1[24]))end end end end;if L==\"LJ\"then function _(aA,aB,aC,ax)local aD,aE=al,a8;for aF=aC,aC+ax-1,64 do for az=1,16 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=N(P(aG,24),P(E,16),P(aH,8),aI)end;for az=17,64 do local aG,E=aD[az-15],aD[az-2]aD[az]=U(U(O(S(aG,7),R(aG,14),Q(aG,3))+O(R(E,15),R(E,13),Q(E,10)))+U(aD[az-7]+aD[az-16]))end;local aG,E,aH,aI,aJ,aK,aL,aM=aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]for az=1,64,8 do local aN=U(O(S(aJ,6),S(aJ,11),R(aJ,7))+O(aL,M(aJ,O(aK,aL)))+aE[az]+aD[az]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(S(aJ,6),S(aJ,11),R(aJ,7))+O(aL,M(aJ,O(aK,aL)))+aE[az+1]+aD[az+1]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(S(aJ,6),S(aJ,11),R(aJ,7))+O(aL,M(aJ,O(aK,aL)))+aE[az+2]+aD[az+2]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(S(aJ,6),S(aJ,11),R(aJ,7))+O(aL,M(aJ,O(aK,aL)))+aE[az+3]+aD[az+3]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(S(aJ,6),S(aJ,11),R(aJ,7))+O(aL,M(aJ,O(aK,aL)))+aE[az+4]+aD[az+4]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(S(aJ,6),S(aJ,11),R(aJ,7))+O(aL,M(aJ,O(aK,aL)))+aE[az+5]+aD[az+5]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(S(aJ,6),S(aJ,11),R(aJ,7))+O(aL,M(aJ,O(aK,aL)))+aE[az+6]+aD[az+6]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)aN=U(O(S(aJ,6),S(aJ,11),R(aJ,7))+O(aL,M(aJ,O(aK,aL)))+aE[az+7]+aD[az+7]+aM)aM,aL,aK,aJ=aL,aK,aJ,U(aI+aN)aI,aH,E,aG=aH,E,aG,U(O(M(aG,O(E,aH)),M(E,aH))+O(S(aG,2),S(aG,13),R(aG,10))+aN)end;aA[1],aA[2],aA[3],aA[4]=U(aG+aA[1]),U(E+aA[2]),U(aH+aA[3]),U(aI+aA[4])aA[5],aA[6],aA[7],aA[8]=U(aJ+aA[5]),U(aK+aA[6]),U(aL+aA[7]),U(aM+aA[8])end end;local function c7(bv,bw,bA,bB,bQ,bR,c8,c9)local ca=bv%2^32+bA%2^32+bQ%2^32+c8%2^32;local cb=bw+bB+bR+c9;local bN=U(ca)local bO=U(cb+j(ca/2^32))return bN,bO end;if C==\"x86\"then function a0(cc,cd,aB,aC,ax)local aD,ce,cf=al,a7,a8;for aF=aC,aC+ax-1,128 do for az=1,16*2 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=N(P(aG,24),P(E,16),P(aH,8),aI)end;for cg=17*2,80*2,2 do local bv,bw=aD[cg-30],aD[cg-31]local bx=O(N(Q(bv,1),P(bw,31)),N(Q(bv,8),P(bw,24)),N(Q(bv,7),P(bw,25)))local by=O(N(Q(bw,1),P(bv,31)),N(Q(bw,8),P(bv,24)),Q(bw,7))local bA,bB=aD[cg-4],aD[cg-5]local bC=O(N(Q(bA,19),P(bB,13)),N(P(bA,3),Q(bB,29)),N(Q(bA,6),P(bB,26)))local bD=O(N(Q(bB,19),P(bA,13)),N(P(bB,3),Q(bA,29)),Q(bB,6))aD[cg],aD[cg-1]=c7(bx,by,bC,bD,aD[cg-14],aD[cg-15],aD[cg-32],aD[cg-33])end;local bv,bA,bQ,c8,bF,bJ,bL,ch=cc[1],cc[2],cc[3],cc[4],cc[5],cc[6],cc[7],cc[8]local bw,bB,bR,c9,bG,bK,bM,ci=cd[1],cd[2],cd[3],cd[4],cd[5],cd[6],cd[7],cd[8]local cj=0;for az=1,80 do local bx=O(bL,M(bF,O(bJ,bL)))local by=O(bM,M(bG,O(bK,bM)))local bC=O(N(Q(bF,14),P(bG,18)),N(Q(bF,18),P(bG,14)),N(P(bF,23),Q(bG,9)))local bD=O(N(Q(bG,14),P(bF,18)),N(Q(bG,18),P(bF,14)),N(P(bG,23),Q(bF,9)))local ca=bC%2^32+bx%2^32+ch%2^32+ce[az]+aD[2*az]%2^32;local ck,cl=U(ca),U(bD+by+ci+cf[az]+aD[2*az-1]+j(ca/2^32))cj=cj+cj;ch,ci,bL,bM,bJ,bK=N(cj,bL),N(cj,bM),N(cj,bJ),N(cj,bK),N(cj,bF),N(cj,bG)local ca=ck%2^32+c8%2^32;bF,bG=U(ca),U(cl+c9+j(ca/2^32))c8,c9,bQ,bR,bA,bB=N(cj,bQ),N(cj,bR),N(cj,bA),N(cj,bB),N(cj,bv),N(cj,bw)bC=O(N(Q(bA,28),P(bB,4)),N(P(bA,30),Q(bB,2)),N(P(bA,25),Q(bB,7)))bD=O(N(Q(bB,28),P(bA,4)),N(P(bB,30),Q(bA,2)),N(P(bB,25),Q(bA,7)))bx=N(M(c8,bQ),M(bA,O(c8,bQ)))by=N(M(c9,bR),M(bB,O(c9,bR)))local ca=ck%2^32+bx%2^32+bC%2^32;bv,bw=U(ca),U(cl+by+bD+j(ca/2^32))end;cc[1],cd[1]=c7(cc[1],cd[1],bv,bw,0,0,0,0)cc[2],cd[2]=c7(cc[2],cd[2],bA,bB,0,0,0,0)cc[3],cd[3]=c7(cc[3],cd[3],bQ,bR,0,0,0,0)cc[4],cd[4]=c7(cc[4],cd[4],c8,c9,0,0,0,0)cc[5],cd[5]=c7(cc[5],cd[5],bF,bG,0,0,0,0)cc[6],cd[6]=c7(cc[6],cd[6],bJ,bK,0,0,0,0)cc[7],cd[7]=c7(cc[7],cd[7],bL,bM,0,0,0,0)cc[8],cd[8]=c7(cc[8],cd[8],ch,ci,0,0,0,0)end end else function a0(cc,cd,aB,aC,ax)local aD,ce,cf=al,a7,a8;for aF=aC,aC+ax-1,128 do for az=1,16*2 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=N(P(aG,24),P(E,16),P(aH,8),aI)end;for cg=17*2,80*2,2 do local bv,bw=aD[cg-30],aD[cg-31]local bx=O(N(Q(bv,1),P(bw,31)),N(Q(bv,8),P(bw,24)),N(Q(bv,7),P(bw,25)))local by=O(N(Q(bw,1),P(bv,31)),N(Q(bw,8),P(bv,24)),Q(bw,7))local bA,bB=aD[cg-4],aD[cg-5]local bC=O(N(Q(bA,19),P(bB,13)),N(P(bA,3),Q(bB,29)),N(Q(bA,6),P(bB,26)))local bD=O(N(Q(bB,19),P(bA,13)),N(P(bB,3),Q(bA,29)),Q(bB,6))aD[cg],aD[cg-1]=c7(bx,by,bC,bD,aD[cg-14],aD[cg-15],aD[cg-32],aD[cg-33])end;local bv,bA,bQ,c8,bF,bJ,bL,ch=cc[1],cc[2],cc[3],cc[4],cc[5],cc[6],cc[7],cc[8]local bw,bB,bR,c9,bG,bK,bM,ci=cd[1],cd[2],cd[3],cd[4],cd[5],cd[6],cd[7],cd[8]for az=1,80 do local bx=O(bL,M(bF,O(bJ,bL)))local by=O(bM,M(bG,O(bK,bM)))local bC=O(N(Q(bF,14),P(bG,18)),N(Q(bF,18),P(bG,14)),N(P(bF,23),Q(bG,9)))local bD=O(N(Q(bG,14),P(bF,18)),N(Q(bG,18),P(bF,14)),N(P(bG,23),Q(bF,9)))local ca=bC%2^32+bx%2^32+ch%2^32+ce[az]+aD[2*az]%2^32;local ck,cl=U(ca),U(bD+by+ci+cf[az]+aD[2*az-1]+j(ca/2^32))ch,ci,bL,bM,bJ,bK=bL,bM,bJ,bK,bF,bG;local ca=ck%2^32+c8%2^32;bF,bG=U(ca),U(cl+c9+j(ca/2^32))c8,c9,bQ,bR,bA,bB=bQ,bR,bA,bB,bv,bw;bC=O(N(Q(bA,28),P(bB,4)),N(P(bA,30),Q(bB,2)),N(P(bA,25),Q(bB,7)))bD=O(N(Q(bB,28),P(bA,4)),N(P(bB,30),Q(bA,2)),N(P(bB,25),Q(bA,7)))bx=N(M(c8,bQ),M(bA,O(c8,bQ)))by=N(M(c9,bR),M(bB,O(c9,bR)))local ca=ck%2^32+bC%2^32+bx%2^32;bv,bw=U(ca),U(cl+bD+by+j(ca/2^32))end;cc[1],cd[1]=c7(cc[1],cd[1],bv,bw,0,0,0,0)cc[2],cd[2]=c7(cc[2],cd[2],bA,bB,0,0,0,0)cc[3],cd[3]=c7(cc[3],cd[3],bQ,bR,0,0,0,0)cc[4],cd[4]=c7(cc[4],cd[4],c8,c9,0,0,0,0)cc[5],cd[5]=c7(cc[5],cd[5],bF,bG,0,0,0,0)cc[6],cd[6]=c7(cc[6],cd[6],bJ,bK,0,0,0,0)cc[7],cd[7]=c7(cc[7],cd[7],bL,bM,0,0,0,0)cc[8],cd[8]=c7(cc[8],cd[8],ch,ci,0,0,0,0)end end end;function a1(aA,aB,aC,ax)local aD,aE=al,ag;for aF=aC,aC+ax-1,64 do for az=1,16 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=N(P(aI,24),P(aH,16),P(E,8),aG)end;local aG,E,aH,aI=aA[1],aA[2],aA[3],aA[4]for az=1,16,4 do aG,aI,aH,E=aI,aH,E,U(R(O(aI,M(E,O(aH,aI)))+aE[az]+aD[az]+aG,7)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aI,M(E,O(aH,aI)))+aE[az+1]+aD[az+1]+aG,12)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aI,M(E,O(aH,aI)))+aE[az+2]+aD[az+2]+aG,17)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aI,M(E,O(aH,aI)))+aE[az+3]+aD[az+3]+aG,22)+E)end;for az=17,32,4 do local aL=5*az-4;aG,aI,aH,E=aI,aH,E,U(R(O(aH,M(aI,O(E,aH)))+aE[az]+aD[M(aL,15)+1]+aG,5)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,M(aI,O(E,aH)))+aE[az+1]+aD[M(aL+5,15)+1]+aG,9)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,M(aI,O(E,aH)))+aE[az+2]+aD[M(aL+10,15)+1]+aG,14)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,M(aI,O(E,aH)))+aE[az+3]+aD[M(aL-1,15)+1]+aG,20)+E)end;for az=33,48,4 do local aL=3*az+2;aG,aI,aH,E=aI,aH,E,U(R(O(E,aH,aI)+aE[az]+aD[M(aL,15)+1]+aG,4)+E)aG,aI,aH,E=aI,aH,E,U(R(O(E,aH,aI)+aE[az+1]+aD[M(aL+3,15)+1]+aG,11)+E)aG,aI,aH,E=aI,aH,E,U(R(O(E,aH,aI)+aE[az+2]+aD[M(aL+6,15)+1]+aG,16)+E)aG,aI,aH,E=aI,aH,E,U(R(O(E,aH,aI)+aE[az+3]+aD[M(aL-7,15)+1]+aG,23)+E)end;for az=49,64,4 do local aL=az*7;aG,aI,aH,E=aI,aH,E,U(R(O(aH,N(E,T(aI)))+aE[az]+aD[M(aL-7,15)+1]+aG,6)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,N(E,T(aI)))+aE[az+1]+aD[M(aL,15)+1]+aG,10)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,N(E,T(aI)))+aE[az+2]+aD[M(aL+7,15)+1]+aG,15)+E)aG,aI,aH,E=aI,aH,E,U(R(O(aH,N(E,T(aI)))+aE[az+3]+aD[M(aL-2,15)+1]+aG,21)+E)end;aA[1],aA[2],aA[3],aA[4]=U(aG+aA[1]),U(E+aA[2]),U(aH+aA[3]),U(aI+aA[4])end end;function a2(aA,aB,aC,ax)local aD=al;for aF=aC,aC+ax-1,64 do for az=1,16 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=N(P(aG,24),P(E,16),P(aH,8),aI)end;for az=17,80 do aD[az]=R(O(aD[az-3],aD[az-8],aD[az-14],aD[az-16]),1)end;local aG,E,aH,aI,aJ=aA[1],aA[2],aA[3],aA[4],aA[5]for az=1,20,5 do aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(aI,M(E,O(aI,aH)))+aD[az]+0x5A827999+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(aI,M(E,O(aI,aH)))+aD[az+1]+0x5A827999+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(aI,M(E,O(aI,aH)))+aD[az+2]+0x5A827999+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(aI,M(E,O(aI,aH)))+aD[az+3]+0x5A827999+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(aI,M(E,O(aI,aH)))+aD[az+4]+0x5A827999+aJ)end;for az=21,40,5 do aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az]+0x6ED9EBA1+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+1]+0x6ED9EBA1+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+2]+0x6ED9EBA1+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+3]+0x6ED9EBA1+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+4]+0x6ED9EBA1+aJ)end;for az=41,60,5 do aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(M(aI,O(E,aH)),M(E,aH))+aD[az]+0x8F1BBCDC+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(M(aI,O(E,aH)),M(E,aH))+aD[az+1]+0x8F1BBCDC+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(M(aI,O(E,aH)),M(E,aH))+aD[az+2]+0x8F1BBCDC+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(M(aI,O(E,aH)),M(E,aH))+aD[az+3]+0x8F1BBCDC+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(M(aI,O(E,aH)),M(E,aH))+aD[az+4]+0x8F1BBCDC+aJ)end;for az=61,80,5 do aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az]+0xCA62C1D6+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+1]+0xCA62C1D6+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+2]+0xCA62C1D6+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+3]+0xCA62C1D6+aJ)aJ,aI,aH,E,aG=aI,aH,S(E,2),aG,U(R(aG,5)+O(E,aH,aI)+aD[az+4]+0xCA62C1D6+aJ)end;aA[1],aA[2],aA[3],aA[4],aA[5]=U(aG+aA[1]),U(E+aA[2]),U(aH+aA[3]),U(aI+aA[4]),U(aJ+aA[5])end end;do local cm,cn={},{}local function b0(aG,E,aH,aI,b1,b2)local aD=al;local co,cp,cq,cr=cm[aG],cm[E],cm[aH],cm[aI]local cs,ct,cu,cv=cn[aG],cn[E],cn[aH],cn[aI]local aN=aD[2*b1-1]+co%2^32+cp%2^32;co=U(aN)cs=U(aD[2*b1]+cs+ct+j(aN/2^32))cr,cv=O(cv,cs),O(cr,co)aN=cq%2^32+cr%2^32;cq=U(aN)cu=U(cu+cv+j(aN/2^32))cp,ct=O(cp,cq),O(ct,cu)cp,ct=O(Q(cp,24),P(ct,8)),O(Q(ct,24),P(cp,8))aN=aD[2*b2-1]+co%2^32+cp%2^32;co=U(aN)cs=U(aD[2*b2]+cs+ct+j(aN/2^32))cr,cv=O(cr,co),O(cv,cs)cr,cv=O(Q(cr,16),P(cv,16)),O(Q(cv,16),P(cr,16))aN=cq%2^32+cr%2^32;cq=U(aN)cu=U(cu+cv+j(aN/2^32))cp,ct=O(cp,cq),O(ct,cu)cp,ct=O(P(cp,1),Q(ct,31)),O(P(ct,1),Q(cp,31))cm[aG],cm[E],cm[aH],cm[aI]=co,cp,cq,cr;cn[aG],cn[E],cn[aH],cn[aI]=cs,ct,cu,cv end;function a5(cc,cd,aB,aC,ax,b7,b8,b9)local aD=al;local cw,cx,cy,cz,cA,cB,cC,cD=cc[1],cc[2],cc[3],cc[4],cc[5],cc[6],cc[7],cc[8]local cE,cF,cG,cH,cI,cJ,cK,cL=cd[1],cd[2],cd[3],cd[4],cd[5],cd[6],cd[7],cd[8]for aF=aC,aC+ax-1,128 do if aB then for az=1,32 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=aI*2^24+N(P(aH,16),P(E,8),aG)end end;cm[0x0],cm[0x1],cm[0x2],cm[0x3],cm[0x4],cm[0x5],cm[0x6],cm[0x7]=cw,cx,cy,cz,cA,cB,cC,cD;cm[0x8],cm[0x9],cm[0xA],cm[0xB],cm[0xC],cm[0xD],cm[0xE],cm[0xF]=a9[1],a9[2],a9[3],a9[4],a9[5],a9[6],a9[7],a9[8]cn[0x0],cn[0x1],cn[0x2],cn[0x3],cn[0x4],cn[0x5],cn[0x6],cn[0x7]=cE,cF,cG,cH,cI,cJ,cK,cL;cn[0x8],cn[0x9],cn[0xA],cn[0xB],cn[0xC],cn[0xD],cn[0xE],cn[0xF]=aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7],aa[8]b7=b7+(b8 or 128)local cM=b7%2^32;local cN=j(b7/2^32)cm[0xC]=O(cm[0xC],cM)cn[0xC]=O(cn[0xC],cN)if b8 then cm[0xE]=T(cm[0xE])cn[0xE]=T(cn[0xE])end;if b9 then cm[0xF]=T(cm[0xF])cn[0xF]=T(cn[0xF])end;for az=1,12 do local bi=as[az]b0(0,4,8,12,bi[1],bi[2])b0(1,5,9,13,bi[3],bi[4])b0(2,6,10,14,bi[5],bi[6])b0(3,7,11,15,bi[7],bi[8])b0(0,5,10,15,bi[9],bi[10])b0(1,6,11,12,bi[11],bi[12])b0(2,7,8,13,bi[13],bi[14])b0(3,4,9,14,bi[15],bi[16])end;cw=O(cw,cm[0x0],cm[0x8])cx=O(cx,cm[0x1],cm[0x9])cy=O(cy,cm[0x2],cm[0xA])cz=O(cz,cm[0x3],cm[0xB])cA=O(cA,cm[0x4],cm[0xC])cB=O(cB,cm[0x5],cm[0xD])cC=O(cC,cm[0x6],cm[0xE])cD=O(cD,cm[0x7],cm[0xF])cE=O(cE,cn[0x0],cn[0x8])cF=O(cF,cn[0x1],cn[0x9])cG=O(cG,cn[0x2],cn[0xA])cH=O(cH,cn[0x3],cn[0xB])cI=O(cI,cn[0x4],cn[0xC])cJ=O(cJ,cn[0x5],cn[0xD])cK=O(cK,cn[0x6],cn[0xE])cL=O(cL,cn[0x7],cn[0xF])end;cc[1],cc[2],cc[3],cc[4],cc[5],cc[6],cc[7],cc[8]=cw%2^32,cx%2^32,cy%2^32,cz%2^32,cA%2^32,cB%2^32,cC%2^32,cD%2^32;cd[1],cd[2],cd[3],cd[4],cd[5],cd[6],cd[7],cd[8]=cE%2^32,cF%2^32,cG%2^32,cH%2^32,cI%2^32,cJ%2^32,cK%2^32,cL%2^32;return b7 end end end;if L==\"FFI\"or L==\"LJ\"then do local aD=an;local a_=ao;local function b0(aG,E,aH,aI,b1,b2)local b3,b4,b5,b6=a_[aG],a_[E],a_[aH],a_[aI]b3=U(aD[b1]+b3+b4)b6=S(O(b6,b3),16)b5=U(b5+b6)b4=S(O(b4,b5),12)b3=U(aD[b2]+b3+b4)b6=S(O(b6,b3),8)b5=U(b5+b6)b4=S(O(b4,b5),7)a_[aG],a_[E],a_[aH],a_[aI]=b3,b4,b5,b6 end;function a4(aA,aB,aC,ax,b7,b8,b9)local ba,bb,bc,bd,be,bf,bg,bh=U(aA[1]),U(aA[2]),U(aA[3]),U(aA[4]),U(aA[5]),U(aA[6]),U(aA[7]),U(aA[8])for aF=aC,aC+ax-1,64 do if aB then for az=1,16 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=N(P(aI,24),P(aH,16),P(E,8),aG)end end;a_[0x0],a_[0x1],a_[0x2],a_[0x3],a_[0x4],a_[0x5],a_[0x6],a_[0x7]=ba,bb,bc,bd,be,bf,bg,bh;a_[0x8],a_[0x9],a_[0xA],a_[0xB],a_[0xE],a_[0xF]=U(aa[1]),U(aa[2]),U(aa[3]),U(aa[4]),U(aa[7]),U(aa[8])b7=b7+(b8 or 64)local cO=b7%2^32;local cP=j(b7/2^32)a_[0xC]=O(aa[5],cO)a_[0xD]=O(aa[6],cP)if b8 then a_[0xE]=T(a_[0xE])end;if b9 then a_[0xF]=T(a_[0xF])end;for az=1,10 do local bi=as[az]b0(0,4,8,12,bi[1],bi[2])b0(1,5,9,13,bi[3],bi[4])b0(2,6,10,14,bi[5],bi[6])b0(3,7,11,15,bi[7],bi[8])b0(0,5,10,15,bi[9],bi[10])b0(1,6,11,12,bi[11],bi[12])b0(2,7,8,13,bi[13],bi[14])b0(3,4,9,14,bi[15],bi[16])end;ba=O(ba,a_[0x0],a_[0x8])bb=O(bb,a_[0x1],a_[0x9])bc=O(bc,a_[0x2],a_[0xA])bd=O(bd,a_[0x3],a_[0xB])be=O(be,a_[0x4],a_[0xC])bf=O(bf,a_[0x5],a_[0xD])bg=O(bg,a_[0x6],a_[0xE])bh=O(bh,a_[0x7],a_[0xF])end;aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]=ba,bb,bc,bd,be,bf,bg,bh;return b7 end;function a6(aB,aC,ax,cQ,cR,cS,cT,cU,cV)cV=cV or 64;local ba,bb,bc,bd,be,bf,bg,bh=U(cS[1]),U(cS[2]),U(cS[3]),U(cS[4]),U(cS[5]),U(cS[6]),U(cS[7]),U(cS[8])cT=cT or cS;for aF=aC,aC+ax-1,64 do if aB then for az=1,16 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=N(P(aI,24),P(aH,16),P(E,8),aG)end end;a_[0x0],a_[0x1],a_[0x2],a_[0x3],a_[0x4],a_[0x5],a_[0x6],a_[0x7]=ba,bb,bc,bd,be,bf,bg,bh;a_[0x8],a_[0x9],a_[0xA],a_[0xB]=U(aa[1]),U(aa[2]),U(aa[3]),U(aa[4])a_[0xC]=U(cR%2^32)a_[0xD]=j(cR/2^32)a_[0xE],a_[0xF]=cV,cQ;for az=1,7 do b0(0,4,8,12,at[az],at[az+14])b0(1,5,9,13,at[az+1],at[az+2])b0(2,6,10,14,at[az+16],at[az+7])b0(3,7,11,15,at[az+15],at[az+17])b0(0,5,10,15,at[az+21],at[az+5])b0(1,6,11,12,at[az+3],at[az+6])b0(2,7,8,13,at[az+4],at[az+18])b0(3,4,9,14,at[az+19],at[az+20])end;if cU then cT[9]=O(ba,a_[0x8])cT[10]=O(bb,a_[0x9])cT[11]=O(bc,a_[0xA])cT[12]=O(bd,a_[0xB])cT[13]=O(be,a_[0xC])cT[14]=O(bf,a_[0xD])cT[15]=O(bg,a_[0xE])cT[16]=O(bh,a_[0xF])end;ba=O(a_[0x0],a_[0x8])bb=O(a_[0x1],a_[0x9])bc=O(a_[0x2],a_[0xA])bd=O(a_[0x3],a_[0xB])be=O(a_[0x4],a_[0xC])bf=O(a_[0x5],a_[0xD])bg=O(a_[0x6],a_[0xE])bh=O(a_[0x7],a_[0xF])end;cT[1],cT[2],cT[3],cT[4],cT[5],cT[6],cT[7],cT[8]=ba,bb,bc,bd,be,bf,bg,bh end end end;O=O or X;if L==\"LIB32\"or L==\"EMUL\"then function _(aA,aB,aC,ax)local aD,aE=al,a8;local ba,bb,bc,bd,be,bf,bg,bh=aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]for aF=aC,aC+ax-1,64 do for az=1,16 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=((aG*256+E)*256+aH)*256+aI end;for az=17,64 do local aG,E=aD[az-15],aD[az-2]local cW,cX,cY,cZ=aG/2^7,aG/2^18,E/2^17,E/2^19;aD[az]=(O(cW%1*(2^32-1)+cW,cX%1*(2^32-1)+cX,(aG-aG%2^3)/2^3)+aD[az-16]+aD[az-7]+O(cY%1*(2^32-1)+cY,cZ%1*(2^32-1)+cZ,(E-E%2^10)/2^10))%2^32 end;local aG,E,aH,aI,aJ,aK,aL,aM=ba,bb,bc,bd,be,bf,bg,bh;for az=1,64 do aJ=aJ%2^32;local c_,d0,d1=aJ/2^6,aJ/2^11,aJ*2^7;local d2=d1%2^32;local aN=M(aJ,aK)+M(-1-aJ,aL)+aM+aE[az]+aD[az]+O(c_%1*(2^32-1)+c_,d0%1*(2^32-1)+d0,d2+(d1-d2)/2^32)aM=aL;aL=aK;aK=aJ;aJ=aN+aI;aI=aH;aH=E;E=aG%2^32;local d3,d4,d5=E/2^2,E/2^13,E*2^10;local d6=d5%2^32;aG=aN+M(aI,aH)+M(E,O(aI,aH))+O(d3%1*(2^32-1)+d3,d4%1*(2^32-1)+d4,d6+(d5-d6)/2^32)end;ba,bb,bc,bd=(aG+ba)%2^32,(E+bb)%2^32,(aH+bc)%2^32,(aI+bd)%2^32;be,bf,bg,bh=(aJ+be)%2^32,(aK+bf)%2^32,(aL+bg)%2^32,(aM+bh)%2^32 end;aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]=ba,bb,bc,bd,be,bf,bg,bh end;function a0(cc,cd,aB,aC,ax)local aD,ce,cf=al,a7,a8;local cw,cx,cy,cz,cA,cB,cC,cD=cc[1],cc[2],cc[3],cc[4],cc[5],cc[6],cc[7],cc[8]local cE,cF,cG,cH,cI,cJ,cK,cL=cd[1],cd[2],cd[3],cd[4],cd[5],cd[6],cd[7],cd[8]for aF=aC,aC+ax-1,128 do for az=1,16*2 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=((aG*256+E)*256+aH)*256+aI end;for cg=17*2,80*2,2 do local bw,bv,bB,bA=aD[cg-31],aD[cg-30],aD[cg-5],aD[cg-4]local d7,d8,d9,da,db,dc,dd,de,df,dg=bB%2^6,bB%2^19,bB%2^29,bA%2^19,bA%2^29,bw%2^1,bw%2^7,bw%2^8,bv%2^1,bv%2^8;local dh=O((bv-df)/2^1+dc*2^31,(bv-dg)/2^8+de*2^24,(bv-bv%2^7)/2^7+dd*2^25)%2^32+O((bA-da)/2^19+d8*2^13,db*2^3+(bB-d9)/2^29,(bA-bA%2^6)/2^6+d7*2^26)%2^32+aD[cg-14]+aD[cg-32]local di=dh%2^32;aD[cg-1]=(O((bw-dc)/2^1+df*2^31,(bw-de)/2^8+dg*2^24,(bw-dd)/2^7)+O((bB-d8)/2^19+da*2^13,d9*2^3+(bA-db)/2^29,(bB-d7)/2^6)+aD[cg-15]+aD[cg-33]+(dh-di)/2^32)%2^32;aD[cg]=di end;local bv,bA,bQ,c8,bF,bJ,bL,ch=cw,cx,cy,cz,cA,cB,cC,cD;local bw,bB,bR,c9,bG,bK,bM,ci=cE,cF,cG,cH,cI,cJ,cK,cL;for az=1,80 do local cg=2*az;local dj,dk,dl,dm,dn,dp=bF%2^9,bF%2^14,bF%2^18,bG%2^9,bG%2^14,bG%2^18;local dh=(M(bF,bJ)+M(-1-bF,bL))%2^32+ch+ce[az]+aD[cg]+O((bF-dk)/2^14+dn*2^18,(bF-dl)/2^18+dp*2^14,dj*2^23+(bG-dm)/2^9)%2^32;local ck=dh%2^32;local cl=M(bG,bK)+M(-1-bG,bM)+ci+cf[az]+aD[cg-1]+(dh-ck)/2^32+O((bG-dn)/2^14+dk*2^18,(bG-dp)/2^18+dl*2^14,dm*2^23+(bF-dj)/2^9)ch=bL;ci=bM;bL=bJ;bM=bK;bJ=bF;bK=bG;dh=ck+c8;bF=dh%2^32;bG=(cl+c9+(dh-bF)/2^32)%2^32;c8=bQ;c9=bR;bQ=bA;bR=bB;bA=bv;bB=bw;local dq,dr,ds,dt,du,dv=bA%2^2,bA%2^7,bA%2^28,bB%2^2,bB%2^7,bB%2^28;dh=ck+(M(c8,bQ)+M(bA,O(c8,bQ)))%2^32+O((bA-ds)/2^28+dv*2^4,dq*2^30+(bB-dt)/2^2,dr*2^25+(bB-du)/2^7)%2^32;bv=dh%2^32;bw=(cl+M(c9,bR)+M(bB,O(c9,bR))+(dh-bv)/2^32+O((bB-dv)/2^28+ds*2^4,dt*2^30+(bA-dq)/2^2,du*2^25+(bA-dr)/2^7))%2^32 end;bv=cw+bv;cw=bv%2^32;cE=(cE+bw+(bv-cw)/2^32)%2^32;bv=cx+bA;cx=bv%2^32;cF=(cF+bB+(bv-cx)/2^32)%2^32;bv=cy+bQ;cy=bv%2^32;cG=(cG+bR+(bv-cy)/2^32)%2^32;bv=cz+c8;cz=bv%2^32;cH=(cH+c9+(bv-cz)/2^32)%2^32;bv=cA+bF;cA=bv%2^32;cI=(cI+bG+(bv-cA)/2^32)%2^32;bv=cB+bJ;cB=bv%2^32;cJ=(cJ+bK+(bv-cB)/2^32)%2^32;bv=cC+bL;cC=bv%2^32;cK=(cK+bM+(bv-cC)/2^32)%2^32;bv=cD+ch;cD=bv%2^32;cL=(cL+ci+(bv-cD)/2^32)%2^32 end;cc[1],cc[2],cc[3],cc[4],cc[5],cc[6],cc[7],cc[8]=cw,cx,cy,cz,cA,cB,cC,cD;cd[1],cd[2],cd[3],cd[4],cd[5],cd[6],cd[7],cd[8]=cE,cF,cG,cH,cI,cJ,cK,cL end;if L==\"LIB32\"then function a1(aA,aB,aC,ax)local aD,aE,ai=al,ag,ai;local ba,bb,bc,bd=aA[1],aA[2],aA[3],aA[4]for aF=aC,aC+ax-1,64 do for az=1,16 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=((aI*256+aH)*256+E)*256+aG end;local aG,E,aH,aI=ba,bb,bc,bd;local dw=25;for az=1,16 do local dx=S(M(E,aH)+M(-1-E,aI)+aG+aE[az]+aD[az],dw)+E;dw=ai[dw]aG=aI;aI=aH;aH=E;E=dx end;dw=27;for az=17,32 do local dx=S(M(aI,E)+M(-1-aI,aH)+aG+aE[az]+aD[(5*az-4)%16+1],dw)+E;dw=ai[dw]aG=aI;aI=aH;aH=E;E=dx end;dw=28;for az=33,48 do local dx=S(O(O(E,aH),aI)+aG+aE[az]+aD[(3*az+2)%16+1],dw)+E;dw=ai[dw]aG=aI;aI=aH;aH=E;E=dx end;dw=26;for az=49,64 do local dx=S(O(aH,N(E,-1-aI))+aG+aE[az]+aD[(az*7-7)%16+1],dw)+E;dw=ai[dw]aG=aI;aI=aH;aH=E;E=dx end;ba=(aG+ba)%2^32;bb=(E+bb)%2^32;bc=(aH+bc)%2^32;bd=(aI+bd)%2^32 end;aA[1],aA[2],aA[3],aA[4]=ba,bb,bc,bd end end;function a2(aA,aB,aC,ax)local aD=al;local ba,bb,bc,bd,be=aA[1],aA[2],aA[3],aA[4],aA[5]for aF=aC,aC+ax-1,64 do for az=1,16 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=((aG*256+E)*256+aH)*256+aI end;for az=17,80 do local aG=O(aD[az-3],aD[az-8],aD[az-14],aD[az-16])%2^32*2;local E=aG%2^32;aD[az]=E+(aG-E)/2^32 end;local aG,E,aH,aI,aJ=ba,bb,bc,bd,be;for az=1,20 do local dy=aG*2^5;local aN=dy%2^32;aN=aN+(dy-aN)/2^32+M(E,aH)+M(-1-E,aI)+0x5A827999+aD[az]+aJ;aJ=aI;aI=aH;aH=E/2^2;aH=aH%1*(2^32-1)+aH;E=aG;aG=aN%2^32 end;for az=21,40 do local dy=aG*2^5;local aN=dy%2^32;aN=aN+(dy-aN)/2^32+O(E,aH,aI)+0x6ED9EBA1+aD[az]+aJ;aJ=aI;aI=aH;aH=E/2^2;aH=aH%1*(2^32-1)+aH;E=aG;aG=aN%2^32 end;for az=41,60 do local dy=aG*2^5;local aN=dy%2^32;aN=aN+(dy-aN)/2^32+M(aI,aH)+M(E,O(aI,aH))+0x8F1BBCDC+aD[az]+aJ;aJ=aI;aI=aH;aH=E/2^2;aH=aH%1*(2^32-1)+aH;E=aG;aG=aN%2^32 end;for az=61,80 do local dy=aG*2^5;local aN=dy%2^32;aN=aN+(dy-aN)/2^32+O(E,aH,aI)+0xCA62C1D6+aD[az]+aJ;aJ=aI;aI=aH;aH=E/2^2;aH=aH%1*(2^32-1)+aH;E=aG;aG=aN%2^32 end;ba=(aG+ba)%2^32;bb=(E+bb)%2^32;bc=(aH+bc)%2^32;bd=(aI+bd)%2^32;be=(aJ+be)%2^32 end;aA[1],aA[2],aA[3],aA[4],aA[5]=ba,bb,bc,bd,be end;function a3(c0,c1,aB,aC,ax,bl)local c2,c3=ab,ac;local bn=bl/8;for aF=aC,aC+ax-1,bl do for az=1,bn do local aG,E,aH,aI=c(aB,aF+1,aF+4)c0[az]=O(c0[az],((aI*256+aH)*256+E)*256+aG)aF=aF+8;aG,E,aH,aI=c(aB,aF-3,aF)c1[az]=O(c1[az],((aI*256+aH)*256+E)*256+aG)end;local dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el=c0[1],c1[1],c0[2],c1[2],c0[3],c1[3],c0[4],c1[4],c0[5],c1[5],c0[6],c1[6],c0[7],c1[7],c0[8],c1[8],c0[9],c1[9],c0[10],c1[10],c0[11],c1[11],c0[12],c1[12],c0[13],c1[13],c0[14],c1[14],c0[15],c1[15],c0[16],c1[16],c0[17],c1[17],c0[18],c1[18],c0[19],c1[19],c0[20],c1[20],c0[21],c1[21],c0[22],c1[22],c0[23],c1[23],c0[24],c1[24],c0[25],c1[25]for bo=1,24 do local em=O(dz,dJ,dT,e2,ec)local en=O(dA,dK,dU,e3,ed)local eo=O(dB,dL,dV,e4,ee)local ep=O(dC,dM,dW,e5,ef)local eq=O(dD,dN,dX,e6,eg)local er=O(dE,dO,dY,e7,eh)local es=O(dF,dP,dZ,e8,ei)local et=O(dG,dQ,d_,e9,ej)local eu=O(dH,dR,e0,ea,ek)local ev=O(dI,dS,e1,eb,el)local c4=O(em,eq*2+(er%2^32-er%2^31)/2^31)local c5=O(en,er*2+(eq%2^32-eq%2^31)/2^31)local ew=O(c4,dB)local ex=O(c5,dC)local ey=O(c4,dL)local ez=O(c5,dM)local eA=O(c4,dV)local eB=O(c5,dW)local eC=O(c4,e4)local eD=O(c5,e5)local eE=O(c4,ee)local eF=O(c5,ef)dB=(ey%2^32-ey%2^20)/2^20+ez*2^12;dC=(ez%2^32-ez%2^20)/2^20+ey*2^12;dL=(eC%2^32-eC%2^19)/2^19+eD*2^13;dM=(eD%2^32-eD%2^19)/2^19+eC*2^13;dV=ew*2+(ex%2^32-ex%2^31)/2^31;dW=ex*2+(ew%2^32-ew%2^31)/2^31;e4=eA*2^10+(eB%2^32-eB%2^22)/2^22;e5=eB*2^10+(eA%2^32-eA%2^22)/2^22;ee=eE*2^2+(eF%2^32-eF%2^30)/2^30;ef=eF*2^2+(eE%2^32-eE%2^30)/2^30;c4=O(eo,es*2+(et%2^32-et%2^31)/2^31)c5=O(ep,et*2+(es%2^32-es%2^31)/2^31)ew=O(c4,dD)ex=O(c5,dE)ey=O(c4,dN)ez=O(c5,dO)eA=O(c4,dX)eB=O(c5,dY)eC=O(c4,e6)eD=O(c5,e7)eE=O(c4,eg)eF=O(c5,eh)dD=(eA%2^32-eA%2^21)/2^21+eB*2^11;dE=(eB%2^32-eB%2^21)/2^21+eA*2^11;dN=(eE%2^32-eE%2^3)/2^3+eF*2^29%2^32;dO=(eF%2^32-eF%2^3)/2^3+eE*2^29%2^32;dX=ey*2^6+(ez%2^32-ez%2^26)/2^26;dY=ez*2^6+(ey%2^32-ey%2^26)/2^26;e6=eC*2^15+(eD%2^32-eD%2^17)/2^17;e7=eD*2^15+(eC%2^32-eC%2^17)/2^17;eg=(ew%2^32-ew%2^2)/2^2+ex*2^30%2^32;eh=(ex%2^32-ex%2^2)/2^2+ew*2^30%2^32;c4=O(eq,eu*2+(ev%2^32-ev%2^31)/2^31)c5=O(er,ev*2+(eu%2^32-eu%2^31)/2^31)ew=O(c4,dF)ex=O(c5,dG)ey=O(c4,dP)ez=O(c5,dQ)eA=O(c4,dZ)eB=O(c5,d_)eC=O(c4,e8)eD=O(c5,e9)eE=O(c4,ei)eF=O(c5,ej)dF=eC*2^21%2^32+(eD%2^32-eD%2^11)/2^11;dG=eD*2^21%2^32+(eC%2^32-eC%2^11)/2^11;dP=ew*2^28%2^32+(ex%2^32-ex%2^4)/2^4;dQ=ex*2^28%2^32+(ew%2^32-ew%2^4)/2^4;dZ=eA*2^25%2^32+(eB%2^32-eB%2^7)/2^7;d_=eB*2^25%2^32+(eA%2^32-eA%2^7)/2^7;e8=(eE%2^32-eE%2^8)/2^8+eF*2^24%2^32;e9=(eF%2^32-eF%2^8)/2^8+eE*2^24%2^32;ei=(ey%2^32-ey%2^9)/2^9+ez*2^23%2^32;ej=(ez%2^32-ez%2^9)/2^9+ey*2^23%2^32;c4=O(es,em*2+(en%2^32-en%2^31)/2^31)c5=O(et,en*2+(em%2^32-em%2^31)/2^31)ew=O(c4,dH)ex=O(c5,dI)ey=O(c4,dR)ez=O(c5,dS)eA=O(c4,e0)eB=O(c5,e1)eC=O(c4,ea)eD=O(c5,eb)eE=O(c4,ek)eF=O(c5,el)dH=eE*2^14+(eF%2^32-eF%2^18)/2^18;dI=eF*2^14+(eE%2^32-eE%2^18)/2^18;dR=ey*2^20%2^32+(ez%2^32-ez%2^12)/2^12;dS=ez*2^20%2^32+(ey%2^32-ey%2^12)/2^12;e0=eC*2^8+(eD%2^32-eD%2^24)/2^24;e1=eD*2^8+(eC%2^32-eC%2^24)/2^24;ea=ew*2^27%2^32+(ex%2^32-ex%2^5)/2^5;eb=ex*2^27%2^32+(ew%2^32-ew%2^5)/2^5;ek=(eA%2^32-eA%2^25)/2^25+eB*2^7;el=(eB%2^32-eB%2^25)/2^25+eA*2^7;c4=O(eu,eo*2+(ep%2^32-ep%2^31)/2^31)c5=O(ev,ep*2+(eo%2^32-eo%2^31)/2^31)ey=O(c4,dJ)ez=O(c5,dK)eA=O(c4,dT)eB=O(c5,dU)eC=O(c4,e2)eD=O(c5,e3)eE=O(c4,ec)eF=O(c5,ed)dJ=eA*2^3+(eB%2^32-eB%2^29)/2^29;dK=eB*2^3+(eA%2^32-eA%2^29)/2^29;dT=eE*2^18+(eF%2^32-eF%2^14)/2^14;dU=eF*2^18+(eE%2^32-eE%2^14)/2^14;e2=(ey%2^32-ey%2^28)/2^28+ez*2^4;e3=(ez%2^32-ez%2^28)/2^28+ey*2^4;ec=(eC%2^32-eC%2^23)/2^23+eD*2^9;ed=(eD%2^32-eD%2^23)/2^23+eC*2^9;dz=O(c4,dz)dA=O(c5,dA)dz,dB,dD,dF,dH=O(dz,M(-1-dB,dD)),O(dB,M(-1-dD,dF)),O(dD,M(-1-dF,dH)),O(dF,M(-1-dH,dz)),O(dH,M(-1-dz,dB))dA,dC,dE,dG,dI=O(dA,M(-1-dC,dE)),O(dC,M(-1-dE,dG)),O(dE,M(-1-dG,dI)),O(dG,M(-1-dI,dA)),O(dI,M(-1-dA,dC))dJ,dL,dN,dP,dR=O(dP,M(-1-dR,dJ)),O(dR,M(-1-dJ,dL)),O(dJ,M(-1-dL,dN)),O(dL,M(-1-dN,dP)),O(dN,M(-1-dP,dR))dK,dM,dO,dQ,dS=O(dQ,M(-1-dS,dK)),O(dS,M(-1-dK,dM)),O(dK,M(-1-dM,dO)),O(dM,M(-1-dO,dQ)),O(dO,M(-1-dQ,dS))dT,dV,dX,dZ,e0=O(dV,M(-1-dX,dZ)),O(dX,M(-1-dZ,e0)),O(dZ,M(-1-e0,dT)),O(e0,M(-1-dT,dV)),O(dT,M(-1-dV,dX))dU,dW,dY,d_,e1=O(dW,M(-1-dY,d_)),O(dY,M(-1-d_,e1)),O(d_,M(-1-e1,dU)),O(e1,M(-1-dU,dW)),O(dU,M(-1-dW,dY))e2,e4,e6,e8,ea=O(ea,M(-1-e2,e4)),O(e2,M(-1-e4,e6)),O(e4,M(-1-e6,e8)),O(e6,M(-1-e8,ea)),O(e8,M(-1-ea,e2))e3,e5,e7,e9,eb=O(eb,M(-1-e3,e5)),O(e3,M(-1-e5,e7)),O(e5,M(-1-e7,e9)),O(e7,M(-1-e9,eb)),O(e9,M(-1-eb,e3))ec,ee,eg,ei,ek=O(eg,M(-1-ei,ek)),O(ei,M(-1-ek,ec)),O(ek,M(-1-ec,ee)),O(ec,M(-1-ee,eg)),O(ee,M(-1-eg,ei))ed,ef,eh,ej,el=O(eh,M(-1-ej,el)),O(ej,M(-1-el,ed)),O(el,M(-1-ed,ef)),O(ed,M(-1-ef,eh)),O(ef,M(-1-eh,ej))dz=O(dz,c2[bo])dA=dA+c3[bo]end;c0[1]=dz;c1[1]=dA;c0[2]=dB;c1[2]=dC;c0[3]=dD;c1[3]=dE;c0[4]=dF;c1[4]=dG;c0[5]=dH;c1[5]=dI;c0[6]=dJ;c1[6]=dK;c0[7]=dL;c1[7]=dM;c0[8]=dN;c1[8]=dO;c0[9]=dP;c1[9]=dQ;c0[10]=dR;c1[10]=dS;c0[11]=dT;c1[11]=dU;c0[12]=dV;c1[12]=dW;c0[13]=dX;c1[13]=dY;c0[14]=dZ;c1[14]=d_;c0[15]=e0;c1[15]=e1;c0[16]=e2;c1[16]=e3;c0[17]=e4;c1[17]=e5;c0[18]=e6;c1[18]=e7;c0[19]=e8;c1[19]=e9;c0[20]=ea;c1[20]=eb;c0[21]=ec;c1[21]=ed;c0[22]=ee;c1[22]=ef;c0[23]=eg;c1[23]=eh;c0[24]=ei;c1[24]=ej;c0[25]=ek;c1[25]=el end end;function a4(aA,aB,aC,ax,b7,b8,b9)local aD=al;local ba,bb,bc,bd,be,bf,bg,bh=aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]for aF=aC,aC+ax-1,64 do if aB then for az=1,16 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=((aI*256+aH)*256+E)*256+aG end end;local eG,eH,eI,eJ,eK,eL,eM,eN=ba,bb,bc,bd,be,bf,bg,bh;local eO,eP,eQ,eR,eS,eT,eU,eV=aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7],aa[8]b7=b7+(b8 or 64)local cO=b7%2^32;local cP=(b7-cO)/2^32;eS=O(eS,cO)eT=O(eT,cP)if b8 then eU=-1-eU end;if b9 then eV=-1-eV end;for az=1,10 do local bi=as[az]eG=eG+eK+aD[bi[1]]eS=O(eS,eG)%2^32/2^16;eS=eS%1*(2^32-1)+eS;eO=eO+eS;eK=O(eK,eO)%2^32/2^12;eK=eK%1*(2^32-1)+eK;eG=eG+eK+aD[bi[2]]eS=O(eS,eG)%2^32/2^8;eS=eS%1*(2^32-1)+eS;eO=eO+eS;eK=O(eK,eO)%2^32/2^7;eK=eK%1*(2^32-1)+eK;eH=eH+eL+aD[bi[3]]eT=O(eT,eH)%2^32/2^16;eT=eT%1*(2^32-1)+eT;eP=eP+eT;eL=O(eL,eP)%2^32/2^12;eL=eL%1*(2^32-1)+eL;eH=eH+eL+aD[bi[4]]eT=O(eT,eH)%2^32/2^8;eT=eT%1*(2^32-1)+eT;eP=eP+eT;eL=O(eL,eP)%2^32/2^7;eL=eL%1*(2^32-1)+eL;eI=eI+eM+aD[bi[5]]eU=O(eU,eI)%2^32/2^16;eU=eU%1*(2^32-1)+eU;eQ=eQ+eU;eM=O(eM,eQ)%2^32/2^12;eM=eM%1*(2^32-1)+eM;eI=eI+eM+aD[bi[6]]eU=O(eU,eI)%2^32/2^8;eU=eU%1*(2^32-1)+eU;eQ=eQ+eU;eM=O(eM,eQ)%2^32/2^7;eM=eM%1*(2^32-1)+eM;eJ=eJ+eN+aD[bi[7]]eV=O(eV,eJ)%2^32/2^16;eV=eV%1*(2^32-1)+eV;eR=eR+eV;eN=O(eN,eR)%2^32/2^12;eN=eN%1*(2^32-1)+eN;eJ=eJ+eN+aD[bi[8]]eV=O(eV,eJ)%2^32/2^8;eV=eV%1*(2^32-1)+eV;eR=eR+eV;eN=O(eN,eR)%2^32/2^7;eN=eN%1*(2^32-1)+eN;eG=eG+eL+aD[bi[9]]eV=O(eV,eG)%2^32/2^16;eV=eV%1*(2^32-1)+eV;eQ=eQ+eV;eL=O(eL,eQ)%2^32/2^12;eL=eL%1*(2^32-1)+eL;eG=eG+eL+aD[bi[10]]eV=O(eV,eG)%2^32/2^8;eV=eV%1*(2^32-1)+eV;eQ=eQ+eV;eL=O(eL,eQ)%2^32/2^7;eL=eL%1*(2^32-1)+eL;eH=eH+eM+aD[bi[11]]eS=O(eS,eH)%2^32/2^16;eS=eS%1*(2^32-1)+eS;eR=eR+eS;eM=O(eM,eR)%2^32/2^12;eM=eM%1*(2^32-1)+eM;eH=eH+eM+aD[bi[12]]eS=O(eS,eH)%2^32/2^8;eS=eS%1*(2^32-1)+eS;eR=eR+eS;eM=O(eM,eR)%2^32/2^7;eM=eM%1*(2^32-1)+eM;eI=eI+eN+aD[bi[13]]eT=O(eT,eI)%2^32/2^16;eT=eT%1*(2^32-1)+eT;eO=eO+eT;eN=O(eN,eO)%2^32/2^12;eN=eN%1*(2^32-1)+eN;eI=eI+eN+aD[bi[14]]eT=O(eT,eI)%2^32/2^8;eT=eT%1*(2^32-1)+eT;eO=eO+eT;eN=O(eN,eO)%2^32/2^7;eN=eN%1*(2^32-1)+eN;eJ=eJ+eK+aD[bi[15]]eU=O(eU,eJ)%2^32/2^16;eU=eU%1*(2^32-1)+eU;eP=eP+eU;eK=O(eK,eP)%2^32/2^12;eK=eK%1*(2^32-1)+eK;eJ=eJ+eK+aD[bi[16]]eU=O(eU,eJ)%2^32/2^8;eU=eU%1*(2^32-1)+eU;eP=eP+eU;eK=O(eK,eP)%2^32/2^7;eK=eK%1*(2^32-1)+eK end;ba=O(ba,eG,eO)bb=O(bb,eH,eP)bc=O(bc,eI,eQ)bd=O(bd,eJ,eR)be=O(be,eK,eS)bf=O(bf,eL,eT)bg=O(bg,eM,eU)bh=O(bh,eN,eV)end;aA[1],aA[2],aA[3],aA[4],aA[5],aA[6],aA[7],aA[8]=ba,bb,bc,bd,be,bf,bg,bh;return b7 end;function a5(cc,cd,aB,aC,ax,b7,b8,b9)local aD=al;local cw,cx,cy,cz,cA,cB,cC,cD=cc[1],cc[2],cc[3],cc[4],cc[5],cc[6],cc[7],cc[8]local cE,cF,cG,cH,cI,cJ,cK,cL=cd[1],cd[2],cd[3],cd[4],cd[5],cd[6],cd[7],cd[8]for aF=aC,aC+ax-1,128 do if aB then for az=1,32 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=((aI*256+aH)*256+E)*256+aG end end;local eW,eX,eY,eZ,e_,f0,f1,f2=cw,cx,cy,cz,cA,cB,cC,cD;local f3,f4,f5,f6,f7,f8,f9,fa=cE,cF,cG,cH,cI,cJ,cK,cL;local fb,fc,fd,fe,ff,fg,fh,fi=a9[1],a9[2],a9[3],a9[4],a9[5],a9[6],a9[7],a9[8]local fj,fk,fl,fm,fn,fo,fp,fq=aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7],aa[8]b7=b7+(b8 or 128)local cM=b7%2^32;local cN=(b7-cM)/2^32;ff=O(ff,cM)fn=O(fn,cN)if b8 then fh=-1-fh;fp=-1-fp end;if b9 then fi=-1-fi;fq=-1-fq end;for az=1,12 do local bi=as[az]local q=bi[1]*2;local aN=eW%2^32+e_%2^32+aD[q-1]eW=aN%2^32;f3=f3+f7+(aN-eW)/2^32+aD[q]ff,fn=O(fn,f3),O(ff,eW)aN=fb%2^32+ff%2^32;fb=aN%2^32;fj=fj+fn+(aN-fb)/2^32;e_,f7=O(e_,fb),O(f7,fj)local ck,cl=e_%2^24,f7%2^24;e_,f7=(e_-ck)/2^24%2^8+cl*2^8,(f7-cl)/2^24%2^8+ck*2^8;q=bi[2]*2;aN=eW%2^32+e_%2^32+aD[q-1]eW=aN%2^32;f3=f3+f7+(aN-eW)/2^32+aD[q]ff,fn=O(ff,eW),O(fn,f3)ck,cl=ff%2^16,fn%2^16;ff,fn=(ff-ck)/2^16%2^16+cl*2^16,(fn-cl)/2^16%2^16+ck*2^16;aN=fb%2^32+ff%2^32;fb=aN%2^32;fj=fj+fn+(aN-fb)/2^32;e_,f7=O(e_,fb),O(f7,fj)ck,cl=e_%2^31,f7%2^31;e_,f7=ck*2^1+(f7-cl)/2^31%2^1,cl*2^1+(e_-ck)/2^31%2^1;q=bi[3]*2;aN=eX%2^32+f0%2^32+aD[q-1]eX=aN%2^32;f4=f4+f8+(aN-eX)/2^32+aD[q]fg,fo=O(fo,f4),O(fg,eX)aN=fc%2^32+fg%2^32;fc=aN%2^32;fk=fk+fo+(aN-fc)/2^32;f0,f8=O(f0,fc),O(f8,fk)ck,cl=f0%2^24,f8%2^24;f0,f8=(f0-ck)/2^24%2^8+cl*2^8,(f8-cl)/2^24%2^8+ck*2^8;q=bi[4]*2;aN=eX%2^32+f0%2^32+aD[q-1]eX=aN%2^32;f4=f4+f8+(aN-eX)/2^32+aD[q]fg,fo=O(fg,eX),O(fo,f4)ck,cl=fg%2^16,fo%2^16;fg,fo=(fg-ck)/2^16%2^16+cl*2^16,(fo-cl)/2^16%2^16+ck*2^16;aN=fc%2^32+fg%2^32;fc=aN%2^32;fk=fk+fo+(aN-fc)/2^32;f0,f8=O(f0,fc),O(f8,fk)ck,cl=f0%2^31,f8%2^31;f0,f8=ck*2^1+(f8-cl)/2^31%2^1,cl*2^1+(f0-ck)/2^31%2^1;q=bi[5]*2;aN=eY%2^32+f1%2^32+aD[q-1]eY=aN%2^32;f5=f5+f9+(aN-eY)/2^32+aD[q]fh,fp=O(fp,f5),O(fh,eY)aN=fd%2^32+fh%2^32;fd=aN%2^32;fl=fl+fp+(aN-fd)/2^32;f1,f9=O(f1,fd),O(f9,fl)ck,cl=f1%2^24,f9%2^24;f1,f9=(f1-ck)/2^24%2^8+cl*2^8,(f9-cl)/2^24%2^8+ck*2^8;q=bi[6]*2;aN=eY%2^32+f1%2^32+aD[q-1]eY=aN%2^32;f5=f5+f9+(aN-eY)/2^32+aD[q]fh,fp=O(fh,eY),O(fp,f5)ck,cl=fh%2^16,fp%2^16;fh,fp=(fh-ck)/2^16%2^16+cl*2^16,(fp-cl)/2^16%2^16+ck*2^16;aN=fd%2^32+fh%2^32;fd=aN%2^32;fl=fl+fp+(aN-fd)/2^32;f1,f9=O(f1,fd),O(f9,fl)ck,cl=f1%2^31,f9%2^31;f1,f9=ck*2^1+(f9-cl)/2^31%2^1,cl*2^1+(f1-ck)/2^31%2^1;q=bi[7]*2;aN=eZ%2^32+f2%2^32+aD[q-1]eZ=aN%2^32;f6=f6+fa+(aN-eZ)/2^32+aD[q]fi,fq=O(fq,f6),O(fi,eZ)aN=fe%2^32+fi%2^32;fe=aN%2^32;fm=fm+fq+(aN-fe)/2^32;f2,fa=O(f2,fe),O(fa,fm)ck,cl=f2%2^24,fa%2^24;f2,fa=(f2-ck)/2^24%2^8+cl*2^8,(fa-cl)/2^24%2^8+ck*2^8;q=bi[8]*2;aN=eZ%2^32+f2%2^32+aD[q-1]eZ=aN%2^32;f6=f6+fa+(aN-eZ)/2^32+aD[q]fi,fq=O(fi,eZ),O(fq,f6)ck,cl=fi%2^16,fq%2^16;fi,fq=(fi-ck)/2^16%2^16+cl*2^16,(fq-cl)/2^16%2^16+ck*2^16;aN=fe%2^32+fi%2^32;fe=aN%2^32;fm=fm+fq+(aN-fe)/2^32;f2,fa=O(f2,fe),O(fa,fm)ck,cl=f2%2^31,fa%2^31;f2,fa=ck*2^1+(fa-cl)/2^31%2^1,cl*2^1+(f2-ck)/2^31%2^1;q=bi[9]*2;aN=eW%2^32+f0%2^32+aD[q-1]eW=aN%2^32;f3=f3+f8+(aN-eW)/2^32+aD[q]fi,fq=O(fq,f3),O(fi,eW)aN=fd%2^32+fi%2^32;fd=aN%2^32;fl=fl+fq+(aN-fd)/2^32;f0,f8=O(f0,fd),O(f8,fl)ck,cl=f0%2^24,f8%2^24;f0,f8=(f0-ck)/2^24%2^8+cl*2^8,(f8-cl)/2^24%2^8+ck*2^8;q=bi[10]*2;aN=eW%2^32+f0%2^32+aD[q-1]eW=aN%2^32;f3=f3+f8+(aN-eW)/2^32+aD[q]fi,fq=O(fi,eW),O(fq,f3)ck,cl=fi%2^16,fq%2^16;fi,fq=(fi-ck)/2^16%2^16+cl*2^16,(fq-cl)/2^16%2^16+ck*2^16;aN=fd%2^32+fi%2^32;fd=aN%2^32;fl=fl+fq+(aN-fd)/2^32;f0,f8=O(f0,fd),O(f8,fl)ck,cl=f0%2^31,f8%2^31;f0,f8=ck*2^1+(f8-cl)/2^31%2^1,cl*2^1+(f0-ck)/2^31%2^1;q=bi[11]*2;aN=eX%2^32+f1%2^32+aD[q-1]eX=aN%2^32;f4=f4+f9+(aN-eX)/2^32+aD[q]ff,fn=O(fn,f4),O(ff,eX)aN=fe%2^32+ff%2^32;fe=aN%2^32;fm=fm+fn+(aN-fe)/2^32;f1,f9=O(f1,fe),O(f9,fm)ck,cl=f1%2^24,f9%2^24;f1,f9=(f1-ck)/2^24%2^8+cl*2^8,(f9-cl)/2^24%2^8+ck*2^8;q=bi[12]*2;aN=eX%2^32+f1%2^32+aD[q-1]eX=aN%2^32;f4=f4+f9+(aN-eX)/2^32+aD[q]ff,fn=O(ff,eX),O(fn,f4)ck,cl=ff%2^16,fn%2^16;ff,fn=(ff-ck)/2^16%2^16+cl*2^16,(fn-cl)/2^16%2^16+ck*2^16;aN=fe%2^32+ff%2^32;fe=aN%2^32;fm=fm+fn+(aN-fe)/2^32;f1,f9=O(f1,fe),O(f9,fm)ck,cl=f1%2^31,f9%2^31;f1,f9=ck*2^1+(f9-cl)/2^31%2^1,cl*2^1+(f1-ck)/2^31%2^1;q=bi[13]*2;aN=eY%2^32+f2%2^32+aD[q-1]eY=aN%2^32;f5=f5+fa+(aN-eY)/2^32+aD[q]fg,fo=O(fo,f5),O(fg,eY)aN=fb%2^32+fg%2^32;fb=aN%2^32;fj=fj+fo+(aN-fb)/2^32;f2,fa=O(f2,fb),O(fa,fj)ck,cl=f2%2^24,fa%2^24;f2,fa=(f2-ck)/2^24%2^8+cl*2^8,(fa-cl)/2^24%2^8+ck*2^8;q=bi[14]*2;aN=eY%2^32+f2%2^32+aD[q-1]eY=aN%2^32;f5=f5+fa+(aN-eY)/2^32+aD[q]fg,fo=O(fg,eY),O(fo,f5)ck,cl=fg%2^16,fo%2^16;fg,fo=(fg-ck)/2^16%2^16+cl*2^16,(fo-cl)/2^16%2^16+ck*2^16;aN=fb%2^32+fg%2^32;fb=aN%2^32;fj=fj+fo+(aN-fb)/2^32;f2,fa=O(f2,fb),O(fa,fj)ck,cl=f2%2^31,fa%2^31;f2,fa=ck*2^1+(fa-cl)/2^31%2^1,cl*2^1+(f2-ck)/2^31%2^1;q=bi[15]*2;aN=eZ%2^32+e_%2^32+aD[q-1]eZ=aN%2^32;f6=f6+f7+(aN-eZ)/2^32+aD[q]fh,fp=O(fp,f6),O(fh,eZ)aN=fc%2^32+fh%2^32;fc=aN%2^32;fk=fk+fp+(aN-fc)/2^32;e_,f7=O(e_,fc),O(f7,fk)ck,cl=e_%2^24,f7%2^24;e_,f7=(e_-ck)/2^24%2^8+cl*2^8,(f7-cl)/2^24%2^8+ck*2^8;q=bi[16]*2;aN=eZ%2^32+e_%2^32+aD[q-1]eZ=aN%2^32;f6=f6+f7+(aN-eZ)/2^32+aD[q]fh,fp=O(fh,eZ),O(fp,f6)ck,cl=fh%2^16,fp%2^16;fh,fp=(fh-ck)/2^16%2^16+cl*2^16,(fp-cl)/2^16%2^16+ck*2^16;aN=fc%2^32+fh%2^32;fc=aN%2^32;fk=fk+fp+(aN-fc)/2^32;e_,f7=O(e_,fc),O(f7,fk)ck,cl=e_%2^31,f7%2^31;e_,f7=ck*2^1+(f7-cl)/2^31%2^1,cl*2^1+(e_-ck)/2^31%2^1 end;cw=O(cw,eW,fb)%2^32;cx=O(cx,eX,fc)%2^32;cy=O(cy,eY,fd)%2^32;cz=O(cz,eZ,fe)%2^32;cA=O(cA,e_,ff)%2^32;cB=O(cB,f0,fg)%2^32;cC=O(cC,f1,fh)%2^32;cD=O(cD,f2,fi)%2^32;cE=O(cE,f3,fj)%2^32;cF=O(cF,f4,fk)%2^32;cG=O(cG,f5,fl)%2^32;cH=O(cH,f6,fm)%2^32;cI=O(cI,f7,fn)%2^32;cJ=O(cJ,f8,fo)%2^32;cK=O(cK,f9,fp)%2^32;cL=O(cL,fa,fq)%2^32 end;cc[1],cc[2],cc[3],cc[4],cc[5],cc[6],cc[7],cc[8]=cw,cx,cy,cz,cA,cB,cC,cD;cd[1],cd[2],cd[3],cd[4],cd[5],cd[6],cd[7],cd[8]=cE,cF,cG,cH,cI,cJ,cK,cL;return b7 end;function a6(aB,aC,ax,cQ,cR,cS,cT,cU,cV)cV=cV or 64;local aD=al;local ba,bb,bc,bd,be,bf,bg,bh=cS[1],cS[2],cS[3],cS[4],cS[5],cS[6],cS[7],cS[8]cT=cT or cS;for aF=aC,aC+ax-1,64 do if aB then for az=1,16 do aF=aF+4;local aG,E,aH,aI=c(aB,aF-3,aF)aD[az]=((aI*256+aH)*256+E)*256+aG end end;local eG,eH,eI,eJ,eK,eL,eM,eN=ba,bb,bc,bd,be,bf,bg,bh;local eO,eP,eQ,eR=aa[1],aa[2],aa[3],aa[4]local eS=cR%2^32;local eT=(cR-eS)/2^32;local eU,eV=cV,cQ;for az=1,7 do eG=eG+eK+aD[at[az]]eS=O(eS,eG)%2^32/2^16;eS=eS%1*(2^32-1)+eS;eO=eO+eS;eK=O(eK,eO)%2^32/2^12;eK=eK%1*(2^32-1)+eK;eG=eG+eK+aD[at[az+14]]eS=O(eS,eG)%2^32/2^8;eS=eS%1*(2^32-1)+eS;eO=eO+eS;eK=O(eK,eO)%2^32/2^7;eK=eK%1*(2^32-1)+eK;eH=eH+eL+aD[at[az+1]]eT=O(eT,eH)%2^32/2^16;eT=eT%1*(2^32-1)+eT;eP=eP+eT;eL=O(eL,eP)%2^32/2^12;eL=eL%1*(2^32-1)+eL;eH=eH+eL+aD[at[az+2]]eT=O(eT,eH)%2^32/2^8;eT=eT%1*(2^32-1)+eT;eP=eP+eT;eL=O(eL,eP)%2^32/2^7;eL=eL%1*(2^32-1)+eL;eI=eI+eM+aD[at[az+16]]eU=O(eU,eI)%2^32/2^16;eU=eU%1*(2^32-1)+eU;eQ=eQ+eU;eM=O(eM,eQ)%2^32/2^12;eM=eM%1*(2^32-1)+eM;eI=eI+eM+aD[at[az+7]]eU=O(eU,eI)%2^32/2^8;eU=eU%1*(2^32-1)+eU;eQ=eQ+eU;eM=O(eM,eQ)%2^32/2^7;eM=eM%1*(2^32-1)+eM;eJ=eJ+eN+aD[at[az+15]]eV=O(eV,eJ)%2^32/2^16;eV=eV%1*(2^32-1)+eV;eR=eR+eV;eN=O(eN,eR)%2^32/2^12;eN=eN%1*(2^32-1)+eN;eJ=eJ+eN+aD[at[az+17]]eV=O(eV,eJ)%2^32/2^8;eV=eV%1*(2^32-1)+eV;eR=eR+eV;eN=O(eN,eR)%2^32/2^7;eN=eN%1*(2^32-1)+eN;eG=eG+eL+aD[at[az+21]]eV=O(eV,eG)%2^32/2^16;eV=eV%1*(2^32-1)+eV;eQ=eQ+eV;eL=O(eL,eQ)%2^32/2^12;eL=eL%1*(2^32-1)+eL;eG=eG+eL+aD[at[az+5]]eV=O(eV,eG)%2^32/2^8;eV=eV%1*(2^32-1)+eV;eQ=eQ+eV;eL=O(eL,eQ)%2^32/2^7;eL=eL%1*(2^32-1)+eL;eH=eH+eM+aD[at[az+3]]eS=O(eS,eH)%2^32/2^16;eS=eS%1*(2^32-1)+eS;eR=eR+eS;eM=O(eM,eR)%2^32/2^12;eM=eM%1*(2^32-1)+eM;eH=eH+eM+aD[at[az+6]]eS=O(eS,eH)%2^32/2^8;eS=eS%1*(2^32-1)+eS;eR=eR+eS;eM=O(eM,eR)%2^32/2^7;eM=eM%1*(2^32-1)+eM;eI=eI+eN+aD[at[az+4]]eT=O(eT,eI)%2^32/2^16;eT=eT%1*(2^32-1)+eT;eO=eO+eT;eN=O(eN,eO)%2^32/2^12;eN=eN%1*(2^32-1)+eN;eI=eI+eN+aD[at[az+18]]eT=O(eT,eI)%2^32/2^8;eT=eT%1*(2^32-1)+eT;eO=eO+eT;eN=O(eN,eO)%2^32/2^7;eN=eN%1*(2^32-1)+eN;eJ=eJ+eK+aD[at[az+19]]eU=O(eU,eJ)%2^32/2^16;eU=eU%1*(2^32-1)+eU;eP=eP+eU;eK=O(eK,eP)%2^32/2^12;eK=eK%1*(2^32-1)+eK;eJ=eJ+eK+aD[at[az+20]]eU=O(eU,eJ)%2^32/2^8;eU=eU%1*(2^32-1)+eU;eP=eP+eU;eK=O(eK,eP)%2^32/2^7;eK=eK%1*(2^32-1)+eK end;if cU then cT[9]=O(ba,eO)cT[10]=O(bb,eP)cT[11]=O(bc,eQ)cT[12]=O(bd,eR)cT[13]=O(be,eS)cT[14]=O(bf,eT)cT[15]=O(bg,eU)cT[16]=O(bh,eV)end;ba=O(eG,eO)bb=O(eH,eP)bc=O(eI,eQ)bd=O(eJ,eR)be=O(eK,eS)bf=O(eL,eT)bg=O(eM,eU)bh=O(eN,eV)end;cT[1],cT[2],cT[3],cT[4],cT[5],cT[6],cT[7],cT[8]=ba,bb,bc,bd,be,bf,bg,bh end end;do local function fr(fs,ft,fu,fv)local H,fw,fx,fy={},0.0,0.0,1.0;for az=1,fv do for q=m(1,az+1-#ft),l(az,#fs)do fw=fw+fu*fs[q]*ft[az+1-q]end;local fz=fw%2^24;H[az]=j(fz)fw=(fw-fz)/2^24;fx=fx+fz*fy;fy=fy*2^24 end;return H,fx end;local fA,fB,fC,p,fD,fE=0,{4,1,2,-2,2},4,{1},aa,a9;repeat fC=fC+fB[fC%6]local aI=1;repeat aI=aI+fB[aI%6]if aI*aI>fC then local fF=fC^(1/3)local fG=fF*2^40;fG=fr({fG-fG%1},p,1.0,2)local I,fH=fr(fG,fr(fG,fG,1.0,4),-1.0,4)local fI=fG[2]%65536*65536+j(fG[1]/256)local fJ=fG[1]%256*16777216+j(fH*2^-56/3*fF/fC)if fA<16 then fF=fC^(1/2)fG=fF*2^40;fG=fr({fG-fG%1},p,1.0,2)I,fH=fr(fG,fG,-1.0,2)local fI=fG[2]%65536*65536+j(fG[1]/256)local fJ=fG[1]%256*16777216+j(fH*2^-17/fF)local fA=fA%8+1;ad[224][fA]=fJ;fD[fA],fE[fA]=fI,fJ+fI*aq;if fA>7 then fD,fE=af[384],ae[384]end end;fA=fA+1;a8[fA],a7[fA]=fI,fJ%ap+fI*aq;break end until fC%aI==0 until fA>79 end;for fK=224,256,32 do local cc,cd={}if aj then for az=1,8 do cc[az]=X(a9[az])end else cd={}for az=1,8 do cc[az]=X(a9[az])cd[az]=X(aa[az])end end;a0(cc,cd,\"SHA-512/\"..tostring(fK)..\"\\128\"..e(\"\\0\",115)..\"\\88\",0,128)ae[fK]=cc;af[fK]=cd end;do local fL,fM,fN=math.sin,math.abs,math.modf;for fA=1,64 do local fI,fJ=fN(fM(fL(fA))*2^16)ag[fA]=fI*65536+j(fJ*2^16)end end;do local fO=29;local function fP()local fQ=fO%2;fO=W((fO-fQ)/2,142*fQ)return fQ end;for fA=1,24 do local fJ,s=0;for I=1,6 do s=s and s*s*2 or 1;fJ=fJ+fP()*s end;local fI=fP()*s;ac[fA],ab[fA]=fI,fJ+fI*ar end end;if L==\"FFI\"then a8=D.new(\"uint32_t[?]\",#a8+1,0,unpack(a8))a7=D.new(\"int64_t[?]\",#a7+1,0,unpack(a7))if ar==0 then ab=D.new(\"uint32_t[?]\",#ab+1,0,unpack(ab))ac=D.new(\"uint32_t[?]\",#ac+1,0,unpack(ac))else ab=D.new(\"int64_t[?]\",#ab+1,0,unpack(ab))end end;local function fR(fK,fS)local aA,fT,fU={unpack(ad[fK])},0.0,\"\"local function fV(fW)if fW then if fU then fT=fT+#fW;local aC=0;if fU~=\"\"and#fU+#fW>=64 then aC=64-#fU;_(aA,fU..f(fW,1,aC),0,64)fU=\"\"end;local ax=#fW-aC;local fX=ax%64;_(aA,fW,aC,ax-fX)fU=fU..f(fW,#fW+1-fX)return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if fU then local fY={fU,\"\\128\",e(\"\\0\",(-9-fT)%64+1)}fU=nil;fT=fT*8/256^7;for az=4,10 do fT=fT%1*256;fY[az]=d(j(fT))end;fY=b(fY)_(aA,fY,0,#fY)local fZ=fK/32;for az=1,fZ do aA[az]=V(aA[az])end;aA=b(aA,\"\",1,fZ)end;return aA end end;if fS then return fV(fS)()else return fV end end;local function f_(fK,fS)local fT,fU,cc,cd=0.0,\"\",{unpack(ae[fK])},not aj and{unpack(af[fK])}local function fV(fW)if fW then if fU then fT=fT+#fW;local aC=0;if fU~=\"\"and#fU+#fW>=128 then aC=128-#fU;a0(cc,cd,fU..f(fW,1,aC),0,128)fU=\"\"end;local ax=#fW-aC;local fX=ax%128;a0(cc,cd,fW,aC,ax-fX)fU=fU..f(fW,#fW+1-fX)return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if fU then local fY={fU,\"\\128\",e(\"\\0\",(-17-fT)%128+9)}fU=nil;fT=fT*8/256^7;for az=4,10 do fT=fT%1*256;fY[az]=d(j(fT))end;fY=b(fY)a0(cc,cd,fY,0,#fY)local fZ=k(fK/64)if aj then for az=1,fZ do cc[az]=aj(cc[az])end else for az=1,fZ do cc[az]=V(cd[az])..V(cc[az])end;cd=nil end;cc=f(b(cc,\"\",1,fZ),1,fK/4)end;return cc end end;if fS then return fV(fS)()else return fV end end;local function g0(fS)local aA,fT,fU={unpack(ah,1,4)},0.0,\"\"local function fV(fW)if fW then if fU then fT=fT+#fW;local aC=0;if fU~=\"\"and#fU+#fW>=64 then aC=64-#fU;a1(aA,fU..f(fW,1,aC),0,64)fU=\"\"end;local ax=#fW-aC;local fX=ax%64;a1(aA,fW,aC,ax-fX)fU=fU..f(fW,#fW+1-fX)return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if fU then local fY={fU,\"\\128\",e(\"\\0\",(-9-fT)%64)}fU=nil;fT=fT*8;for az=4,11 do local g1=fT%256;fY[az]=d(g1)fT=(fT-g1)/256 end;fY=b(fY)a1(aA,fY,0,#fY)for az=1,4 do aA[az]=V(aA[az])end;aA=g(b(aA),\"(..)(..)(..)(..)\",\"%4%3%2%1\")end;return aA end end;if fS then return fV(fS)()else return fV end end;local function g2(fS)local aA,fT,fU={unpack(ah)},0.0,\"\"local function fV(fW)if fW then if fU then fT=fT+#fW;local aC=0;if fU~=\"\"and#fU+#fW>=64 then aC=64-#fU;a2(aA,fU..f(fW,1,aC),0,64)fU=\"\"end;local ax=#fW-aC;local fX=ax%64;a2(aA,fW,aC,ax-fX)fU=fU..f(fW,#fW+1-fX)return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if fU then local fY={fU,\"\\128\",e(\"\\0\",(-9-fT)%64+1)}fU=nil;fT=fT*8/256^7;for az=4,10 do fT=fT%1*256;fY[az]=d(j(fT))end;fY=b(fY)a2(aA,fY,0,#fY)for az=1,5 do aA[az]=V(aA[az])end;aA=b(aA)end;return aA end end;if fS then return fV(fS)()else return fV end end;local function g3(bl,g4,g5,fS)if type(g4)~=\"number\"then error(\"Argument 'digest_size_in_bytes' must be a number\",2)end;local fU,c0,c1=\"\",Z(),ar==0 and Z()local H;local function fV(fW)if fW then if fU then local aC=0;if fU~=\"\"and#fU+#fW>=bl then aC=bl-#fU;a3(c0,c1,fU..f(fW,1,aC),0,bl,bl)fU=\"\"end;local ax=#fW-aC;local fX=ax%bl;a3(c0,c1,fW,aC,ax-fX,bl)fU=fU..f(fW,#fW+1-fX)return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if fU then local g6=g5 and 31 or 6;fU=fU..(#fU+1==bl and d(g6+128)or d(g6)..e(\"\\0\",(-2-#fU)%bl)..\"\\128\")a3(c0,c1,fU,0,#fU,bl)fU=nil;local g7=0;local g8=j(bl/8)local g9={}local function ga(bn)if g7>=g8 then a3(c0,c1,\"\\0\\0\\0\\0\\0\\0\\0\\0\",0,8,8)g7=0 end;bn=j(l(bn,g8-g7))if ar~=0 then for az=1,bn do g9[az]=aj(c0[g7+az-1+ak])end else for az=1,bn do g9[az]=V(c1[g7+az])..V(c0[g7+az])end end;g7=g7+bn;return g(b(g9,\"\",1,bn),\"(..)(..)(..)(..)(..)(..)(..)(..)\",\"%8%7%6%5%4%3%2%1\"),bn*8 end;local gb={}local gc,gd=\"\",0;local function ge(gf)gf=gf or 1;if gf<=gd then gd=gd-gf;local gg=gf*2;local H=f(gc,1,gg)gc=f(gc,gg+1)return H end;local gh=0;if gd>0 then gh=1;gb[gh]=gc;gf=gf-gd end;while gf>=8 do local gi,gj=ga(gf/8)gh=gh+1;gb[gh]=gi;gf=gf-gj end;if gf>0 then gc,gd=ga(1)gh=gh+1;gb[gh]=ge(gf)else gc,gd=\"\",0 end;return b(gb,\"\",1,gh)end;if g4<0 then H=ge else H=ge(g4)end end;return H end end;if fS then return fV(fS)()else return fV end end;local gk,gl,gm,gn;do function gk(go)return g(go,\"%x%x\",function(gp)return d(tonumber(gp,16))end)end;function gl(gq)return g(gq,\".\",function(aH)return i(\"%02x\",c(aH))end)end;local gr={['+']=62,['-']=62,[62]='+',['/']=63,['_']=63,[63]='/',['=']=-1,['.']=-1,[-1]='='}local gs=0;for az,gt in ipairs{'AZ','az','09'}do for gu=c(gt),c(gt,2)do local gv=d(gu)gr[gv]=gs;gr[gs]=gv;gs=gs+1 end end;function gm(gq)local H={}for aF=1,#gq,3 do local gw,gx,gy,gz=c(f(gq,aF,aF+2)..'\\0',1,-1)H[#H+1]=gr[j(gw/4)]..gr[gw%4*16+j(gx/16)]..gr[gy and gx%16*4+j(gy/64)or-1]..gr[gz and gy%64 or-1]end;return b(H)end;function gn(gA)local H,gB={},3;for aF,gv in h(g(gA,'%s+',''),'()(.)')do local gC=gr[gv]if gC<0 then gB=gB-1;gC=0 end;local fA=aF%4;if fA>0 then H[-fA]=gC else local gw=H[-1]*4+j(H[-2]/16)local gx=H[-2]%16*16+j(H[-3]/4)local gy=H[-3]%4*64+gC;H[#H+1]=f(d(gw,gx,gy),1,gB)end end;return b(H)end end;local gD;local function gE(aB,fv,gF)return g(aB,\".\",function(aH)return d(W(c(aH),gF))end)..e(d(gF),fv-#aB)end;local function gG(gH,gI,fS)local gJ=gD[gH]if not gJ then error(\"Unknown hash function\",2)end;if#gI>gJ then gI=gk(gH(gI))end;local gK=gH()(gE(gI,gJ,0x36))local H;local function fV(fW)if not fW then H=H or gH(gE(gI,gJ,0x5C)..gk(gK()))return H elseif H then error(\"Adding more chunks is not allowed after receiving the result\",2)else gK(fW)return fV end end;if fS then return fV(fS)()else return fV end end;local function gL(gM,gN,cc,cd)local gO=gN==\"s\"and 16 or 32;local gP=#gM;if gP>gO then error(i(\"For BLAKE2%s/BLAKE2%sp/BLAKE2X%s the 'salt' parameter length must not exceed %d bytes\",gN,gN,gN,gO),2)end;if cc then local gQ,gR,gS=0,gN==\"s\"and 4 or 8,gN==\"s\"and O or X;for az=5,4+k(gP/gR)do local gT,gU;for I=1,gR,4 do gQ=gQ+4;local aG,E,aH,aI=c(gM,gQ-3,gQ)local gV=(((aI or 0)*256+(aH or 0))*256+(E or 0))*256+(aG or 0)gT,gU=gU,gV end;cc[az]=gS(cc[az],gT and gU*aq+gT or gU)if cd then cd[az]=gS(cd[az],gU)end end end end;local function gW(fS,gI,gM,g4,gX,gY)g4=g4 or 32;if g4<1 or g4>32 then error(\"BLAKE2s digest length must be from 1 to 32 bytes\",2)end;gI=gI or\"\"local gZ=#gI;if gZ>32 then error(\"BLAKE2s key length must not exceed 32 bytes\",2)end;gM=gM or\"\"local b7,fU,aA=0.0,\"\",{unpack(aa)}if gY then aA[1]=O(aA[1],g4)aA[2]=O(aA[2],0x20)aA[3]=O(aA[3],gY)aA[4]=O(aA[4],0x20000000+gX)else aA[1]=O(aA[1],0x01010000+gZ*256+g4)if gX then aA[4]=O(aA[4],gX)end end;if gM~=\"\"then gL(gM,\"s\",aA)end;local function fV(fW)if fW then if fU then local aC=0;if fU~=\"\"and#fU+#fW>64 then aC=64-#fU;b7=a4(aA,fU..f(fW,1,aC),0,64,b7)fU=\"\"end;local ax=#fW-aC;local fX=ax>0 and(ax-1)%64+1 or 0;b7=a4(aA,fW,aC,ax-fX,b7)fU=fU..f(fW,#fW+1-fX)return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if fU then if gY then a4(aA,nil,0,64,0,32)else a4(aA,fU..e(\"\\0\",64-#fU),0,64,b7,#fU)end;fU=nil;if not gX or gY then local fZ=k(g4/4)for az=1,fZ do aA[az]=V(aA[az])end;aA=f(g(b(aA,\"\",1,fZ),\"(..)(..)(..)(..)\",\"%4%3%2%1\"),1,g4*2)end end;return aA end end;if gZ>0 then fV(gI..e(\"\\0\",64-gZ))end;if gY then return fV()elseif fS then return fV(fS)()else return fV end end;local function g_(fS,gI,gM,g4,gX,gY)g4=j(g4 or 64)if g4<1 or g4>64 then error(\"BLAKE2b digest length must be from 1 to 64 bytes\",2)end;gI=gI or\"\"local gZ=#gI;if gZ>64 then error(\"BLAKE2b key length must not exceed 64 bytes\",2)end;gM=gM or\"\"local b7,fU,cc,cd=0.0,\"\",{unpack(a9)},not aj and{unpack(aa)}if gY then if cd then cc[1]=X(cc[1],g4)cd[1]=X(cd[1],0x40)cc[2]=X(cc[2],gY)cd[2]=X(cd[2],gX)else cc[1]=X(cc[1],0x40*aq+g4)cc[2]=X(cc[2],gX*aq+gY)end;cc[3]=X(cc[3],0x4000)else cc[1]=X(cc[1],0x01010000+gZ*256+g4)if gX then if cd then cd[2]=X(cd[2],gX)else cc[2]=X(cc[2],gX*aq)end end end;if gM~=\"\"then gL(gM,\"b\",cc,cd)end;local function fV(fW)if fW then if fU then local aC=0;if fU~=\"\"and#fU+#fW>128 then aC=128-#fU;b7=a5(cc,cd,fU..f(fW,1,aC),0,128,b7)fU=\"\"end;local ax=#fW-aC;local fX=ax>0 and(ax-1)%128+1 or 0;b7=a5(cc,cd,fW,aC,ax-fX,b7)fU=fU..f(fW,#fW+1-fX)return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if fU then if gY then a5(cc,cd,nil,0,128,0,64)else a5(cc,cd,fU..e(\"\\0\",128-#fU),0,128,b7,#fU)end;fU=nil;if gX and not gY then if cd then for az=8,1,-1 do cc[az*2]=cd[az]cc[az*2-1]=cc[az]end;return cc,16 end else local fZ=k(g4/8)if cd then for az=1,fZ do cc[az]=V(cd[az])..V(cc[az])end else for az=1,fZ do cc[az]=aj(cc[az])end end;cc=f(g(b(cc,\"\",1,fZ),\"(..)(..)(..)(..)(..)(..)(..)(..)\",\"%8%7%6%5%4%3%2%1\"),1,g4*2)end;cd=nil end;return cc end end;if gZ>0 then fV(gI..e(\"\\0\",128-gZ))end;if gY then return fV()elseif fS then return fV(fS)()else return fV end end;local function h0(fS,gI,gM,g4)g4=g4 or 32;if g4<1 or g4>32 then error(\"BLAKE2sp digest length must be from 1 to 32 bytes\",2)end;gI=gI or\"\"local gZ=#gI;if gZ>32 then error(\"BLAKE2sp key length must not exceed 32 bytes\",2)end;gM=gM or\"\"local h1,fT,h2,H={},0.0,0x02080000+gZ*256+g4;for az=1,8 do local b7,fU,aA=0.0,\"\",{unpack(aa)}h1[az]={b7,fU,aA}aA[1]=O(aA[1],h2)aA[3]=O(aA[3],az-1)aA[4]=O(aA[4],0x20000000)if gM~=\"\"then gL(gM,\"s\",aA)end end;local function fV(fW)if fW then if h1 then local h3=0;while true do local h4=l(h3+64-fT%64,#fW)if h4>h3 then local h5=h1[j(fT/64)%8+1]local h6=f(fW,h3+1,h4)fT,h3=fT+h4-h3,h4;local b7,fU=h5[1],h5[2]if#fU<64 then fU=fU..h6 else local aA=h5[3]b7=a4(aA,fU,0,64,b7)fU=h6 end;h5[1],h5[2]=b7,fU else break end end;return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if h1 then local h7={unpack(aa)}h7[1]=O(h7[1],h2)h7[4]=O(h7[4],0x20010000)if gM~=\"\"then gL(gM,\"s\",h7)end;for az=1,8 do local h5=h1[az]local b7,fU,aA=h5[1],h5[2],h5[3]a4(aA,fU..e(\"\\0\",64-#fU),0,64,b7,#fU,az==8)if az%2==0 then local h8=0;for q=az-1,az do local h5=h1[q]local aA=h5[3]for h9=1,8 do h8=h8+1;an[h8]=aA[h9]end end;a4(h7,nil,0,64,64*(az/2-1),az==8 and 64,az==8)end end;h1=nil;local fZ=k(g4/4)for az=1,fZ do h7[az]=V(h7[az])end;H=f(g(b(h7,\"\",1,fZ),\"(..)(..)(..)(..)\",\"%4%3%2%1\"),1,g4*2)end;return H end end;if gZ>0 then gI=gI..e(\"\\0\",64-gZ)for az=1,8 do fV(gI)end end;if fS then return fV(fS)()else return fV end end;local function ha(fS,gI,gM,g4)g4=g4 or 64;if g4<1 or g4>64 then error(\"BLAKE2bp digest length must be from 1 to 64 bytes\",2)end;gI=gI or\"\"local gZ=#gI;if gZ>64 then error(\"BLAKE2bp key length must not exceed 64 bytes\",2)end;gM=gM or\"\"local h1,fT,h2,H={},0.0,0x02040000+gZ*256+g4;for az=1,4 do local b7,fU,cc,cd=0.0,\"\",{unpack(a9)},not aj and{unpack(aa)}h1[az]={b7,fU,cc,cd}cc[1]=X(cc[1],h2)cc[2]=X(cc[2],az-1)cc[3]=X(cc[3],0x4000)if gM~=\"\"then gL(gM,\"b\",cc,cd)end end;local function fV(fW)if fW then if h1 then local h3=0;while true do local h4=l(h3+128-fT%128,#fW)if h4>h3 then local h5=h1[j(fT/128)%4+1]local h6=f(fW,h3+1,h4)fT,h3=fT+h4-h3,h4;local b7,fU=h5[1],h5[2]if#fU<128 then fU=fU..h6 else local cc,cd=h5[3],h5[4]b7=a5(cc,cd,fU,0,128,b7)fU=h6 end;h5[1],h5[2]=b7,fU else break end end;return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if h1 then local hb,hc={unpack(a9)},not aj and{unpack(aa)}hb[1]=X(hb[1],h2)hb[3]=X(hb[3],0x4001)if gM~=\"\"then gL(gM,\"b\",hb,hc)end;for az=1,4 do local h5=h1[az]local b7,fU,cc,cd=h5[1],h5[2],h5[3],h5[4]a5(cc,cd,fU..e(\"\\0\",128-#fU),0,128,b7,#fU,az==4)if az%2==0 then local h8=0;for q=az-1,az do local h5=h1[q]local cc,cd=h5[3],h5[4]for h9=1,8 do h8=h8+1;am[h8]=cc[h9]if cd then h8=h8+1;am[h8]=cd[h9]end end end;a5(hb,hc,nil,0,128,128*(az/2-1),az==4 and 128,az==4)end end;h1=nil;local fZ=k(g4/8)if aj then for az=1,fZ do hb[az]=aj(hb[az])end else for az=1,fZ do hb[az]=V(hc[az])..V(hb[az])end end;H=f(g(b(hb,\"\",1,fZ),\"(..)(..)(..)(..)(..)(..)(..)(..)\",\"%8%7%6%5%4%3%2%1\"),1,g4*2)end;return H end end;if gZ>0 then gI=gI..e(\"\\0\",128-gZ)for az=1,4 do fV(gI)end end;if fS then return fV(fS)()else return fV end end;local function hd(he,hf,hg,gJ,g4,fS,gI,gM)local hh,hi,hj=2^(gJ/2)-1;if g4==-1 then g4=n;hi=j(hh)hj=true else if g4<0 then g4=-1.0*g4;hj=true end;hi=j(g4)if hi>=hh then error(\"Requested digest is too long.  BLAKE2X\"..hf..\" finite digest is limited by (2^\"..j(gJ/2)..\")-2 bytes.  Hint: you can generate infinite digest.\",2)end end;gM=gM or\"\"if gM~=\"\"then gL(gM,hf)end;local hk=he(nil,gI,gM,nil,hi)local H;local function fV(fW)if fW then if hk then hk(fW)return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if hk then local hl,hm=hk()hm,hk=hm or 8;local function hn(ho)local ax=l(gJ,g4-ho*gJ)if ax<=0 then return\"\"end;for az=1,hm do hg[az]=hl[az]end;for az=hm+1,2*hm do hg[az]=0 end;return he(nil,nil,gM,ax,hi,j(ho))end;local hp={}if hj then local aF,hq,hr,hs=0,gJ*2^32;local function ge(ht,hu)if ht==\"seek\"then aF=hu%hq else local ax,h8=ht or 1,0;while ax>0 do local hv=aF%gJ;local ho=(aF-hv)/gJ;local hw=l(ax,gJ-hv)if hr~=ho then hr=ho;hs=hn(ho)end;h8=h8+1;hp[h8]=f(hs,hv*2+1,(hv+hw)*2)ax=ax-hw;aF=(aF+hw)%hq end;return b(hp,\"\",1,h8)end end;H=ge else for az=1.0,k(g4/gJ)do hp[az]=hn(az-1.0)end;H=b(hp)end end;return H end end;if fS then return fV(fS)()else return fV end end;local function hx(g4,fS,gI,gM)return hd(gW,\"s\",an,32,g4,fS,gI,gM)end;local function hy(g4,fS,gI,gM)return hd(g_,\"b\",am,64,g4,fS,gI,gM)end;local function hz(fS,gI,g4,hA,aE,hB)gI=gI or\"\"g4=g4 or 32;hA=hA or 0;if gI==\"\"then aE=aE or aa else local gZ=#gI;if gZ>32 then error(\"BLAKE3 key length must not exceed 32 bytes\",2)end;gI=gI..e(\"\\0\",32-gZ)aE={}for az=1,8 do local aG,E,aH,aI=c(gI,4*az-3,4*az)aE[az]=((aI*256+aH)*256+E)*256+aG end;hA=hA+16 end;local fU,aA,cR,hC,hD,hE=\"\",{},0,0,0,{}local hF,hG,hj,H,cU=aE;local hH=3;local function hI(aB,aC,ax)while ax>0 do local hJ,hK,cS=1,0,aA;if hC==0 then hK=1;cS,hF=aE,aA;hH=2 elseif hC==15 then hK=2;hH=3;hF=aE else hJ=l(ax/64,15-hC)end;local hw=hJ*64;a6(aB,aC,hw,hA+hK,cR,cS,aA)aC,ax=aC+hw,ax-hw;hC=(hC+hJ)%16;if hC==0 then cR=cR+1.0;local hL=2.0;while cR%hL==0 do hL=hL*2.0;hD=hD-8;for az=1,8 do an[az]=hE[hD+az]end;for az=1,8 do an[az+8]=aA[az]end;a6(nil,0,64,hA+4,0,aE,aA)end;for az=1,8 do hE[hD+az]=aA[az]end;hD=hD+8 end end end;local function hn(ho)local ax=l(64,g4-ho*64)if ho<0 or ax<=0 then return\"\"end;if hj then for az=1,16 do an[az]=hE[az+16]end end;a6(nil,0,64,hH,ho,hF,hE,cU,hG)if hB then return hE end;local fZ=k(ax/4)for az=1,fZ do hE[az]=V(hE[az])end;return f(g(b(hE,\"\",1,fZ),\"(..)(..)(..)(..)\",\"%4%3%2%1\"),1,ax*2)end;local function fV(fW)if fW then if fU then local aC=0;if fU~=\"\"and#fU+#fW>64 then aC=64-#fU;hI(fU..f(fW,1,aC),0,64)fU=\"\"end;local ax=#fW-aC;local fX=ax>0 and(ax-1)%64+1 or 0;hI(fW,aC,ax-fX)fU=fU..f(fW,#fW+1-fX)return fV else error(\"Adding more chunks is not allowed after receiving the result\",2)end else if fU then hG=#fU;fU=fU..e(\"\\0\",64-#fU)if an[0]then for az=1,16 do local aG,E,aH,aI=c(fU,4*az-3,4*az)an[az]=N(P(aI,24),P(aH,16),P(E,8),aG)end else for az=1,16 do local aG,E,aH,aI=c(fU,4*az-3,4*az)an[az]=((aI*256+aH)*256+E)*256+aG end end;fU=nil;for hD=hD-8,0,-8 do a6(nil,0,64,hA+hH,cR,hF,aA,nil,hG)cR,hG,hF,hH=0,64,aE,4;for az=1,8 do an[az]=hE[hD+az]end;for az=1,8 do an[az+8]=aA[az]end end;hH=hA+hH+8;if g4<0 then if g4==-1 then g4=n else g4=-1.0*g4 end;hj=true;for az=1,16 do hE[az+16]=an[az]end end;g4=l(2^53,g4)cU=g4>32;if hj then local aF,hr,hs=0.0;local function ge(ht,hu)if ht==\"seek\"then aF=hu*1.0 else local ax,h8=ht or 1,32;while ax>0 do local hv=aF%64;local ho=(aF-hv)/64;local hw=l(ax,64-hv)if hr~=ho then hr=ho;hs=hn(ho)end;h8=h8+1;hE[h8]=f(hs,hv*2+1,(hv+hw)*2)ax=ax-hw;aF=aF+hw end;return b(hE,\"\",33,h8)end end;H=ge elseif g4<=64 then H=hn(0)else local hM=k(g4/64)-1;for ho=0.0,hM do hE[33+ho]=hn(ho)end;H=b(hE,\"\",33,33+hM)end end;return H end end;if fS then return fV(fS)()else return fV end end;local function hN(hO,hP,hQ)if type(hP)~=\"string\"then error(\"'context_string' parameter must be a Lua string\",2)end;local aE=hz(hP,nil,nil,32,nil,true)return hz(hO,nil,hQ,64,aE)end;local hR={md5=g0,sha1=g2,sha224=function(fS)return fR(224,fS)end,sha256=function(fS)return fR(256,fS)end,sha512_224=function(fS)return f_(224,fS)end,sha512_256=function(fS)return f_(256,fS)end,sha384=function(fS)return f_(384,fS)end,sha512=function(fS)return f_(512,fS)end,sha3_224=function(fS)return g3((1600-2*224)/8,224/8,false,fS)end,sha3_256=function(fS)return g3((1600-2*256)/8,256/8,false,fS)end,sha3_384=function(fS)return g3((1600-2*384)/8,384/8,false,fS)end,sha3_512=function(fS)return g3((1600-2*512)/8,512/8,false,fS)end,shake128=function(g4,fS)return g3((1600-2*128)/8,g4,true,fS)end,shake256=function(g4,fS)return g3((1600-2*256)/8,g4,true,fS)end,hmac=gG,hex_to_bin=gk,bin_to_hex=gl,base64_to_bin=gn,bin_to_base64=gm,hex2bin=gk,bin2hex=gl,base642bin=gn,bin2base64=gm,blake2b=g_,blake2s=gW,blake2bp=ha,blake2sp=h0,blake2xb=hy,blake2xs=hx,blake2=g_,blake2b_160=function(fS,gI,gM)return g_(fS,gI,gM,20)end,blake2b_256=function(fS,gI,gM)return g_(fS,gI,gM,32)end,blake2b_384=function(fS,gI,gM)return g_(fS,gI,gM,48)end,blake2b_512=g_,blake2s_128=function(fS,gI,gM)return gW(fS,gI,gM,16)end,blake2s_160=function(fS,gI,gM)return gW(fS,gI,gM,20)end,blake2s_224=function(fS,gI,gM)return gW(fS,gI,gM,28)end,blake2s_256=gW,blake3=hz,blake3_derive_key=hN}gD={[hR.md5]=64,[hR.sha1]=64,[hR.sha224]=64,[hR.sha256]=64,[hR.sha512_224]=128,[hR.sha512_256]=128,[hR.sha384]=128,[hR.sha512]=128,[hR.sha3_224]=144,[hR.sha3_256]=136,[hR.sha3_384]=104,[hR.sha3_512]=72}return hR\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=81085},dpkg={created=1688258069467,type="directory",contents={["init.lua"]={created=1688258069284,type="file",modified=1688258065987,data="local a=require\"system.filesystem\"local b=require\"system.process\"local c=(function()local d={__add=true,__sub=true,__mul=true,__div=true,__mod=true,__pow=true,__unm=true,__concat=true,__len=true,__eq=true,__lt=true,__le=true,__newindex=true,__call=true,__metatable=true}local function e(f,g,...)local h=getfenv(g)h.self=f;h.super=setmetatable({},{__index=getmetatable(f).__index})setfenv(g,h)return g(...)end;local function i(j,k,l)local m,n={__class=j},{}if l.static then for o,p in pairs(l.static)do if d[o]then n[o]=p else m[o]=p end end end;l.static=nil;if k.extends then if k.extends[1]then n.__index=function(self,j)for q,p in ipairs(k.extends)do if p[j]then return p[j]end end end else n.__index=k.extends end end;local r=l.__init;l.__init=nil;n.__call=function(self,...)local s,t={},{}local f=setmetatable({__class=j},s)if k.extends and not r then if k.extends[1]then for q,p in ipairs(k.extends)do t[q]=p()end;s.__index=function(self,j)for q,p in ipairs(t)do if p[j]then return p[j]end end end else s.__index=k.extends(...)end end;for o,p in pairs(l)do if type(p)==\"function\"then f[o]=function(...)return e(f,p,...)end elseif o~=\"__class\"then f[o]=p end;if d[o]then s[o]=f[o]f[o]=nil end end;if r then local h=getfenv(r)h.self=f;h.super=setmetatable({},{__index=s.__index})if k.extends then if k.extends[1]then s.__index=function(self,j)if#t<#k.extends then for q,p in ipairs(k.extends)do t[q]=p()end end;for q,p in ipairs(t)do if p[j]then return p[j]end end end;for q,p in ipairs(k.extends)do h[p.__class]=function(...)t[q]=p(...)end end else s.__index=function(self,j)s.__index=k.extends()return s.__index[j]end;h[k.extends.__class]=function(...)s.__index=k.extends(...)end end end;setfenv(r,h)r(...)if k.extends and k.extends[1]then s.__index=function(self,j)for q,p in ipairs(t)do if p[j]then return p[j]end end end end end;return f end;setmetatable(m,n)return m end;return setmetatable({},{__call=function(self,j)return function(u)if u.extends or u.implements then return function(v)return i(j,u,v)end else return i(j,{},u)end end end})end)()local w=require\"diff\"local x=require\"control\"local y=require\"deb\"local z=require\"divert\"local A=require\"query\"local B=require\"trigger\"local C=require\"sha2\"local D=require\"tar\"local E={}E.admindir=\"/var/lib/dpkg\"E.rootdir=\"/\"E.write=io.write;E.print=print;E.read=io.read;E.warn=function(F)print(\"dpkg: warning: \"..F)end;E.error=function(F)print(\"dpkg: \\x1b[31merror:\\x1b[0m \"..F)end;E.debug=function(F)end;local function G(H)return a.combine(E.admindir,H)end;local function I(H)return a.combine(E.rootdir,H)end;local function J(K)return string.match(K,'^()[%s%z]*$')and''or string.match(K,'^[%s%z]*(.*[^%s%z])')end;local function L(M)local N=a.open(M,\"r\")local O=N.readAll()N.close()return O end;local function P(M)local O={}for Q in io.lines(M)do table.insert(O,Q)end;return O end;local function R(M,S)local N=a.open(M,\"w\")N.write(S)N.close()end;local function T(M,U)local N=a.open(M,\"w\")for V,p in ipairs(U)do N.writeLine(p)end;N.close()end;local function W(X,Y)return({string.match(X.Status,\"(%S+) (%S+) (%S+)\")})[Y]end;local function Z(X,Y,_)local a0={string.match(X.Status,\"(%S+) (%S+) (%S+)\")}a0[Y]=_;X.Status=table.concat(a0,\" \")return X.Status end;local function a1(a2,a3)local a4={}for K in string.gmatch(a2,\"([^\"..(a3 or\"%s\")..\"]+)\")do table.insert(a4,K)end;return a4 end;local function a5(F)local b=io.popen(\"/bin/less\",\"w\")b:write(F)b:close()end;local a6={preinst=\"postrm\",prerm=\"postinst\",postrm=\"preinst\"}self={}E.options={triggers=true,pager=true,auto_deconfigure=false,skip_same_version=false,dry_run=false,ignore_depends={}}E.force={downgrade=false,configure_any=false,hold=false,remove_reinstreq=false,remove_essential=false,depends=false,depends_version=false,breaks=false,conflicts=false,confmiss=false,confmode=nil,overwrite=false,overwrite_dir=false,overwrite_diverted=false,statoverride_add=false,statoverride_remove=false,architecture=false,bad_version=false,bad_verify=false}local a7=_G.package;E.package=c\"package\"{static={packagedb=nil,triggerdb=nil,filedb=nil,filecount=0,scriptCallStack={},setPackageDB=function(a8)E.package.packagedb=a8 or A.readDatabase()end,setTriggerDB=function(a8)E.package.triggerdb=a8 or B.readDatabase()end,setFileDB=function(a8,a9)if a8 then E.package.filedb,E.package.filecount=a8,a9 else E.package.filedb,E.package.filecount=A.readFileLists()end end,unwindScriptErrors=function(aa)local O=true;while#E.package.scriptCallStack>0 do local ab=table.remove(E.package.scriptCallStack)if a6[ab.script]then local ac=ab.pkg.callMaintainerScript(a6[ab.script],\"abort-\"..ab.args[1],table.unpack(ab.args,2,ab.args.n))if aa then aa(ab.pkg,ac,ab.script,table.unpack(ab.args,1,ab.args.n))end;if not ac then O=false end end end;return O end,clearScriptErrors=function()E.package.scriptCallStack={}end},__init=function(M)if a.exists(M)then local ad=y.load(M,true)self.isUnpacked=false;self.name=ad.name;self.path=a.basename(M)self.files=ad.data;self.filelist=nil;self.control=ad.control;self.controlArchive=ad.control_archive;self.conffiles=ad.conffiles;self.md5sums=ad.md5sums;self.preinst=ad.preinst;self.postinst=ad.postinst;self.prerm=ad.prerm;self.postrm=ad.postrm;self.triggers=ad.triggers elseif E.package.packagedb~=nil and E.package.packagedb[M]~=nil then self.isUnpacked=true;self.name=M;self.path=nil;self.files=nil;self.filelist=a.exists(G(\"info/\"..M..\".list\"))and P(G(\"info/\"..M..\".list\"))or nil;self.control=E.package.packagedb[M]self.controlArchive=nil;self.conffiles=a.exists(G(\"info/\"..M..\".conffiles\"))and P(G(\"info/\"..M..\".conffiles\"))or nil;if a.exists(G(\"info/\"..M..\".md5sums\"))then local ae=L(G(\"info/\"..M..\".md5sums\"))self.md5sums={}for af in string.gmatch(ae,\"[^\\n]+\")do local o,p=af:match(\"^(%x+)  (.+)$\")if o then self.md5sums[\"/\"..p]=o end end end;self.preinst=a.exists(G(\"info/\"..M..\".preinst\"))and L(G(\"info/\"..M..\".preinst\"))or nil;self.postinst=a.exists(G(\"info/\"..M..\".postinst\"))and L(G(\"info/\"..M..\".postinst\"))or nil;self.prerm=a.exists(G(\"info/\"..M..\".prerm\"))and L(G(\"info/\"..M..\".prerm\"))or nil;self.postrm=a.exists(G(\"info/\"..M..\".postrm\"))and L(G(\"info/\"..M..\".postrm\"))or nil;self.triggers=a.exists(G(\"info/\"..M..\".triggers\"))and L(G(\"info/\"..M..\".triggers\"))or nil else error(\"Could not find package \"..M)end end,callMaintainerScript=function(ag,...)local M,ah=nil,false;if string.sub(ag,#ag)=='!'then ah=true end;ag=ag:gsub(\"!$\",\"\")if self.isUnpacked or string.sub(ag,1,1)=='.'then M=G(\"info/\"..self.name..\".\"..string.gsub(ag,\"^%.\",\"\"))else M=G(\"tmp.ci/\"..ag)end;local ai=...if not ah and ai:find(\"abort\")==nil then table.insert(E.package.scriptCallStack,{pkg=self,script=ag,args=table.pack(...)})end;ag=ag:gsub(\"^%.\",\"\")if not a.exists(M)then return true end;return b.run(M,...)end,unpack=function()local self=self;if self.isUnpacked then E.error(\"internal error: attempted to unpack package without archive\")return false end;if E.package.packagedb[self.name]~=nil and W(E.package.packagedb[self.name],1)==\"hold\"then if E.force.hold then E.warn(\"overriding problem because --force enabled:\")E.warn(\"package is currently held\")else E.error(\"package is currently held\")return false end end;if self.control.Architecture~=\"phoenix\"and self.control.Architecture~=\"all\"then if E.force.architecture then E.warn(\"overriding problem because --force enabled:\")E.warn(\"package architecture (\"..self.control.Architecture..\") does not match the system (phoenix)\")else E.error(\"package architecture (\"..self.control.Architecture..\") does not match the system (phoenix)\")return false end end;if a.isDir(G(\"tmp.ci\"))then a.remove(G(\"tmp.ci\"))end;D.extract(self.controlArchive,G(\"tmp.ci\"))E.print(\"Preparing to unpack \"..self.path..\" ...\")local aj=false;if E.package.packagedb[self.name]~=nil and W(E.package.packagedb[self.name],3)==\"installed\"and E.compareVersions(self.control.Version,E.package.packagedb[self.name].Version)==-1 then if E.force.downgrade then E.warn(\"overriding problem because --force enabled:\")E.warn(\"downgrading \"..self.name..\" from \"..E.package.packagedb[self.name].Version..\" to \"..self.control.Version)aj=true else E.error(\"attempted to downgrade \"..self.name..\" from \"..E.package.packagedb[self.name].Version..\" to \"..self.control.Version)return false end end;local ak={}if self.control[\"Pre-Depends\"]~=nil and not aj then for V,p in ipairs(a1(self.control[\"Pre-Depends\"],\",\"))do local al,j=E.checkDependency(p,function(am,X)return A.status.configured(am)or X[\"Config-Version\"]~=nil and A.status.present(am)end)if not al and not E.options.ignore_depends[j]then table.insert(ak,{j,J(p)})end end end;if#ak>0 then if E.force.depends then E.warn(\"overriding problem because --force enabled:\")E.warn(\"dependency problems prevent unpacking of \"..self.name..\":\")for V,p in ipairs(ak)do E.print(\" \"..self.name..\" pre-depends on \"..p[2]..\"; however:\\n  Package \"..p[1]..\" is not installed.\\n\")end else E.error(\"dependency problems prevent unpacking of \"..self.name..\":\")for V,p in ipairs(ak)do E.print(\" \"..self.name..\" pre-depends on \"..p[2]..\"; however:\\n  Package \"..p[1]..\" is not installed.\\n\")end;return false end end;local an={}for o,p in pairs(E.package.packagedb)do if p.Conflicts and A.status.present(W(p.Status,3))and E.findRelationship(self.name,self.control.Version,p.Conflicts)then table.insert(an,o)end end;if#an>0 then if E.force.conflicts then E.warn(\"overriding problem because --force enabled:\")E.warn(\"conflicting packages prevent unpacking of \"..self.name..\":\")for V,p in ipairs(an)do E.print(\" \"..p..\" conflicts with \"..self.name..\", however:\\n  Package \"..self.name..\" (\"..self.control.Version..\") is being installed.\\n\")end else E.error(\"conflicting packages prevent unpacking of \"..self.name..\":\")for V,p in ipairs(an)do E.print(\" \"..p..\" conflicts with \"..self.name..\", however:\\n  Package \"..self.name..\" (\"..self.control.Version..\") is being installed.\\n\")end;return false end end;if E.package.packagedb[self.name]~=nil and W(E.package.packagedb[self.name],3)==\"installed\"then E.debug(\"Upgrading pre-existing package (\"..E.package.packagedb[self.name].Version..\" => \"..self.control.Version..\")\")if not self.callMaintainerScript(\".prerm\",\"upgrade\",self.control.Version)then E.debug(\"Old package's prerm upgrade failed\")if not self.callMaintainerScript(\"prerm!\",\"failed-upgrade\",E.package.packagedb[self.name].Version)then E.debug(\"New package's prerm failed-upgrade failed\")if E.package.unwindScriptErrors()then E.error(\"package pre-upgrade script failed to run\")Z(E.package.packagedb[self.name],3,\"installed\")else E.debug(\"Old package's postinst abort-upgrade failed\")E.error(\"package pre-upgrade script failed to run, and old package failed to revert changes\")Z(E.package.packagedb[self.name],3,\"half-configured\")end;a.remove(G(\"tmp.ci\"))return false end end end;local ao={}do local ap,j;if self.control.Breaks~=nil then for V,p in ipairs(a1(self.control.Breaks,\",\"))do ap,j=E.checkDependency(p)if ap then ao[j]=0 end end end;if self.control.Conflicts~=nil then for V,p in ipairs(a1(self.control.Conflicts,\",\"))do ap,j=E.checkDependency(p,true)if ap then ao[j]=1 end end end end;if not E.options.auto_deconfigure and next(ao)~=nil then if E.force.conflicts then E.warn(\"dependency problems, but unpacking \"..self.name..\" anyway as you requested:\")else E.error(\"dependency problems prevent unpacking of \"..self.name..\":\")end;for p,V in ipairs(ao)do E.print(\" \"..p..\" conflicts with \"..self.name..\".\")end;if not E.force.conflicts then E.unwindScriptErrors()a.remove(G(\"tmp.ci\"))return false end end;local aq,ar=next(ao)and true or false,ao;while aq do local as,at={},{}aq=false;for o,p in pairs(E.package.packagedb)do for Q,au in pairs(ar)do if p.Depends and E.findRelationship(Q,E.package.packagedb[Q].Version,p.Depends)or p[\"Pre-Depends\"]and E.findRelationship(Q,E.package.packagedb[Q].Version,p[\"Pre-Depends\"])then aq=true;at[o]=p[\"Pre-Depends\"]and E.findRelationship(Q,E.package.packagedb[Q].Version,p[\"Pre-Depends\"])and 1 or 0;local av=E.package(o)E.debug(\"Deconfiguring \"..o..\" since it depends on conflicting package \"..Q)if av.prerm then if av.callMaintainerScript(\"prerm\",\"deconfigure\",\"in-favour\",self.name,self.control.Version,\"removing\",Q,E.package.packagedb[Q].Version)then p[\"Config-Version\"]=p.Version;Z(p,3,\"unpacked\")else E.debug(\"Deconfigure failed.\")table.insert(as,{o,Q})end else p[\"Config-Version\"]=p.Version;Z(p,3,\"unpacked\")end end end end;if#as>0 then if E.force.depends and E.force.conflicts then E.warn(\"overriding problem because --force enabled:\")E.warn(\"dependency problems prevent unpacking of \"..self.name..\":\")else E.error(\"dependency problems prevent unpacking of \"..self.name..\":\")end;for V,p in ipairs(as)do E.print(\" \"..p[1]..\" depends on \"..p[2]..\" which conflicts with \"..self.name..\", however:\")E.print(\"  deconfiguring \"..p[1]..\" failed\\n\")end;if not(E.force.depends and E.force.conflicts)then E.package.unwindScriptErrors(function(aw,ac,ag)if aw.name~=self.name and ag==\"prerm\"then if ac then Z(E.package.packagedb[aw.name],3,\"installed\")else Z(E.package.packagedb[aw.name],3,\"half-configured\")end end end)a.remove(G(\"tmp.ci\"))return false end end;ar=at end;local ax={}for o,p in pairs(ao)do if o~=self.name then local av=E.package(o)E.debug(\"Deconfiguring \"..o..\" since it conflicts with the current package\")if av.callMaintainerScript(\"prerm\",\"deconfigure\",\"in-favour\",self.name,self.control.Version)then E.package.packagedb[o][\"Config-Version\"]=E.package.packagedb[o].Version;Z(E.package.packagedb[o],3,\"unpacked\")if p==1 then Z(E.package.packagedb[o],3,\"half-installed\")if not av.callMaintainerScript(\"prerm\",\"remove\",\"in-favour\",self.name,self.control.Version)then E.debug(\"Pre-remove failed, aborting.\")table.insert(ax,o)end end else E.debug(\"Deconfigure failed, aborting.\")table.insert(ax,o)end end end;if#ax>0 then if E.force.conflicts then E.warn(\"overriding problem because --force enabled:\")E.warn(\"dependency problems prevent unpacking of \"..self.name..\":\")else E.error(\"dependency problems prevent unpacking of \"..self.name..\":\")end;for V,p in ipairs(ax)do E.print(\" \"..p..\" conflicts with \"..self.name..\", however:\")E.print(\"  deconfiguring \"..p..\" failed\\n\")end;if not E.force.conflicts then E.unwindScriptErrors(function(aw,ac,ag,...)if aw.name~=self.name and ag==\"prerm\"then if...==\"remove\"then if ac then Z(E.package.packagedb[aw.name],3,\"unpacked\")end elseif...==\"deconfigure\"then if ac then Z(E.package.packagedb[aw.name],3,\"installed\")else Z(E.package.packagedb[aw.name],3,\"half-configured\")end end end end)a.remove(G(\"tmp.ci\"))return false end end;local ay;if E.package.packagedb[self.name]~=nil and W(E.package.packagedb[self.name],3)~=\"not-installed\"then ay=E.package.packagedb[self.name].Version;if W(E.package.packagedb[self.name],3)~=\"config-files\"then E.debug(\"Upgrading from \"..E.package.packagedb[self.name].Version..\" to \"..self.control.Version)if not self.callMaintainerScript(\"preinst!\",\"upgrade\",E.package.packagedb[self.name].Version)then E.debug(\"New preinst upgrade failed\")if self.callMaintainerScript(\"postrm\",\"abort-upgrade\",E.package.packagedb[self.name].Version)then if self.callMaintainerScript(\".postinst\",\"abort-upgrade\",self.control.Version)then E.debug(\"Leaving package as-is\")E.error(\"package pre-install script failed to upgrade, leaving old version installed\")Z(E.package.packagedb[self.name],3,\"installed\")E.package.unwindScriptErrors()return false else E.debug(\"Old postinst abort-upgrade failed\")E.error(\"package pre-install script failed to upgrade, and previous version failed to revert changes\")Z(E.package.packagedb[self.name],3,\"unpacked\")E.package.unwindScriptErrors()return false end else E.debug(\"New postrm abort-upgrade failed\")E.error(\"package pre-install script failed to run\")Z(E.package.packagedb[self.name],3,\"half-installed\")E.package.unwindScriptErrors()return false end end else E.debug(\"Installing with config files\")if not self.callMaintainerScript(\"preinst\",\"install\",E.package.packagedb[self.name][\"Config-Version\"])then E.debug(\"Preinst install failed\")if E.package.unwindScriptErrors()then E.error(\"package pre-install script failed to install\")Z(E.package.packagedb[self.name],3,\"config-files\")return false else E.error(\"package pre-install script failed to run, reinstallation required\")Z(E.package.packagedb[self.name],2,\"reinstreq\")Z(E.package.packagedb[self.name],3,\"half-installed\")return false end end end else E.debug(\"Installing new\")if not self.callMaintainerScript(\"preinst\",\"install\")then E.debug(\"Preinst install failed\")if E.package.unwindScriptErrors()then E.error(\"package pre-install script failed to install\")Z(E.package.packagedb[self.name],3,\"not-installed\")return false else E.error(\"package pre-install script failed to run, reinstallation required\")Z(E.package.packagedb[self.name],2,\"reinstreq\")Z(E.package.packagedb[self.name],3,\"half-installed\")return false end end end;if ay then E.print(\"Unpacking \"..self.name..\" (\"..self.control.Version..\") over (\"..ay..\") ...\")else E.print(\"Unpacking \"..self.name..\" (\"..self.control.Version..\") ...\")end;self.filelist={}local az={}local function aA()for V,p in ipairs(self.filelist)do if not a.isDir(I(p))then a.remove(I(p..\".dpkg-new\"))if a.exists(I(p..\".dpkg-old\"))then a.rename(I(p..\".dpkg-old\"),I(p))end end end;self.filelist=nil;if E.package.packagedb[self.name]~=nil and W(E.package.packagedb[self.name],3)~=\"not-installed\"then if W(E.package.packagedb[self.name],3)~=\"config-files\"then if self.callMaintainerScript(\"postrm\",\"abort-upgrade\",E.package.packagedb[self.name].Version)then if self.callMaintainerScript(\".postinst\",\"abort-upgrade\",self.control.Version)then Z(E.package.packagedb[self.name],3,\"installed\")E.package.unwindScriptErrors()return false else E.error(\"previous version failed to revert changes\")Z(E.package.packagedb[self.name],3,\"unpacked\")E.package.unwindScriptErrors()return false end else E.error(\"package post-removal script failed to run\")Z(E.package.packagedb[self.name],3,\"half-installed\")E.package.unwindScriptErrors()return false end else if E.package.unwindScriptErrors()then Z(E.package.packagedb[self.name],3,\"config-files\")return false else E.error(\"package post-remove script failed to run, reinstallation required\")Z(E.package.packagedb[self.name],2,\"reinstreq\")Z(E.package.packagedb[self.name],3,\"half-installed\")return false end end else if E.package.unwindScriptErrors()then Z(E.package.packagedb[self.name],3,\"not-installed\")return false else E.error(\"package post-removal script failed to run, reinstallation required\")Z(E.package.packagedb[self.name],2,\"reinstreq\")Z(E.package.packagedb[self.name],3,\"half-installed\")return false end end end;local aB={}for V,p in ipairs(self.files)do local o=p.name:gsub(\"^./+\",\"/\"):gsub(\"^[^/]\",\"/%1\")E.debug(\"Writing \"..o)if E.package.filedb[o]~=nil and E.package.filedb[o]~=self.name and p.type==0 then if not(self.control.Replaces and E.findRelationship(E.package.filedb[o],E.package.packagedb[E.package.filedb[o]].Version,self.control.Replaces))then if E.force.overwrite_dir and a.isDir(I(o))or E.force.overwrite and not a.isDir(I(o))then E.warn(\"overriding problem because --force enabled:\")E.print((\"dpkg: error processing archive %s:\\n trying to overwrite '%s', which is also in package %s %s\"):format(self.path,o,E.package.filedb[o],E.package.packagedb[E.package.filedb[o]].Version))else E.print((\"dpkg: error processing archive %s:\\n trying to overwrite '%s', which is also in package %s %s\"):format(self.path,o,E.package.filedb[o],E.package.packagedb[E.package.filedb[o]].Version))return aA()end else az[E.package.filedb[o]]=az[E.package.filedb[o]]or{}table.insert(az[E.package.filedb[o]],o)end end;if p.type==5 then a.mkdir(I(o))elseif p.type==0 then if self.md5sums and self.md5sums[o:gsub(\"^/+\",\"\")]and C.md5(p.data)~=self.md5sums[o:gsub(\"^/+\",\"\")]then E.debug((\"Invalid checksum for file %s (expected %s, got %s)\"):format(o,self.md5sums[o:gsub(\"^/+\",\"\")],C.md5(p.data)))if E.force.bad_verify then E.warn(\"overriding problem because --force enabled:\")E.warn(\"invalid checksum for file \"..o)else E.error(\"invalid checksum for file \"..o)return aA()end end;local N=a.open(I(o..\".dpkg-new\"),\"wb\")if not N then E.print((\"dpkg: error processing archive %s:\\n could not open destination file %s.dpkg-new for writing\"):format(self.path,o))return aA()end;N.write(p.data or\"\")N.close()a.chmod(I(o..\".dpkg-new\"),nil,bit32.band(p.mode,7))a.chmod(I(o..\".dpkg-new\"),p.ownerName or\"root\",bit32.rshift(bit32.band(p.mode,0x1C0),6))a.chown(I(o..\".dpkg-new\"),p.ownerName or\"root\")if bit32.btest(p.mode,0x800)then a.chmod(I(o..\".dpkg-new\"),p.ownerName or\"root\",\"+s\")end;local aC=false;if self.conffiles and self.md5sums and E.package.packagedb[self.name]~=nil and W(E.package.packagedb[self.name],3)~=\"not-installed\"then for V,au in ipairs(self.conffiles)do if au==o then if self.md5sums[o]==E.package(self.name).md5sums[o]then if a.exists(I(o))then a.remove(I(o..\".dpkg-new\"))aC=true end elseif a.exists(I(o))and p.data~=L(o)or not a.exists(I(o))then local aD=a.exists(I(o))and E.force.confmode or(E.force.confmiss and 0 or nil)E.print(\"Configuration file `\"..o..[['\n==> Modified (by you or by a script) since installation.\n==> Package distributor has shipped an updated version.\nWhat would you like to do about it? Your options are:\n    Y or I  : install the package maintainer's version\n    N or O  : keep your currently-installed version\n    D     : show the differences between the versions\n    Z     : start a shell to examine the situation\nThe default action is to keep your current version.]])while aD==nil do E.write(\"*** \"..a.basename(o)..\" (Y/I/N/O/D/Z) [default=N] ? \")local aE=E.read()if aE==\"Y\"or aE==\"y\"or aE==\"I\"or aE==\"i\"then aD=0 elseif aE==\"N\"or aE==\"n\"or aE==\"O\"or aE==\"o\"then aD=1 elseif aE==\"D\"or aE==\"d\"then local U={}local aF=w.diff(L(o),p.data,\"\\n\")for V,aG in ipairs(aF)do if aG[2]==\"in\"then table.insert(U,\"+++ \"..aG[1])elseif aG[2]==\"out\"then table.insert(U,\"--- \"..aG[1])else table.insert(U,\"    \"..aG[1])end end;if E.options.pager then a5(table.concat(U,\"\\n\"))else E.print(table.concat(U,\"\\n\"))end elseif aE==\"Z\"or aE==\"z\"then b.run(\"/bin/sh\")elseif aE==\"\"then aD=2 end end;if aD==0 then aB[o]=true else aC=true;a.remove(I(o..\".dpkg-dist\"))a.rename(I(o..\".dpkg-new\"),I(o..\".dpkg-dist\"))end end end end end;if not aC and a.exists(I(o))then a.rename(I(o),I(o..\".dpkg-old\"))end else E.debug(\"Unknown type \"..p.type..\" for path \"..o)end;table.insert(self.filelist,o)B.activate(o,self.name,false,E.package.triggerdb,E.package.packagedb)end;if E.package.packagedb[self.name]~=nil and W(E.package.packagedb[self.name],3)~=\"not-installed\"then if not self.callMaintainerScript(\".postrm!\",\"upgrade\",self.control.Version)and not self.callMaintainerScript(\"postrm\",\"failed-upgrade\",E.package.packagedb[self.name].Version)then E.debug(\"postrm upgrade failed\")if self.callMaintainerScript(\".preinst\",\"abort-upgrade\",self.control.Version)then E.debug(\"Reverting changes\")for V,p in ipairs(self.filelist)do if not a.isDir(I(p))then a.remove(I(p..\".dpkg-new\"))if a.exists(I(p..\".dpkg-old\"))then a.rename(I(p..\".dpkg-old\"),I(p))end end end;self.filelist=nil;if not self.callMaintainerScript(\"postrm\",\"abort-upgrade\",E.package.packagedb[self.name].Version)or not self.callMaintainerScript(\".postinst\",\"abort-upgrade\",self.control.Version)then E.debug(\"postrm/.postinst abort-upgrade failed\")E.error(\"package postrm script failed to finish upgrade, and upgrade failed to abort\")Z(self.name,3,\"half-installed\")E.package.unwindScriptErrors()return false end;E.error(\"package upgrade failed to finish\")Z(self.name,3,\"unpacked\")E.package.unwindScriptErrors()return false else E.debug(\"preinst abort-upgrade failed\")E.error(\"package postrm script failed to finish upgrade, and preinst script failed to abort upgrade\")Z(self.name,3,\"half-installed\")E.package.unwindScriptErrors()return false end end;local aH=P(G(\"info/\"..self.name..\".list\"))for V,p in pairs(aH)do local aq=false;for V,au in ipairs(self.filelist)do if p==au then aq=true;break end end;if not aq then E.debug(\"Deleting removed file \"..p)a.remove(I(p))end end end;T(G(\"info/\"..self.name..\".list\"),self.filelist)if self.conffiles then T(G(\"info/\"..self.name..\".conffiles\"),self.conffiles)end;if self.md5sums then local N=a.open(G(\"info/\"..self.name..\".md5sums\"),\"w\")for o,p in pairs(self.md5sums)do N.writeLine(p..\"  \"..o:sub(2))end;N.close()end;if self.triggers then local U=a1(self.triggers,'\\n')for V,p in ipairs(U)do p=J(p:gsub(\"#.+$\",\"\"))if string.find(p,\"interest\")==1 then local aI=a1(p)if aI[1]==\"interest\"or aI[1]==\"interest-await\"then B.register(aI[2],self.name,true)elseif aI[1]==\"interest-noawait\"then B.register(aI[2],self.name,false)end end end;E.package.setTriggerDB()end;for V,p in ipairs{\"postinst\",\"postrm\",\"preinst\",\"prerm\",\"triggers\"}do if self[p]then R(G(\"info/\"..self.name..\".\"..p),self[p])end end;for o,p in pairs(az)do local aJ=P(G(\"info/\"..o..\".list\"))for V,au in ipairs(p)do for q,aG in ipairs(aJ)do if au==aG then table.remove(aJ,q)break end end end;if#aJ==0 then E.package(o).callMaintainerScript(\"postrm\",\"disappear\",self.name,self.control.Version)for V,au in ipairs{\"conffiles\",\"md5sums\",\"postinst\",\"postrm\",\"preinst\",\"prerm\",\"triggers\"}do a.remove(G(\"info/\"..o..\".\"..au))end;E.package.packagedb[o].Status=\"purge ok not-installed\"else T(G(\"info/\"..o..\".list\"),aJ)end end;for V,p in ipairs(self.filelist)do E.package.filedb[p]=self.name;if a.exists(I(p..\".dpkg-old\"))and not aB[p]then a.remove(I(p..\".dpkg-old\"))end;if a.exists(I(p..\".dpkg-new\"))then local aK=a.stat(I(p..\".dpkg-new\"))a.rename(I(p..\".dpkg-new\"),I(p))if aK.setuser then a.chmod(I(p),aK.owner,\"+s\")end end end;a.remove(G(\"tmp.ci\"))E.package.packagedb[self.name]=E.package.packagedb[self.name]or{}for o,p in pairs(self.control)do E.package.packagedb[self.name][o]=p end;E.package.packagedb[self.name].Status=\"install ok unpacked\"self.isUnpacked=true;for o,p in pairs(ao)do if p==1 then E.package(o).remove()end end;E.package.clearScriptErrors()return true end,configure=function()if not self.isUnpacked then E.error(\"internal error: package is not unpacked\")return false end;if W(E.package.packagedb[self.name],1)==\"hold\"then if E.force.hold then E.warn(\"overriding problem because --force enabled:\")E.warn(\"package is currently held\")else E.error(\"package is currently held\")return false end end;if not A.status.needs_configure(W(E.package.packagedb[self.name],3))then E.error(\"package is already configured\")return false end;local aL={}if self.control.Depends~=nil then for V,p in ipairs(a1(self.control.Depends,\",\"))do local al,j=E.checkDependency(p,function(am,X)return A.status.configured(am)or X[\"Config-Version\"]~=nil and A.status.present(am)end)if not al and not E.options.ignore_depends[j]then table.insert(aL,{j,J(p)})end end end;if#aL>0 then if E.force.depends then E.warn(\"overriding problem because --force enabled:\")E.warn(\"dependency problems prevent unpacking of \"..self.name..\":\")for V,p in ipairs(aL)do E.print(\" \"..self.name..\" depends on \"..p[2]..\"; however:\\n  Package \"..p[1]..\" is not installed.\\n\")end else E.error(\"dependency problems prevent unpacking of \"..self.name..\":\")for V,p in ipairs(aL)do E.print(\" \"..self.name..\" depends on \"..p[2]..\"; however:\\n  Package \"..p[1]..\" is not installed.\\n\")end;return false end end;local an={}for o,p in pairs(E.package.packagedb)do if p.Breaks and A.status.get_number(W(p,3))>=A.status.unpacked and E.findRelationship(self.name,self.control.Version,p.Breaks)then table.insert(an,o)end end;if#an>0 then if E.force.breaks then E.warn(\"overriding problem because --force enabled:\")E.warn(\"conflicting packages prevent unpacking of \"..self.name..\":\")for V,p in ipairs(an)do E.print(\" \"..p..\" breaks \"..self.name..\", however:\\n  Package \"..self.name..\" (\"..self.control.Version..\") is being configured.\\n\")end else E.error(\"conflicting packages prevent unpacking of \"..self.name..\":\")for V,p in ipairs(an)do E.print(\" \"..p..\" breaks \"..self.name..\", however:\\n  Package \"..self.name..\" (\"..self.control.Version..\") is being configured.\\n\")end;return false end end;E.print(\"Setting up \"..self.name..\" (\"..self.control.Version..\") ...\")if not self.callMaintainerScript(\"postinst!\",\"configure\",self.control[\"Config-Version\"])then E.print(\"dpkg: an error occurred while configuring \"..self.name)Z(E.package.packagedb[self.name],3,\"half-configured\")return false end;if self.triggers then local U=a1(self.triggers,'\\n')for V,p in ipairs(U)do p=J(p:gsub(\"#.+$\",\"\"))if string.find(p,\"activate\")==1 then local aI=a1(p)if aI[1]==\"activate\"or aI[1]==\"activate-await\"then B.activate(aI[2],self.name,true,E.package.triggerdb,E.package.packagedb)elseif aI[1]==\"activate-noawait\"then B.activate(aI[2],self.name,false,E.package.triggerdb,E.package.packagedb)end end end end;if E.package.packagedb[self.name][\"Triggers-Pending\"]and E.options.triggers then E.print(\"Processing triggers for \"..self.name..\" (\"..self.control.Version..\") ...\")B.commit(self.name,E.package.triggerdb,E.package.packagedb)else Z(E.package.packagedb[self.name],3,\"installed\")end;E.package.clearScriptErrors()return true end,remove=function(aM)if not self.isUnpacked then E.error(\"internal error: package is not unpacked\")return false end;if W(E.package.packagedb[self.name],1)==\"hold\"then if E.force.hold then E.warn(\"overriding problem because --force enabled:\")E.warn(\"package is currently held\")else E.error(\"package is currently held\")return false end end;if not A.status.present(W(E.package.packagedb[self.name],3))then if aM then return self.purge()end;E.error(\"cannot remove package: package is not installed\")return false end;if W(E.package.packagedb[self.name],2)==\"reinstreq\"then if E.force.remove_reinstreq then E.warn(\"overriding problem because --force enabled:\")E.warn(\"package requires reinstallation\")else E.error(\"package requires reinstallation\")return false end end;if E.package.packagedb[self.name].Essential==\"yes\"then if E.force.remove_essential then E.warn(\"overriding problem because --force enabled:\")E.warn(\"package is marked as essential\")else E.error(\"package is marked as essential\")return false end end;do local as={}for o,p in pairs(E.package.packagedb)do if p.Depends and E.findRelationship(self.name,self.control.Version,p.Depends)then table.insert(as,o)end end;if#as>0 then if E.force.depends then E.print(\"dpkg: \"..self.name..\": dependency problems, but removing anyway as you requested:\")else E.error(\"dependency problems prevent removal of \"..self.name..\":\")end;for V,p in ipairs(as)do E.print(\" \"..p[1]..\" depends on \"..self.name..\".\")end;if not E.force.depends then return false end end end;if not self.callMaintainerScript(\"prerm\",\"remove\")then E.debug(\"Prerm failed\")if E.package.unwindScriptErrors()then E.error(\"prerm failed, leaving installed\")Z(E.package.packagedb[self.name],3,\"installed\")return false else E.error(\"prerm failed to run\")Z(E.package.packagedb[self.name],3,\"half-configured\")return false end end;local aN={}for V,p in ipairs(self.conffiles)do aN[p]=true end;local aO={}local aP={}for q,p in ipairs(self.filelist)do if p~=\"/\"then E.debug(\"Removing \"..p)if not aN[p]then table.insert(aP,q)if a.isDir(I(p))then table.insert(aO,p)else a.remove(I(p))end end end end;table.sort(aO,function(ai,aQ)return#ai>#aQ end)for V,p in ipairs(aO)do if#a.list(I(p))==0 then a.remove(I(p))end end;for V,p in ipairs(aP)do self.filelist[p]=nil end;if not self.callMaintainerScript(\"postrm\",\"remove\")then E.error(\"postrm failed to run\")E.package.clearScriptErrors()Z(E.package.packagedb[self.name],3,\"half-installed\")return false end;if self.triggers then local U=a1(self.triggers,'\\n')for V,p in ipairs(U)do p=J(p:gsub(\"#.+$\",\"\"))if string.find(p,\"interest\")==1 then local aI=a1(p)B.deregister(aI[2])end end;E.package.setTriggerDB()end;for V,p in ipairs(a.find(G(\"info/\"..self.name..\".*\")))do local aR=p:match(\"[^.]+$\")if not(aR==\"postrm\"or aR==\"conffiles\"or aR==\"list\"or aR==\"md5sums\")then a.remove(I(p))end end;T(G(\"info/\"..self.name..\".list\"),self.filelist)Z(E.package.packagedb[self.name],3,\"config-files\")if not a.exists(G(\"info/\"..self.name..\".postrm\"))and not a.exists(G(\"info/\"..self.name..\".conffiles\"))then a.remove(G(\"info/\"..self.name..\".list\"))Z(E.package.packagedb[self.name],3,\"not-installed\")return true elseif aM then return self.purge()else return true end end,purge=function()if not self.isUnpacked then E.error(\"internal error: package is not unpacked\")return false end;if W(E.package.packagedb[self.name],1)==\"hold\"then if E.force.hold then E.warn(\"overriding problem because --force enabled:\")E.warn(\"package is currently held\")else E.error(\"package is currently held\")return false end end;if W(E.package.packagedb[self.name],3)~=\"config-files\"then E.error(\"cannot purge package: package is\"..(W(E.package.packagedb[self.name],3)==\"not-installed\"and\" not \"or\" \")..\"installed\")return false end;E.print(\"Removing config files for \"..self.name..\" (\"..self.control.Version..\") ...\")for V,p in ipairs(self.conffiles)do a.remove(I(p))end;if not self.callMaintainerScript(\"postrm\",\"purge\")then E.error(\"postrm failed to run\")E.package.clearScriptErrors()Z(E.package.packagedb[self.name],3,\"config-files\")return false end;if a.exists(G(\"info/\"..self.name..\".postrm\"))then a.remove(G(\"info/\"..self.name..\".postrm\"))end;if a.exists(G(\"info/\"..self.name..\".conffiles\"))then a.remove(G(\"info/\"..self.name..\".conffiles\"))end;Z(E.package.packagedb[self.name],3,\"not-installed\")return true end,verify=function()if not self.isUnpacked then E.error(\"internal error: package is not unpacked\")return false end;if W(E.package.packagedb[self.name],1)==\"hold\"then if E.force.hold then E.warn(\"overriding problem because --force enabled:\")E.warn(\"package is currently held\")else E.error(\"package is currently held\")return false end end;if not self.md5sums then E.error(\"cannot verify package: no md5 sums are available\")return false end;local aS=true;for o,p in pairs(self.md5sums)do if C.md5(L(o))~=p then E.print(\"dpkg: \"..self.name..\": checksum failed for file \"..o)aS=false end end;return aS end}_G.package=a7;local function aT(aU,aV)if aU=='~'and aV~='~'then return 1 elseif aU~='~'and aV=='~'then return-1 elseif aU==''and aV~=''then return 1 elseif aU~=''and aV==''then return-1 elseif string.match(aU,\"%a\")and not string.match(aV,\"%a\")then return 1 elseif not string.match(aU,\"%a\")and string.match(aV,\"%a\")then return-1 elseif aU>aV then return 1 elseif aU<aV then return-1 else return 0 end end;local function aW(ai,aQ)if ai==aQ then return 0 end;while ai~=\"\"or aQ~=\"\"do local aX,aY;aX,ai=string.match(ai,\"^(%D*)(.*)$\")aY,aQ=string.match(aQ,\"^(%D*)(.*)$\")while aX~=\"\"or aY~=\"\"do local aZ,a_;aZ,aX=string.match(aX,\"^(.?)(.*)$\")a_,aY=string.match(aY,\"^(.?)(.*)$\")local ac=aT(aZ,a_)if ac~=0 then return ac end end;if ai==\"\"and aQ==\"\"then break end;aX,ai=string.match(ai,\"^(%d*)(.*)$\")aY,aQ=string.match(aQ,\"^(%d*)(.*)$\")if tonumber(aX)>tonumber(aY)then return 1 elseif tonumber(aX)<tonumber(aY)then return-1 end end;return 0 end;function E.compareVersions(ai,aQ)if string.match(ai,\"^%d+:\")or string.match(aQ,\"^%d+:\")then local b0=tonumber(string.match(ai,\"^(%d+):\")or 0)local b1=tonumber(string.match(aQ,\"^(%d+):\")or 0)ai,aQ=string.match(ai,\"^%d+:(.*)\")or ai,string.match(aQ,\"^%d+:(.*)\")or aQ;if b0<b1 then return-1 elseif b0>b1 then return 1 end end;local b2=string.match(ai,\"^([%w.+-~]+)%-?[%w.+~]*$\")local b3=string.match(aQ,\"^([%w.+-~]+)%-?[%w.+~]*$\")if b2==nil or b3==nil then return nil end;local ac=aW(b2,b3)if ac~=0 then return ac end;if string.match(ai,\"%-[^-]+$\")or string.match(aQ,\"%-[%w.+~]+$\")then return aW(string.match(ai,\"%-([%w.+~]+)$\")or\"0\",string.match(aQ,\"%-([%w.+~]+)$\")or\"0\")end;return 0 end;function E.findRelationship(X,b4,b5)local b6,b7;b5=string.match(J(b5),\"^(\"..X..\"%s+%([<=>][<=>]?%s*[^ )]+%))\")or string.match(J(b5),\"[, ](\"..X..\"%s+%([<=>][<=>]?%s*[^ )]+%))\")or string.match(J(b5),\"^(\"..X..\")%s*,\")or string.match(J(b5),\"[, ](\"..X..\")%s*,\")or string.match(J(b5),\"^(\"..X..\")$\")or string.match(J(b5),\"[, ](\"..X..\")$\")if b5==nil then return false end;if string.match(b5,\"%S+%s+%([<=>][<=>]?%s*[^ )]+%)\")then b5,b7,b6=string.match(b5,\"(%S+)%s+%(([<=>][<=>]?)%s*([^ )]+)%)\")if not({[\"<<\"]=true,[\"<=\"]=true,[\"=\"]=true,[\">=\"]=true,[\">>\"]=true})[b7]then return nil end end;if b6 and b7 then local ac=E.compareVersions(b4,b6)return b7==\"<<\"and ac==-1 or b7==\"<=\"and ac~=1 or b7==\"=\"and ac==0 or b7==\">=\"and ac~=-1 or b7==\">>\"and ac==1 else return true end end;function E.checkDependency(b8,b9)local b6,b7;b8=J(b8)if string.match(b8,\"%S+%s+%([<=>][<=>]?%s*[^ )]+%)\")then b8,b7,b6=string.match(b8,\"(%S+)%s+%(([<=>][<=>]?)%s*([^ )]+)%)\")if not({[\"<<\"]=true,[\"<=\"]=true,[\"=\"]=true,[\">=\"]=true,[\">>\"]=true})[b7]then return nil end end;local ba={}if E.package.packagedb[b8]~=nil then table.insert(ba,{E.package.packagedb[b8],E.package.packagedb[b8].Version})end;for V,p in pairs(E.package.packagedb)do if p.Provides and string.find(p.Provides,\"[, ]\"..b8 ..\"[(, ]\")then if b6 and string.match(p.Provides,\"[, ]\"..b8 ..\"%s+%(=%s*[^ )]+%)\")then table.insert(ba,{p,string.match(p.Provides,\"[, ]\"..b8 ..\"%s+%(=%s*([^ )]+)%)\")})elseif not b6 then table.insert(ba,{p,p.Version})end end end;for V,bb in ipairs(ba)do if A.status.configured(W(bb[1],3))or b9==true and A.status.present(W(bb[1],3))or type(b9)==\"function\"and b9(W(bb[1],3),bb[1])then if b6 and b7 and not E.breaks.depends_version then local ac=E.compareVersions(bb[2],b6)if b7==\"<<\"and ac==-1 or b7==\"<=\"and ac~=1 or b7==\"=\"and ac==0 or b7==\">=\"and ac~=-1 or b7==\">>\"and ac==1 then return true,bb[1].Package end else return true,bb[1].Package end end end;return false,b8 end;function E.readDatabase()E.write(\"(Reading database ...\")E.package.setPackageDB()E.package.setTriggerDB()E.package.setFileDB()E.print(\" \"..E.package.filecount..\" files and directories installed.)\")end;return E\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=37609},["query.lua"]={created=1688258069377,type="file",modified=1688258066174,data="local a=require\"system.filesystem\"local b=require\"control\"local function c(d)return string.match(d,'^()[%s%z]*$')and''or string.match(d,'^[%s%z]*(.*[^%s%z])')end;local e={status={not_installed=1,config_files=2,half_installed=3,unpacked=4,half_configured=5,triggers_awaited=6,triggers_pending=7,installed=8}}e.admindir=\"/var/lib/dpkg\"if not a.isDir(e.admindir)then a.mkdir(e.admindir)end;function e.readDatabase()local f=io.open(a.combine(e.admindir,\"status\"),\"r\")if f==nil then error(\"Couldn't find status file\")end;local g={{}}local h=nil;local d=1;for i in f:lines()do if i==\"\"then d=d+1;g[d]={}h=nil else if string.sub(i,1,1)==\" \"and h~=nil then if h==\"Description\"then if type(g[d][h])==\"string\"then g[d][h]={Short=g[d][h],Long=\"\"}end;g[d][h].Long=g[d][h].Long..(string.sub(i,2)==\".\"and\"\\n\\n\"or string.sub(i,2))else g[d][h]=g[d][h]..(string.sub(i,2)==\".\"and\"\\n\\n\"or string.sub(i,2))end else h=string.sub(i,1,(string.find(i,\":\")or 0)-1)g[d][h]=c(string.sub(i,(string.find(i,\":\")or-1)+1))end end end;f:close()local j={}for k,l in pairs(g)do if l.Package then j[l.Package]=l end end;return j end;function e.writeDatabase(m)a.copy(a.combine(e.admindir,\"status\"),a.combine(e.admindir,\"status-old\"))local f=a.open(a.combine(e.admindir,\"status\"),\"w\")if f==nil then error(\"Couldn't find status file\")end;local function n(l)if type(l)==\"table\"then return(l.Short or\"\")..\"\\n \"..string.gsub(l.Long or\"\",\"\\n\\n\",\"\\n .\\n\")else return l end end;for k,l in pairs(m)do if not(string.match(l.Status,\"(%S+) %S+ %S+\")==\"unknown\"and string.match(l.Status,\"%S+ %S+ (%S+)\")==\"not-installed\")then f.writeLine(\"Package: \"..k)for o,p in pairs(l)do if o~=\"Package\"and o~=\"Description\"then f.writeLine(o..\": \"..n(p))end end;if l.Description then f.writeLine(\"Description: \"..n(l.Description))end;f.writeLine(\"\")end end;f.close()end;function e.findPackage(q,r)r=r or e.readDatabase()for k,l in pairs(r)do if q==k then return l,r end end;return nil,r end;function e.readFileLists()local g={duplicates={}}local s=0;for t,l in ipairs(a.find(a.combine(e.admindir,\"info/*.list\")))do local u=string.match(l,\"info/(.+)%.list$\")local f=io.open(l,\"r\")for i in f:lines()do if g[i]~=nil and not a.isDir(i)then g.duplicates[i]=g.duplicates[i]or{}table.insert(g.duplicates[i],u)else g[i]=u;s=s+1 end end end;return g,s end;function e.status.configured(v)return v==\"triggers-pending\"or v==\"installed\"end;function e.status.present(v)return v~=\"not-installed\"and v~=\"config-files\"and v~=\"half-installed\"end;function e.status.needs_configure(v)return v==\"config-failed\"or v==\"half-configured\"or v==\"unpacked\"end;function e.status.get_number(v)for k,l in ipairs({\"not-installed\",\"config-files\",\"half-installed\",\"unpacked\",\"half-configured\",\"triggers-awaited\",\"triggers-pending\",\"installed\"})do if l==v then return k end end;return nil end;return e\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=2805},["deb.lua"]={created=1688258069104,type="file",modified=1688258065620,data="local a=require\"ar\"local b=require\"tar\"local c=require\"control\"local d=require\"libdeflate\"local e=require\"muxzcat\"local f={verbose=false}function f.load(g,h,i)if f.verbose then print(\"Loading package...\")end;local j=a.load(g)if j==nil then error(\"Invalid deb file\",2)end;if#j<3 or j[1].name~=\"debian-binary\"or j[1].data~=\"2.0\\n\"then error(\"Invalid deb file\",2)end;local k,l,m;if f.verbose then print(\"Extracting control...\")end;if j[2].name==\"control.tar.gz\"then k,m=d:DecompressGzip(j[2].data)elseif j[2].name==\"control.tar.xz\"then k,m=e.DecompressXzOrLzmaString(j[2].data)else error(\"Unsupported compression format: \"..j[2].name)end;if k==nil then error(\"Could not decompress control file: \"..m)end;local n=b.load(k,false,true)if n[\".\"]~=nil then n=n[\".\"]end;if f.verbose then print(\"Extracting data...\")end;if j[3].name==\"data.tar.gz\"then l,m=d:DecompressGzip(j[3].data)elseif j[3].name==\"data.tar.xz\"or j[3].name==\"data.tar.lzma\"then l,m=e.DecompressXzOrLzmaString(j[3].data)else error(\"Unsupported compression format: \"..j[2].name)end;if l==nil then error(\"Could not decompress data file: \"..m)end;if i then return{k,l}end;local o=b.load(l,h,true)if o[\".\"]~=nil and not h then o=o[\".\"]end;local p={}p.control_size=string.len(j[2].data)p.data_size=string.len(j[3].data)p.control_archive=n;p.control=c.parseControl(n.control.data)p.name=p.control.Package;p.version=p.control.Version;p.section=p.control.Section;p.priority=p.control.Priority;if p.control[\"Pre-Depends\"]~=nil then p.predepends=c.parseDependencies(p.control[\"Pre-Depends\"])end;if p.control.Depends~=nil then p.depends=c.parseDependencies(p.control.Depends)end;if p.control.Recommends~=nil then p.recommends=c.parseDependencies(p.control.Recommends)end;if p.control.Suggests~=nil then p.suggests=c.parseDependencies(p.control.Suggests)end;if p.control.Enhances~=nil then p.enhances=c.parseDependencies(p.control.Enhances)end;if p.control.Breaks~=nil then p.breaks=c.parseDependencies(p.control.Breaks)end;if p.control.Conflicts~=nil then p.conflicts=c.parseDependencies(p.control.Conflicts)end;if p.control.Provides~=nil then p.provides=c.parseDependencies(p.control.Provides)end;if p.control.Replaces~=nil then p.replaces=c.parseDependencies(p.control.Replaces)end;p.conffiles={}if n.conffiles~=nil then for q in string.gmatch(n.conffiles.data,\"[^\\n]+\")do table.insert(p.conffiles,q)end end;p.md5sums={}if n.md5sums~=nil then for q in string.gmatch(n.md5sums.data,\"[^\\n]+\")do local r,s=q:match(\"^(%x+)  (.+)$\")if r then p.md5sums[\"/\"..s]=r end end end;if n.preinst~=nil then p.preinst=n.preinst.data end;if n.prerm~=nil then p.prerm=n.prerm.data end;if n.postinst~=nil then p.postinst=n.postinst.data end;if n.postrm~=nil then p.postrm=n.postrm.data end;if n.config~=nil then p.config=n.config.data end;if n.triggers~=nil then p.triggers=n.triggers.data end;if n.templates~=nil then p.templates=c.parseControlList(n.templates.data)for r,s in pairs(p.templates)do local t={}for u,v in pairs(s)do if string.match(u,\"%a+%-[%a@_]+%.UTF%-8\")then table.insert(t,u)end end;for u,v in pairs(t)do s[v]=nil end end end;p.data=o;return p end;return f\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=3107},["divert.lua"]={created=1688258069194,type="file",modified=1688258065807,data="local a=require\"system.filesystem\"local b={}b.admindir=\"/var/lib/dpkg\"function b.parse()local c=io.open(a.combine(b.admindir,\"diversions\"),\"r\")local d=1;local e={}local f;for g in c:lines()do if d==1 then e[g]={}f=g elseif d==2 then e[f].name=g elseif d==3 then e[f].package=g end;d=d+1;if d>3 then d=1 end end;c:close()return e end;function b.get(c,h,i)i=i or b.parse()local e=i[c]if not e or e.package==h then return nil end;return e end;local function j(k)a.copy(a.combine(b.admindir,\"diversions\"),a.combine(b.admindir,\"diversions-old\"))local c=a.open(a.combine(b.admindir,\"diversions\"),\"w\")for l,m in pairs(k)do c.writeLine(l)c.writeLine(m.name)c.writeLine(m.package)end;c.close()end;function b.add(n,o,h)local p=b.parse()p[n]={name=o or n..\".distrib\",package=h or\":\"}j(p)end;function b.remove(n)local p=b.parse()p[n]=nil;j(p)end;return b\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=843},["trigger.lua"]={created=1688258069467,type="file",modified=1688258066367,data="local a=require\"system.filesystem\"local b=require\"system.process\"local c=require\"query\"local d={}d.admindir=\"/var/lib/dpkg\"d.log=function(e)end;local f={}local function g(h)return a.combine(d.admindir,h)end;local function i(j,k)local l={}for m in string.gmatch(j,\"([^\"..(k or\"%s\")..\"]+)\")do table.insert(l,m)end;return l end;function d.list()return a.list(g(\"triggers\"))end;function d.lock()while a.exists(g(\"triggers/Lock\"))do coroutine.yield()end;local n=a.open(g(\"triggers/Lock\"),\"w\")n.write(\"Lock\")n.flush()return function()n.close()a.remove(g(\"triggers/Lock\"))if a.exists(g(\"triggers/Lock\"))then error(\"Lock still exists!\")end end end;function d.readDatabase()local n=io.open(g(\"triggers/File\"),\"r\")if not n then error(\"Missing trigger file\")end;local o=d.lock()local p={}for q in n:lines()do local r,s=string.match(q,\"([^ ]+) ([^ ]+)\")if r then p[r]={package=s,await=true}if string.find(s,\"/noawait\")then p[r].await=false end end end;n:close()o()return p end;function d.register(t,s,u)if u==nil then u=true end;local o=d.lock()if string.find(t,\"/\")then local n=a.open(g(\"triggers/File\"),a.exists(g(\"triggers/File\"))and\"a\"or\"w\")n.writeLine(t..\" \"..s..(not u and\"/noawait\"or\"\"))n.close()else local n=a.open(g(\"triggers/\"..t),\"w\")n.writeLine(s..(not u and\"/noawait\"or\"\"))n.close()end;o()end;function d.deregister(t)if string.find(t,\"/\")then local o=d.lock()local n=io.open(g(\"triggers/File\"),\"r\")if not n then return o()end;local p=\"\"for q in n:lines()do if not string.match(q,\"^\"..t..\" \")then p=p..q..\"\\n\"end end;n:close()n=a.open(g(\"triggers/File\"),\"w\")n.write(p)n.close()o()else a.remove(g(\"triggers/\"..t))end end;function d.activate(t,s,u,v,w)if u==nil then u=true end;if string.find(t,\"/\")then v=v or d.readDatabase()local x=false;for y,z in pairs(v)do if string.match(t,\"^\"..y)then x=z end end;if not x then return false end;u=u and x.await;w=w or c.readDatabase()local A,B,C=string.match(w[x.package].Status,\"([^ ]+) ([^ ]+) ([^ ]+)\")if C~=\"triggers-awaited\"then w[x.package].Status=A..\" \"..B..\" triggers-pending\"end;A,B,C=string.match(w[s].Status,\"([^ ]+) ([^ ]+) ([^ ]+)\")if u then w[s].Status=A..\" \"..B..\" triggers-awaited\"w[s][\"Triggers-Awaited\"]=(w[s][\"Triggers-Awaited\"]or\"\")..(w[s][\"Triggers-Awaited\"]and\" \"or\"\")..x.package end;w[x.package][\"Triggers-Pending\"]=(w[x.package][\"Triggers-Pending\"]or\"\")..(w[x.package][\"Triggers-Pending\"]and\" \"or\"\")..t;local o=d.lock()local n=io.open(g(\"triggers/Unincorp\"),\"r\")local D=a.open(g(\"triggers/Unincorp.new\"),\"w\")local E=false;for z in n:lines()do if not E and string.match(z,\"^\"..t..\" \")then E=true;if u then if string.match(z,\"[^ ]+ (.+)\")==\"-\"then z=t end;z=z..\" \"..s end end;D.writeLine(z)end;if not E then D.writeLine(t..\" \"..(u and s or\"-\"))end;n:close()D.close()a.remove(g(\"triggers/Unincorp\"))a.move(g(\"triggers/Unincorp.new\"),g(\"triggers/Unincorp\"))o()return true,v,w else if not a.exists(g(\"triggers/\"..t))then error(\"Invalid trigger \"..t,2)end;local n=io.open(g(\"triggers/\"..t),\"r\")if n==nil then error(\"Could not open trigger file\")end;w=w or c.readDatabase()local F;for q in n:lines()do if w[q]==nil then d.log(\"Package \"..q..\" is interested in trigger \"..t..\" but is not installed\")else local A,B,C=string.match(w[q].Status,\"([^ ]+) ([^ ]+) ([^ ]+)\")w[q].Status=A..\" \"..B..\" triggers-pending\"w[q][\"Triggers-Pending\"]=(w[q][\"Triggers-Pending\"]or\"\")..(w[q][\"Triggers-Pending\"]and\" \"or\"\")..t;A,B,C=string.match(w[s].Status,\"([^ ]+) ([^ ]+) ([^ ]+)\")if u then w[s].Status=A..\" \"..B..\" triggers-awaited\"w[s][\"Triggers-Awaited\"]=(w[s][\"Triggers-Awaited\"]or\"\")..(w[s][\"Triggers-Awaited\"]and\" \"or\"\")..q end;F=(F or\"\")..(F and\" \"or\"\")..q end end;n:close()local o=d.lock()n=io.open(g(\"triggers/Unincorp\"),\"r\")local D=a.open(g(\"triggers/Unincorp.new\"),\"w\")local E=false;for z in n:lines()do if not E and string.match(z,\"^\"..t..\" \")then E=true;if u then if string.match(z,\"[^ ]+ (.+)\")==\"-\"then z=t end;z=z..\" \"..s end end;D.writeLine(z)end;if not E then D.writeLine(t..\" \"..(u and s or\"-\"))end;n:close()D.close()a.remove(g(\"triggers/Unincorp\"))a.move(g(\"triggers/Unincorp.new\"),g(\"triggers/Unincorp\"))o()return true,v,w end end;function d.commit(s,v,w)w=w or c.readDatabase()if w[s]==nil then error(\"Package \"..s..\" not found\")end;local A,B,C=string.match(w[s].Status,\"([^ ]+) ([^ ]+) ([^ ]+)\")if w[s][\"Triggers-Pending\"]==nil or not c.status.configured(C)then return false,v,w end;local G=w[s][\"Triggers-Pending\"]w[s][\"Triggers-Pending\"]=nil;local H=b.run(g(\"info/\"..s..\".postinst\"),\"triggered\",G)w[s].Status=A..\" \"..B..(H and(w[s][\"Triggers-Awaited\"]and\" triggers-awaited\"or\" installed\")or\" config-failed\")local o=d.lock()local I=a.open(g(\"triggers/Unincorp.new\"),\"w\")for J in io.lines(g(\"triggers/Unincorp\"))do local K=string.gsub(G,string.find(G,string.match(J,\"^([^ ]+)\"),1,true))if K then for L,z in ipairs(i(string.match(J,\"^[^ ]+ (.+)\")))do if w[z]~=nil and w[z][\"Triggers-Awaited\"]~=nil then w[z][\"Triggers-Awaited\"]=string.gsub(string.gsub(w[z][\"Triggers-Awaited\"],\"( ?)\"..s..\"( ?)\",\"%1\"),\" $\",\"\")if w[z][\"Triggers-Awaited\"]==\"\"then w[z][\"Triggers-Awaited\"]=nil;w[z].Status=string.gsub(w[z].Status,\"triggers%-awaited\",\"installed\")end end end else I.writeLine(J)end end;I.close()a.remove(g(\"triggers/Unincorp\"))a.move(g(\"triggers/Unincorp.new\"),g(\"triggers/Unincorp\"))o()return H and 1 or 0,v,w end;return d\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=5278},["control.lua"]={created=1688258069010,type="file",modified=1688258065437,data="local function a(b)return string.match(b,'^()[%s%z]*$')and''or string.match(b,'^[%s%z]*(.*[^%s%z])')end;local c={}function c.parseControl(d)local e={}local f=nil;for g in string.gmatch(d,\"[^\\n]+\")do if string.sub(g,1,1)==\" \"and f~=nil then if f==\"Description\"then if type(e[f])==\"string\"then e[f]={Short=e[f],Long=\"\"}end;e[f].Long=e[f].Long..(string.sub(g,2)==\".\"and\"\\n\\n\"or string.sub(g,2))else e[f]=e[f]..(string.sub(g,2)==\".\"and\"\\n\\n\"or string.sub(g,2))end else f=string.sub(g,1,(string.find(g,\":\")or 0)-1)e[f]=a(string.sub(g,(string.find(g,\":\")or-1)+1))end end;return e end;function c.parseControlList(d,h)local e={}local i={}local j={}local b=1;for k,g in string.gmatch(d,\"()([^\\n]*\\n)\")do if g==\"\\n\"or g==\"\"then b=b+1 else j[b]=j[b]or k;i[b]=(i[b]or\"\")..g end end;for l,m in pairs(i)do local n=c.parseControl(m)if h then n.__pos=j[l]end;table.insert(e,n)end;return e end;function c.parseDependencies(o)local e={}for p in string.gmatch(o,\"[^,]+\")do p=a(p)local q={}if string.find(p,\"|\")then q.multiple=true;q.names={}for r in string.gmatch(p,\"[^|]+\")do r=a(r)local s={}s.name=string.match(r,\"%S+\")if string.match(r,\"%([<>=]+ [%d.%-%+%~]+%)\")then s.rel=string.match(r,\"%(([<>=]+) [%d.%-%+%~]+%)\")s.version=string.match(r,\"%([<>=]+ ([%d.%-%+%~]+)%)\")end;table.insert(q.names,s)end else q.name=string.match(p,\"%S+\")if string.match(p,\"%([<>=]+ [%d%.%-%+%~]+%)\")then q.rel=string.match(p,\"%(([<>=]+) [%d.%-%+%~]+%)\")q.version=string.match(p,\"%([<>=]+ ([%d.%-%+%~]+)%)\")end end;table.insert(e,q)end;return e end;return c\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1520}},modified=1688258069467,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["libccryptolib.a"]={created=1688258023976,type="file",modified=1688258023863,data="!<arch>\n//              0           0     0     666     109       `\ninternal_curve25519.lua\ninternal_edwards25519.lua\ninternal_packing.lua\ninternal_sha512.lua\ninternal_util.lua\n\naead.lua/       1686758143  0     0     775     1508      `\nlocal a=require\"system.expect\".expect;local b=require\"internal_util\".lassert;local c=require\"internal_packing\"local d=require\"chacha20\"local e=require\"poly1305\"local f,g=c.compilePack(\"<I8\")local h,i=c.compileUnpack(\"<I4I4I4I4\")local j=bit32.bxor;local function k(l,m,n,o,p)a(1,l,\"string\")b(#l==32,\"key length must be 32\",2)a(2,m,\"string\")b(#m==12,\"nonce length must be 12\",2)a(3,n,\"string\")a(4,o,\"string\")p=a(5,p,\"number\",\"nil\")or 20;b(p%2==0,\"round number must be even\",2)b(p>=8,\"round number must be no smaller than 8\",2)b(p<=20,\"round number must be no larger than 20\",2)local q=(\"\\0\"):rep(64)..n;local r=d.crypt(l,m,q,p,0)local s=r:sub(1,32)local t=r:sub(65)local u=(\"\\0\"):rep(-#o%16)local v=(\"\\0\"):rep(-#t%16)local w=f(\"<I8\",#o)local x=f(\"<I8\",#t)local y=o..u..t..v..w..x;local z=e.mac(s,y)return t,z end;local function A(l,m,z,t,o,p)a(1,l,\"string\")b(#l==32,\"key length must be 32\",2)a(2,m,\"string\")b(#m==12,\"nonce length must be 12\",2)a(3,z,\"string\")b(#z==16,\"tag length must be 16\",2)a(4,t,\"string\")a(5,o,\"string\")p=a(6,p,\"number\",\"nil\")or 20;b(p%2==0,\"round number must be even\",2)b(p>=8,\"round number must be no smaller than 8\",2)b(p<=20,\"round number must be no larger than 20\",2)local s=d.crypt(l,m,(\"\\0\"):rep(32),p,0)local u=(\"\\0\"):rep(-#o%16)local v=(\"\\0\"):rep(-#t%16)local w=f(g,#o)local x=f(g,#t)local y=o..u..t..v..w..x;local B,C,D,E=h(i,z,1)local F,G,H,I=h(i,e.mac(s,y),1)local J=j(B,F)+j(C,G)+j(D,H)+j(E,I)if J~=0 then return nil end;return d.crypt(l,m,t,p)end;return{encrypt=k,decrypt=A}\nblake3.lua/     1686758143  0     0     775     3468      `\nlocal a=require\"system.expect\".expect;local b=require\"internal_util\".lassert;local c=require\"internal_packing\"local unpack=unpack or table.unpack;local d=bit32.bxor;local e=bit32.lrotate;local f,g=c.compilePack(\"<I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4\")local h=c.compileUnpack(g)local i,j=c.compileUnpack(\"<I4I4I4I4I4I4I4I4\")local k=0x01;local l=0x02;local m=0x04;local n=0x08;local o=0x10;local p=0x20;local q=0x40;local r={0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19}local function s(t,u,v,w,x,y)local z,A,B,C,D,E,F,G=unpack(t)local H,I,J,K=z,A,B,C;local L,M,N,O=D,E,F,G;local P,Q,R,S=0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a;local T=v%2^32;local U=(v-T)*2^-32;local V,W,X,Y,Z,_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9=unpack(u)local aa;for ab=1,7 do H=H+L+V;T=e(d(T,H),16)P=P+T;L=e(d(L,P),20)H=H+L+W;T=e(d(T,H),24)P=P+T;L=e(d(L,P),25)I=I+M+X;U=e(d(U,I),16)Q=Q+U;M=e(d(M,Q),20)I=I+M+Y;U=e(d(U,I),24)Q=Q+U;M=e(d(M,Q),25)J=J+N+Z;w=e(d(w,J),16)R=R+w;N=e(d(N,R),20)J=J+N+_;w=e(d(w,J),24)R=R+w;N=e(d(N,R),25)K=K+O+a0;x=e(d(x,K),16)S=S+x;O=e(d(O,S),20)K=K+O+a1;x=e(d(x,K),24)S=S+x;O=e(d(O,S),25)H=H+M+a2;x=e(d(x,H),16)R=R+x;M=e(d(M,R),20)H=H+M+a3;x=e(d(x,H),24)R=R+x;M=e(d(M,R),25)I=I+N+a4;T=e(d(T,I),16)S=S+T;N=e(d(N,S),20)I=I+N+a5;T=e(d(T,I),24)S=S+T;N=e(d(N,S),25)J=J+O+a6;U=e(d(U,J),16)P=P+U;O=e(d(O,P),20)J=J+O+a7;U=e(d(U,J),24)P=P+U;O=e(d(O,P),25)K=K+L+a8;w=e(d(w,K),16)Q=Q+w;L=e(d(L,Q),20)K=K+L+a9;w=e(d(w,K),24)Q=Q+w;L=e(d(L,Q),25)if ab~=7 then aa=X;X=Y;Y=a4;a4=a6;a6=a3;a3=a5;a5=_;_=V;V=aa;aa=a0;a0=Z;Z=a1;a1=a7;a7=a8;a8=a9;a9=a2;a2=W;W=aa end end;if y then return{d(H,P),d(I,Q),d(J,R),d(K,S),d(L,T),d(M,U),d(N,w),d(O,x),d(P,z),d(Q,A),d(R,B),d(S,C),d(T,D),d(U,E),d(w,F),d(x,G)}else return{d(H,P),d(I,Q),d(J,R),d(K,S),d(L,T),d(M,U),d(N,w),d(O,x)}end end;local function ac(ad,ae)for ab=1,8 do ad[ab+8]=ae[ab]end;return ad end;local function af(ag,ah,u,ai)local aj={}local ak=ag;local al=0;local am=0;local an=k;local ao=0;for ab=1,#u-64,64 do local ap={h(g,u,ab)}local aq=ah+an+ao;ak=s(ak,ap,al,64,aq)an=0;am=am+1;if am==15 then ao=l elseif am==16 then local ar=ak;local as=al+1;while as%2==0 do local ap=ac(table.remove(aj),ar)ar=s(ag,ap,0,64,ah+m)as=as/2 end;table.insert(aj,ar)ak=ag;al=al+1;am=0;an=k;ao=0 end end;local at=#u==0 and 0 or(#u-1)%64+1;local au=u:sub(-at)..(\"\\0\"):rep(64)local av={h(g,au,1)}local aw,ax,ay,az;if al>0 then local aq=ah+an+l;local ar=s(ak,av,al,at,aq)for ab=#aj,2,-1 do local ap=ac(aj[ab],ar)ar=s(ag,ap,0,64,ah+m)end;aw=ag;ax=ac(aj[1],ar)ay=64;az=ah+n+m else aw=ak;ax=av;ay=at;az=ah+an+l+n end;local aA={}for ab=0,ai/64 do local aB=s(aw,ax,ab,ay,az,true)aA[ab+1]=f(g,unpack(aB))end;return table.concat(aA):sub(1,ai)end;local function aC(aD,ai)a(1,aD,\"string\")ai=a(2,ai,\"number\",\"nil\")or 32;b(ai%1==0,\"desired output length must be an integer\",2)b(ai>=1,\"desired output length must be positive\",2)return af(r,0,aD,ai)end;local function aE(aF,aD,ai)a(1,aF,\"string\")b(#aF==32,\"key length must be 32\",2)a(2,aD,\"string\")ai=a(3,ai,\"number\",\"nil\")or 32;b(ai%1==0,\"desired output length must be an integer\",2)b(ai>=1,\"desired output length must be positive\",2)return af({i(j,aF,1)},o,aD,ai)end;local function aG(aH)a(1,aH,\"string\")local ag={i(j,af(r,p,aH,32),1)}return function(aI,ai)a(1,aI,\"string\")ai=a(2,ai,\"number\",\"nil\")or 32;b(ai%1==0,\"desired output length must be an integer\",2)b(ai>=1,\"desired output length must be positive\",2)return af(ag,q,aI,ai)end end;return{digest=aC,digestKeyed=aE,deriveKey=aG}\nchacha20.lua/   1686758143  0     0     775     2047      `\nlocal a=require\"system.expect\".expect;local b=require\"internal_util\".lassert;local c=require\"internal_packing\"local d=bit32.bxor;local e=bit32.lrotate;local f,g=c.compileUnpack(\"<I4I4I4I4I4I4I4I4\")local h,i=c.compileUnpack(\"<I4I4I4\")local j,k=c.compilePack(\"<I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4\")local l=c.compileUnpack(k)local function m(n,o,p,q,r)a(1,n,\"string\")b(#n==32,\"key length must be 32\",2)a(2,o,\"string\")b(#o==12,\"nonce length must be 12\",2)a(3,p,\"string\")q=a(4,q,\"number\",\"nil\")or 20;b(q%2==0,\"round number must be even\",2)b(q>=8,\"round number must be no smaller than 8\",2)b(q<=20,\"round number must be no larger than 20\",2)r=a(5,r,\"number\",\"nil\")or 1;b(r%1==0,\"offset must be an integer\",2)b(r>=0,\"offset must be nonnegative\",2)b(#p+64*r<=2^38,\"offset too large\",2)local s,t,u,v=0x61707865,0x3320646e,0x79622d32,0x6b206574;local w,x,y,z,A,B,C,D=f(g,n,1)local E,F,G,H=r,h(i,o,1)local I=p..(\"\\0\"):rep(-#p%64)local J={}local K=1;for L=1,#I/64 do local M,N,O,P=s,t,u,v;local Q,R,S,T=w,x,y,z;local U,V,W,X=A,B,C,D;local Y,Z,_,a0=E,F,G,H;for a1=1,q,2 do M=M+Q;Y=e(d(Y,M),16)U=U+Y;Q=e(d(Q,U),12)M=M+Q;Y=e(d(Y,M),8)U=U+Y;Q=e(d(Q,U),7)N=N+R;Z=e(d(Z,N),16)V=V+Z;R=e(d(R,V),12)N=N+R;Z=e(d(Z,N),8)V=V+Z;R=e(d(R,V),7)O=O+S;_=e(d(_,O),16)W=W+_;S=e(d(S,W),12)O=O+S;_=e(d(_,O),8)W=W+_;S=e(d(S,W),7)P=P+T;a0=e(d(a0,P),16)X=X+a0;T=e(d(T,X),12)P=P+T;a0=e(d(a0,P),8)X=X+a0;T=e(d(T,X),7)M=M+R;a0=e(d(a0,M),16)W=W+a0;R=e(d(R,W),12)M=M+R;a0=e(d(a0,M),8)W=W+a0;R=e(d(R,W),7)N=N+S;Y=e(d(Y,N),16)X=X+Y;S=e(d(S,X),12)N=N+S;Y=e(d(Y,N),8)X=X+Y;S=e(d(S,X),7)O=O+T;Z=e(d(Z,O),16)U=U+Z;T=e(d(T,U),12)O=O+T;Z=e(d(Z,O),8)U=U+Z;T=e(d(T,U),7)P=P+Q;_=e(d(_,P),16)V=V+_;Q=e(d(Q,V),12)P=P+Q;_=e(d(_,P),8)V=V+_;Q=e(d(Q,V),7)end;local a2,a3,a4,a5,a6,a7,a8,a9;local aa,ab,ac,ad,ae,af,ag,ah;a2,a3,a4,a5,a6,a7,a8,a9,aa,ab,ac,ad,ae,af,ag,ah,K=l(k,I,K)J[L]=j(k,d(a2,M+s),d(a3,N+t),d(a4,O+u),d(a5,P+v),d(a6,Q+w),d(a7,R+x),d(a8,S+y),d(a9,T+z),d(aa,U+A),d(ab,V+B),d(ac,W+C),d(ad,X+D),d(ae,Y+E),d(af,Z+F),d(ag,_+G),d(ah,a0+H))E=E+1 end;return table.concat(J):sub(1,#p)end;return{crypt=m}\n\ned25519.lua/    1686758143  0     0     775     1243      `\nlocal a=require\"system.expect\".expect;local b=require\"internal_util\".lassert;local c=require\"internal_fq\"local d=require\"internal_sha512\"local e=require\"internal_edwards25519\"local f=require\"random\"local function g(h)a(1,h,\"string\")assert(#h==32,\"secret key length must be 32\")local i=d.digest(h)local j=c.decodeClamped(i:sub(1,32))return e.encode(e.mulG(c.bits(j)))end;local function k(h,l,m)a(1,h,\"string\")b(#h==32,\"secret key length must be 32\",2)a(2,l,\"string\")b(#l==32,\"public key length must be 32\",2)a(3,m,\"string\")local i=d.digest(h)local j=c.decodeClamped(i:sub(1,32))local n=c.decodeWide(f.random(64))local o=e.mulG(c.bits(n))local p=e.encode(o)local q=c.decodeWide(d.digest(p..l..m))local r=c.decodeWide(f.random(64))local s=c.sub(c.add(n,c.mul(c.add(j,r),q)),c.mul(r,q))local t=c.encode(s)return p..t end;local function u(l,m,v)a(1,l,\"string\")b(#l==32,\"public key length must be 32\",2)a(2,m,\"string\")a(3,v,\"string\")b(#v==64,\"signature length must be 64\",2)local w=e.decode(l)if not w then return false end;local p=v:sub(1,32)local t=v:sub(33)local q=c.decodeWide(d.digest(p..l..m))local x=e.mulG(c.bits(c.decode(t)))local y=e.mul(w,c.bits(q))local z=e.sub(x,e.niels(y))return e.encode(z)==p end;return{publicKey=g,sign=k,verify=u}\n\npoly1305.lua/   1686758144  0     0     775     2009      `\nlocal a=require\"system.expect\".expect;local b=require\"internal_util\".lassert;local c=require\"internal_packing\"local d,e=c.compileUnpack(\"<I4I4I4I4\")local f=c.compilePack(e)local function g(h,i)a(1,h,\"string\")b(#h==32,\"key length must be 32\",2)a(2,i,\"string\")local j=#i-15;if#i%16~=0 or#i==0 then i=i..\"\\1\"i=i..(\"\\0\"):rep(-#i%16)end;local k,l,m,n=d(e,h,1)k=k%2^28;l=(l-l%4)%2^28*2^32;m=(m-m%4)%2^28*2^64;n=(n-n%4)%2^28*2^96;local o=k%2^18;local p=k-o;local q=l%2^50;local r=l-q;local s=m%2^82;local t=m-s;local u=n%2^112;local v=n-u;local w=5/2^130*l;local x=5/2^130*m;local y=5/2^130*n;local z=w%2^-80;local A=w-z;local B=x%2^-48;local C=x-B;local D=y%2^-16;local E=y-D;local F,G,H,I,J,K,L,M=0,0,0,0,0,0,0,0;for N=1,#i,16 do local O,P,Q,R=d(e,i,N)local S=F+G+O;local T=H+I+P*2^32;local U=J+K+Q*2^64;local V=L+M+R*2^96;if N<=j then V=V+2^128 end;F=S*o+T*D+U*B+V*z;G=S*p+T*E+U*C+V*A;H=S*q+T*o+U*D+V*B;I=S*r+T*p+U*E+V*C;J=S*s+T*q+U*o+V*D;K=S*t+T*r+U*p+V*E;L=S*u+T*s+U*q+V*o;M=S*v+T*t+U*r+V*p;local W=F+3*2^69-3*2^69;F=F-W;G=G+W;local X=G+3*2^83-3*2^83;G=G-X;H=H+X;local Y=H+3*2^101-3*2^101;H=H-Y;I=I+Y;local Z=I+3*2^115-3*2^115;I=I-Z;J=J+Z;local _=J+3*2^133-3*2^133;J=J-_;K=K+_;local a0=K+3*2^147-3*2^147;K=K-a0;L=L+a0;local a1=L+3*2^163-3*2^163;L=L-a1;M=M+a1;local a2=M+3*2^181-3*2^181;M=M-a2;F=F+5/2^130*a2 end;local a3=F%2^16;G=F-a3+G;local a4=G%2^32;H=G-a4+H;local a5=H%2^48;I=H-a5+I;local a6=I%2^64;J=I-a6+J;local a7=J%2^80;K=J-a7+K;local a8=K%2^96;L=K-a8+L;local a9=L%2^112;M=L-a9+M;local aa=M%2^130;F=a3+5/2^130*(M-aa)a3=F%2^16;a4=F-a3+a4;if aa==0x3ffff*2^112 and a9==0xffff*2^96 and a8==0xffff*2^80 and a7==0xffff*2^64 and a6==0xffff*2^48 and a5==0xffff*2^32 and a4==0xffff*2^16 and a3>=0xfffb then aa,a9,a8,a7,a6,a5,a4,a3=0,0,0,0,0,0,0,a3-0xfffb end;local ab,ac,z,A=d(e,h,17)local ad=ab+a3+a4;local ae=ad%2^32;local af=ad-ae+ac*2^32+a5+a6;local ag=af%2^64;local ah=af-ag+z*2^64+a7+a8;local ai=ah%2^96;local aj=ah-ai+A*2^96+a9+aa;local ak=aj%2^128;return f(e,ae,ag/2^32,ai/2^64,ak/2^96)end;return{mac=g}\n\nrandom.lua/     1686758144  0     0     775     701       `\nlocal a=require\"system.expect\".expect;local b=require\"blake3\"local c=require\"chacha20\"local d=require\"internal_util\"local e=d.lassert;local f={\"ccryptolib 2023-04-11T19:43Z random.lua initialization context\",os.time()*1000,os.time(\"ingame\")*1000,math.random(0,2^24-1),math.random(0,2^24-1),tostring({}),tostring({})}local g=b.digest(table.concat(f,\"|\"))local h=false;local function i(j)a(1,j,\"string\")g=b.digestKeyed(g,j)h=true end;local function k(l)g=b.digestKeyed(g,l)end;local function m(n)a(1,n,\"number\")e(h,\"attempt to use an uninitialized random generator\",2)local o=(\"\\0\"):rep(n+32)local p=(\"\\0\"):rep(12)local q=c.crypt(g,p,o,8,0)g=q:sub(1,32)return q:sub(33)end;return{init=i,mix=k,random=m}\n\nsha256.lua/     1686758144  0     0     775     2074      `\nlocal a=require\"system.expect\".expect;local b=require\"internal_util\".lassert;local c=require\"internal_packing\"local d=bit32.lrotate;local e=bit32.rshift;local f=bit32.bxor;local g=bit32.bnot;local h=bit32.band;local unpack=unpack or table.unpack;local i,j=c.compilePack(\">I8\")local k,l=c.compilePack(\">I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4\")local m=c.compileUnpack(l)local n,o=c.compilePack(\">I4I4I4I4I4I4I4I4\")local p=c.compileUnpack(o)local function q(r,s)local t={}local u=2;for v=1,r do t[v]=f(u^s%1*2^32)repeat u=u+1 until 2^u%u==2 end;return t end;local w=q(64,1/3)local x=q(8,1/2)local function y(z,A)local x,B,C,D,E,F,G,H=unpack(z)local w=w;for I=17,64 do local J=A[I-15]local K=A[I-2]local L=f(d(J,25),d(J,14),e(J,3))local M=f(d(K,15),d(K,13),e(K,10))A[I]=A[I-16]+L+A[I-7]+M end;local N,O,P,Q,R,S,T,z=x,B,C,D,E,F,G,H;for I=1,64 do local M=f(d(R,26),d(R,21),d(R,7))local U=f(h(R,S),h(g(R),T))local V=z+M+U+w[I]+A[I]local L=f(d(N,30),d(N,19),d(N,10))local W=f(h(N,O),h(N,P),h(O,P))local X=L+W;z=T;T=S;S=R;R=Q+V;Q=P;P=O;O=N;N=V+X end;return{(x+N)%2^32,(B+O)%2^32,(C+P)%2^32,(D+Q)%2^32,(E+R)%2^32,(F+S)%2^32,(G+T)%2^32,(H+z)%2^32}end;local function Y(Z)a(1,Z,\"string\")local _=#Z*8;local a0=-(#Z+9)%64;Z=Z..\"\\x80\"..(\"\\0\"):rep(a0)..i(j,_)local z=x;for v=1,#Z,64 do z=y(z,{m(l,Z,v)})end;return n(o,unpack(z))end;local a1=50;local function a2(a3,a4,a5,a6)a(1,a3,\"string\")a(2,a4,\"string\")a(3,a5,\"number\")b(a5%1==0,\"iteration number must be an integer\",2)b(a5>0,\"iteration number must be positive\",2)a(4,a6,\"function\",\"nil\")if#a3>64 then a3=Y(a3)end;a3={m(l,a3 ..(\"\\0\"):rep(64),1)}local a7={}local a8={}for v=1,16 do a7[v]=f(a3[v],0x36363636)a8[v]=f(a3[v],0x5c5c5c5c)end;local a9=y(x,a7)local aa=y(x,a8)local ab={2^31,0,0,0,0,0,0,0x300}local ac=k(l,unpack(a7))local ad={p(o,Y(ac..a4 ..\"\\0\\0\\0\\1\"),1)}for v=1,8 do ad[v+8]=ab[v]end;ad=y(aa,ad)local t={unpack(ad)}for v=2,a5 do for I=1,8 do ad[I+8]=ab[I]end;ad=y(a9,ad)for I=1,8 do ad[I+8]=ab[I]end;ad=y(aa,ad)for I=1,8 do t[I]=f(t[I],ad[I])end;if a6 and v%a1==0 then a6(v)end end;return n(o,unpack(t))end;return{digest=Y,pbkdf2=a2}\nutil.lua/       1686758144  0     0     775     518       `\nlocal a=require\"system.expect\".expect;local b=require\"cryptolib.random\"local c=require\"poly1305\"local function d(e)a(1,e,\"string\")return(\"%02x\"):rep(#e):format(e:byte(1,-1))end;local function f(g)a(1,g,\"string\")local h={}local i=0;for j in g:gmatch(\"%x%x\")do i=i+1;h[i]=tonumber(j,16)end;if 2*i==#g then return string.char(table.unpack(h))end end;local function k(l,m)a(1,l,\"string\")a(2,m,\"string\")if#l~=#m then return false end;local n=b.random(32)return c.mac(n,l)==c.mac(n,m)end;return{toHex=d,fromHex=f,compare=k}\nx25519.lua/     1686758145  0     0     775     725       `\nlocal a=require\"system.expect\".expect;local b=require\"internal_util\".lassert;local c=require\"internal_util\"local d=require\"internal_curve25519\"local function e(f)a(1,f,\"string\")assert(#f==32,\"secret key length must be 32\")return d.encode(d.scale(d.mulG(c.bits(f))))end;local function g(f,h)a(1,f,\"string\")b(#f==32,\"secret key length must be 32\",2)a(2,h,\"string\")b(#h==32,\"public key length must be 32\",2)return d.encode(d.scale(d.ladder8(d.decode(h),c.bits8(f))))end;local function i(f,h)a(1,f,\"string\")b(#f==32,\"secret key length must be 32\",2)a(2,h,\"string\")b(#h==32,\"public key length must be 32\",2)return d.encode(d.scale(d.ladder8(d.decodeEd(h),c.bits8(f))))end;return{publicKey=e,exchange=g,_EXPERIMENTAL_exchangeEd=i}\n\nx25519c.lua/    1686758145  0     0     775     2933      `\nlocal a=require\"system.expect\".expect;local b=require\"internal_util\".lassert;local c=require\"internal_fq\"local d=require\"internal_fp\"local e=require\"internal_curve25519\"local f=require\"internal_edwards25519\"local g=require\"internal_sha512\"local h=require\"random\"local function i(j)a(1,j,\"string\")b(#j==32,\"secret key length must be 32\",2)local k=h.random(32)local l=c.decodeClamped(j)local m=c.decodeClamped(k)local n=c.sub(l,m)return c.encode(n)..k end;function maskS(j)a(1,j,\"string\")b(#j==32,\"secret key length must be 32\",2)return i(g.digest(j):sub(1,32))end;local function o(p)a(1,p,\"string\")b(#p==64,\"masked secret key length must be 64\",2)local q=h.random(32)local n=c.decode(p:sub(1,32))local m=c.decodeClamped(p:sub(33))local r=c.decodeClamped(q)local s=c.add(n,c.sub(m,r))return c.encode(s)..q end;local function t(p)a(1,p,\"string\")b(#p==64,\"masked secret key length must be 64\",2)return p:sub(33)end;local function u(j,v)local n=c.decode(j:sub(1,32))local m=c.decodeClamped(j:sub(33))local w,x,y=e.prac(v,c.makeRuleset(c.eighth(m),c.eighth(n)))if not w then local z=d.encode(d.num(0))return z,z end;local A=e.dadd(y,w,x)local B,C=v[1],v[2]local D,E=A[1],A[2]local F,G=w[1],w[2]B,C=d.mul(B,C),d.square(C)D,E=d.mul(D,E),d.square(E)F,G=d.mul(F,G),d.square(G)local H=d.square(B)local I=d.square(C)local J=d.mul(B,C)local K=d.kmul(J,486662)local L=d.mul(B,d.add(H,d.carry(d.add(K,I))))local M=d.sqrtDiv(d.num(1),d.mul(d.mul(E,G),L))if not M then local z=d.encode(d.num(0))return z,z end;local N=d.mul(d.square(M),L)local O=d.mul(N,G)local P=d.mul(N,E)return d.encode(d.mul(D,O)),d.encode(d.mul(F,P))end;local function Q(p)a(1,p,\"string\")b(#p==64,\"masked secret key length must be 64\",2)return u(p,e.G)end;local function R(p)a(1,p,\"string\")b(#p==64,\"masked secret key length must be 64\",2)local n=c.decode(p:sub(1,32))local m=c.decodeClamped(p:sub(33))local S=f.add(f.mulG(c.bits(n)),f.niels(f.mulG(c.bits(m))))return f.encode(f.scale(S))end;local function T(j,U)a(1,j,\"string\")b(#j==64,\"masked secret key length must be 64\",2)a(2,U,\"string\")b(#U==32,\"public key length must be 32\",2)return u(j,e.decode(U))end;local function V(j,U)a(1,j,\"string\")b(#j==64,\"masked secret key length must be 64\",2)a(2,U,\"string\")b(#U==32,\"public key length must be 32\",2)return u(j,e.decodeEd(U))end;local function W(j,U,X)a(1,j,\"string\")b(#j==64,\"masked secret key length must be 64\",2)a(2,U,\"string\")b(#U==32,\"public key length must be 32\",2)a(3,X,\"string\")local n=c.decode(j:sub(1,32))local m=c.decodeClamped(j:sub(33))local Y=c.decodeWide(h.random(64))local Z=f.encode(f.mulG(c.bits(Y)))local _=c.decodeWide(g.digest(Z..U..X))local r=c.add(c.add(Y,c.mul(n,_)),c.mul(m,_))local a0=c.encode(r)return Z..a0 end;return{_EXPERIMENTAL_maskX=i,_EXPERIMENTAL_maskS=maskS,_EXPERIMENTAL_remask=o,_EXPERIMENTAL_publicKeyX=Q,_EXPERIMENTAL_ephemeralSk=t,_EXPERIMENTAL_publicKeyS=R,_EXPERIMENTAL_exchangeX=T,_EXPERIMENTAL_exchangeS=V,_EXPERIMENTAL_sign=W}\n\n/0              1686758143  0     0     775     2808      `\nlocal a=require\"internal_fp\"local b=require\"internal_edwards25519\"local c=require\"random\"local function d(e)local f,g=e[1],e[2]local h=a.add(f,g)local i=a.square(h)local j=a.sub(f,g)local k=a.square(j)local l=a.sub(i,k)local m=a.mul(i,k)local n=a.mul(l,a.add(k,a.kmul(l,121666)))return{m,n}end;local function o(p,e,q)local r,s=p[1],p[2]local f,g=e[1],e[2]local t,u=q[1],q[2]local h=a.add(f,g)local j=a.sub(f,g)local l=a.add(t,u)local v=a.sub(t,u)local w=a.mul(v,h)local x=a.mul(l,j)local m=a.mul(s,a.square(a.add(w,x)))local n=a.mul(r,a.square(a.sub(w,x)))return{m,n}end;local function y(p,e,q)local r,s=p[1],p[2]local f,g=e[1],e[2]local t,u=q[1],q[2]local h=a.add(f,g)local i=a.square(h)local j=a.sub(f,g)local k=a.square(j)local z=a.sub(i,k)local l=a.add(t,u)local v=a.sub(t,u)local w=a.mul(v,h)local x=a.mul(l,j)local A=a.mul(s,a.square(a.add(w,x)))local B=a.mul(r,a.square(a.sub(w,x)))local m=a.mul(i,k)local n=a.mul(z,a.add(k,a.kmul(z,121666)))return{m,n},{A,B}end;local function C(p,D)local E={a.num(1),a.num(0)}local F=p;for G=#D,1,-1 do if D[G]==0 then E,F=y(p,E,F)else F,E=y(p,F,E)end end;return E end;local function H(E,D)local I=a.decode(c.random(32))E={a.mul(E[1],I),a.mul(E[2],I)}return d(d(d(C(E,D))))end;local function J(E)return{a.mul(E[1],a.invert(E[2])),a.num(1)}end;local function K(E)return a.encode(E[1])end;local function L(M)return{a.decode(M),a.num(1)}end;local function N(M)local O=a.decode(M)local P=a.carry(a.add(a.num(1),O))local v=a.carry(a.sub(a.num(1),O))if a.eqz(v)then return{a.num(0),a.num(1)}else return{P,v}end end;local function Q(D)local E=b.mulG(D)local R,S=E[2],E[3]local T=a.carry(a.add(R,S))local U=a.carry(a.sub(S,R))return{T,U}end;local function V(E,W)local I=a.decode(c.random(32))local X={a.mul(E[1],I),a.mul(E[2],I)}local X=d(d(d(X)))if a.eqz(X[2])then return end;X=C(X,W[1])local Y=W[2]if#Y==0 then return end;local Z,_;local a0=Y[#Y]if a0==2 then local a1=d(X)X,Z,_=o(X,a1,X),X,a1 elseif a0==3 or a0==5 then X,Z,_=d(X),X,X elseif a0==6 then local a1=d(X)local a2=o(X,a1,X)X,Z,_=d(a2),X,o(X,a2,a1)elseif a0==7 then local a1=d(X)local a2=o(X,a1,X)local a3=d(a1)X,Z,_=o(a2,a3,X),X,a3 elseif a0==8 then local a1=d(X)local a2=o(X,a1,X)X,Z,_=d(a1),X,a2 else X,Z,_=X,d(X),X end;for G=#Y-1,1,-1 do local a0=Y[G]if a0==0 then X,Z=Z,X elseif a0==1 then local a4=o(_,X,Z)X,Z=o(Z,a4,X),o(X,a4,Z)elseif a0==2 then X,_=o(Z,o(_,X,Z),X),d(X)elseif a0==3 then X,_=o(_,X,Z),X elseif a0==5 then X,_=d(X),o(Z,X,_)elseif a0==6 then local a4=o(_,X,Z)local a5=d(a4)X,_=o(a4,a5,a4),o(o(X,a4,Z),a5,X)elseif a0==7 then local a4=o(_,X,Z)local a6=o(Z,a4,X)X,_=o(X,a6,a4),o(a4,a6,X)elseif a0==8 then local a7=d(X)X,_=o(_,a7,o(_,X,Z)),o(X,a7,X)else Z,_=d(Z),o(X,_,Z)end end;return X,Z,_ end;return{G={a.num(9),a.num(1)},dadd=o,scale=J,encode=K,decode=L,decodeEd=N,ladder8=H,mulG=Q,prac=V}\n/24             1686758144  0     0     775     3211      `\nlocal a=require\"internal_fp\"local unpack=unpack or table.unpack;local b=a.mul(a.num(-121665),a.invert(a.num(121666)))local c=a.kmul(b,2)local d={a.num(0),a.num(1),a.num(1),a.num(0)}local e=nil;local function f(g)local h,i,j=unpack(g)local k=a.square(h)local l=a.square(i)local m=a.square(j)local n=a.add(m,m)local o=a.add(k,l)local p=a.add(h,i)local q=a.square(p)local r=a.carry(a.sub(q,o))local s=a.sub(l,k)local t=a.carry(a.sub(n,s))local u=a.mul(r,t)local v=a.mul(s,o)local w=a.mul(t,s)local x=a.mul(r,o)return{u,v,w,x}end;local function y(g,z)local h,i,j,A=unpack(g)local B,C,D,E=unpack(z)local k=a.sub(i,h)local l=a.mul(k,C)local m=a.add(i,h)local n=a.mul(m,B)local o=a.mul(A,E)local p=a.mul(j,D)local q=a.sub(n,l)local r=a.sub(p,o)local s=a.add(p,o)local t=a.add(n,l)local u=a.mul(q,r)local v=a.mul(s,t)local w=a.mul(r,s)local x=a.mul(q,t)return{u,v,w,x}end;local function F(g,z)local h,i,j,A=unpack(g)local B,C,D,E=unpack(z)local k=a.sub(i,h)local l=a.mul(k,B)local m=a.add(i,h)local n=a.mul(m,C)local o=a.mul(A,E)local p=a.mul(j,D)local q=a.sub(n,l)local r=a.add(p,o)local s=a.sub(p,o)local t=a.add(n,l)local u=a.mul(q,r)local v=a.mul(s,t)local w=a.mul(r,s)local x=a.mul(q,t)return{u,v,w,x}end;local function G(g)local h,i,j,A=unpack(g)local H=a.add(i,h)local I=a.sub(i,h)local J=a.add(j,j)local K=a.mul(A,c)return{H,I,J,K}end;local function L(g)local h,i,j=unpack(g)local M=a.invert(j)local u=a.mul(h,M)local v=a.mul(i,M)local w=a.num(1)local x=a.mul(u,v)return{u,v,w,x}end;local function N(g)g=L(g)local h,i=unpack(g)local O=a.encode(i)local P=a.canonicalize(h)[1]%2;return O:sub(1,-2)..string.char(O:byte(-1)+P*128)end;local function Q(R)local v=a.decode(R)local k=a.square(v)local l=a.sub(k,a.num(1))local m=a.mul(k,b)local n=a.add(m,a.num(1))local u=a.sqrtDiv(l,n)if not u then return nil end;local P=a.canonicalize(u)[1]%2;if P~=bit32.extract(R:byte(-1),7)then u=a.carry(a.neg(u))end;local w=a.num(1)local x=a.mul(u,v)return{u,v,w,x}end;e=Q(\"Xfffffffffffffffffffffffffffffff\")local function S(T,U)local V=2^U;local W=V/2;local X={}local Y=0;local Z=1;for s=1,#T do Y=Y+T[s]*Z;Z=Z*2;while s==#T and Y>0 or Z>V do local _=Y%V;if _>=W then _=_-V end;Y=(Y-_)/V;Z=Z/V;X[#X+1]=_ end end;return X end;local function a0(a1,U)local X={}for s=1,math.ceil(256/U)do local a2={G(a1)}for t=2,2^U/2 do a1=y(a1,a2[1])a2[t]=G(a1)end;X[s]=a2;a1=f(a1)end;return X end;local a3=5;local a4=a0(e,a3)local function a5(T,U)local V=2^U;local W=V/2;local X={}local Y=0;local Z=1;for s=1,#T do Y=Y+T[s]*Z;Z=Z*2;while s==#T and Y>0 or Z>V do if Y%2==0 then Y=Y/2;Z=Z/2;X[#X+1]=0 else local _=Y%V;if _>=W then _=_-V end;Y=Y-_;X[#X+1]=_ end end end;while X[#X]==0 do X[#X]=nil end;return X end;local function a6(a1,U)local a7=f(a1)local X={G(a1)}for s=3,2^U,2 do X[s]=G(y(a7,X[s-2]))end;return X end;local function a8(T)local a9=S(T,a3)local aa=d;for s=1,#a9 do local l=a9[s]if l>0 then aa=y(aa,a4[s][l])elseif l<0 then aa=F(aa,a4[s][-l])end end;return aa end;local function Z(a1,T)local ab=a5(T,5)local ac=a6(a1,5)local aa=d;for s=#ab,1,-1 do local l=ab[s]if l==0 then aa=f(aa)elseif l>0 then aa=y(aa,ac[l])else aa=F(aa,ac[-l])end end;return aa end;return{double=f,add=y,sub=F,niels=G,scale=L,encode=N,decode=Q,mulG=a8,mul=Z}\n\ninternal_fp.lua/1686758144  0     0     775     6803      `\nlocal a=require\"internal_packing\"local unpack=unpack or table.unpack;local b,c=a.compileUnpack(\"<I3I3I2I3I3I2I3I3I2I3I3I2\")local d={0958640*2^0,0826664*2^22,1613251*2^43,1041528*2^64,0013673*2^85,0387171*2^107,1824679*2^128,0313839*2^149,0709440*2^170,0122635*2^192,0262782*2^213,0712905*2^234}local function e(f)return{f,0,0,0,0,0,0,0,0,0,0,0}end;local function g(h)local i,j,k,l,m,n,o,p,q,r,s,t=unpack(h)return{-i,-j,-k,-l,-m,-n,-o,-p,-q,-r,-s,-t}end;local function u(h,v)local i,j,k,l,m,n,o,p,q,r,s,t=unpack(h)local w,x,y,z,A,B,C,D,E,F,G,H=unpack(v)return{i+w,j+x,k+y,l+z,m+A,n+B,o+C,p+D,q+E,r+F,s+G,t+H}end;local function I(h,v)local i,j,k,l,m,n,o,p,q,r,s,t=unpack(h)local w,x,y,z,A,B,C,D,E,F,G,H=unpack(v)return{i-w,j-x,k-y,l-z,m-A,n-B,o-C,p-D,q-E,r-F,s-G,t-H}end;local function J(h)local i,j,k,l,m,n,o,p,q,r,s,t=unpack(h)local K,L,M,N,O,P,Q,R,S,T,U,V;V=t+3*2^306-3*2^306;i=i+19/2^255*V;K=i+3*2^73-3*2^73;j=j+K;L=j+3*2^94-3*2^94;k=k+L;M=k+3*2^115-3*2^115;l=l+M;N=l+3*2^136-3*2^136;m=m+N;O=m+3*2^158-3*2^158;n=n+O;P=n+3*2^179-3*2^179;o=o+P;Q=o+3*2^200-3*2^200;p=p+Q;R=p+3*2^221-3*2^221;q=q+R;S=q+3*2^243-3*2^243;r=r+S;T=r+3*2^264-3*2^264;s=s+T;U=s+3*2^285-3*2^285;t=t-V+U;V=t+3*2^306-3*2^306;return{i-K+19/2^255*V,j-L,k-M,l-N,m-O,n-P,o-Q,p-R,q-S,r-T,s-U,t-V}end;local function W(h)local i,j,k,l,m,n,o,p,q,r,s,t=unpack(h)local K,L,M,N,O,P,Q,R,S,T,U,V;K=i%2^22;j=i-K+j;L=j%2^43;k=j-L+k;M=k%2^64;l=k-M+l;N=l%2^85;m=l-N+m;O=m%2^107;n=m-O+n;P=n%2^128;o=n-P+o;Q=o%2^149;p=o-Q+p;R=p%2^170;q=p-R+q;S=q%2^192;r=q-S+r;T=r%2^213;s=r-T+s;U=s%2^234;t=s-U+t;V=t%2^255;K=K+19/2^255*(t-V)if V/2^234==2^21-1 and U/2^213==2^21-1 and T/2^192==2^21-1 and S/2^170==2^22-1 and R/2^149==2^21-1 and Q/2^128==2^21-1 and P/2^107==2^21-1 and O/2^85==2^22-1 and N/2^64==2^21-1 and M/2^43==2^21-1 and L/2^22==2^21-1 and K>=2^22-19 then return{19-2^22+K,0,0,0,0,0,0,0,0,0,0,0}else return{K,L,M,N,O,P,Q,R,S,T,U,V}end end;local function X(h,v)local Y=W(I(h,v))for Z=1,12 do if Y[Z]~=0 then return false end end;return true end;local function _(h,v)local i,j,k,l,m,n,o,p,q,r,s,t=unpack(h)local w,x,y,z,A,B,C,D,E,F,G,H=unpack(v)local K,L,M,N,O,P,Q,R,S,T,U,V;K=t*x+s*y+r*z+q*A+p*B+o*C+n*D+m*E+l*F+k*G+j*H;L=t*y+s*z+r*A+q*B+p*C+o*D+n*E+m*F+l*G+k*H;M=t*z+s*A+r*B+q*C+p*D+o*E+n*F+m*G+l*H;N=t*A+s*B+r*C+q*D+p*E+o*F+n*G+m*H;O=t*B+s*C+r*D+q*E+p*F+o*G+n*H;P=t*C+s*D+r*E+q*F+p*G+o*H;Q=t*D+s*E+r*F+q*G+p*H;R=t*E+s*F+r*G+q*H;S=t*F+s*G+r*H;T=t*G+s*H;U=t*H;K=K*19/2^255+i*w;L=L*19/2^255+j*w+i*x;M=M*19/2^255+k*w+j*x+i*y;N=N*19/2^255+l*w+k*x+j*y+i*z;O=O*19/2^255+m*w+l*x+k*y+j*z+i*A;P=P*19/2^255+n*w+m*x+l*y+k*z+j*A+i*B;Q=Q*19/2^255+o*w+n*x+m*y+l*z+k*A+j*B+i*C;R=R*19/2^255+p*w+o*x+n*y+m*z+l*A+k*B+j*C+i*D;S=S*19/2^255+q*w+p*x+o*y+n*z+m*A+l*B+k*C+j*D+i*E;T=T*19/2^255+r*w+q*x+p*y+o*z+n*A+m*B+l*C+k*D+j*E+i*F;U=U*19/2^255+s*w+r*x+q*y+p*z+o*A+n*B+m*C+l*D+k*E+j*F+i*G;V=t*w+s*x+r*y+q*z+p*A+o*B+n*C+m*D+l*E+k*F+j*G+i*H;s=U+3*2^285-3*2^285;V=V+s;t=V+3*2^306-3*2^306;K=K+19/2^255*t;i=K+3*2^73-3*2^73;L=L+i;j=L+3*2^94-3*2^94;M=M+j;k=M+3*2^115-3*2^115;N=N+k;l=N+3*2^136-3*2^136;O=O+l;m=O+3*2^158-3*2^158;P=P+m;n=P+3*2^179-3*2^179;Q=Q+n;o=Q+3*2^200-3*2^200;R=R+o;p=R+3*2^221-3*2^221;S=S+p;q=S+3*2^243-3*2^243;T=T+q;r=T+3*2^264-3*2^264;U=U-s+r;s=U+3*2^285-3*2^285;V=V-t+s;t=V+3*2^306-3*2^306;return{K-i+19/2^255*t,L-j,M-k,N-l,O-m,P-n,Q-o,R-p,S-q,T-r,U-s,V-t}end;local function a0(h)local i,j,k,l,m,n,o,p,q,r,s,t=unpack(h)local a1,a2,a3,a4,a5,a6,a7,a8,a9,aa,ab;local K,L,M,N,O,P,Q,R,S,T,U,V;a1=i+i;a2=j+j;a3=k+k;a4=l+l;a5=m+m;a6=n+n;a7=o+o;a8=p+p;a9=q+q;aa=r+r;ab=s+s;K=t*a2+s*a3+r*a4+q*a5+p*a6+o*o;L=t*a3+s*a4+r*a5+q*a6+p*a7;M=t*a4+s*a5+r*a6+q*a7+p*p;N=t*a5+s*a6+r*a7+q*a8;O=t*a6+s*a7+r*a8+q*q;P=t*a7+s*a8+r*a9;Q=t*a8+s*a9+r*r;R=t*a9+s*aa;S=t*aa+s*s;T=t*ab;U=t*t;K=K*19/2^255+i*i;L=L*19/2^255+j*a1;M=M*19/2^255+k*a1+j*j;N=N*19/2^255+l*a1+k*a2;O=O*19/2^255+m*a1+l*a2+k*k;P=P*19/2^255+n*a1+m*a2+l*a3;Q=Q*19/2^255+o*a1+n*a2+m*a3+l*l;R=R*19/2^255+p*a1+o*a2+n*a3+m*a4;S=S*19/2^255+q*a1+p*a2+o*a3+n*a4+m*m;T=T*19/2^255+r*a1+q*a2+p*a3+o*a4+n*a5;U=U*19/2^255+s*a1+r*a2+q*a3+p*a4+o*a5+n*n;V=t*a1+s*a2+r*a3+q*a4+p*a5+o*a6;s=U+3*2^285-3*2^285;V=V+s;t=V+3*2^306-3*2^306;K=K+19/2^255*t;i=K+3*2^73-3*2^73;L=L+i;j=L+3*2^94-3*2^94;M=M+j;k=M+3*2^115-3*2^115;N=N+k;l=N+3*2^136-3*2^136;O=O+l;m=O+3*2^158-3*2^158;P=P+m;n=P+3*2^179-3*2^179;Q=Q+n;o=Q+3*2^200-3*2^200;R=R+o;p=R+3*2^221-3*2^221;S=S+p;q=S+3*2^243-3*2^243;T=T+q;r=T+3*2^264-3*2^264;U=U-s+r;s=U+3*2^285-3*2^285;V=V-t+s;t=V+3*2^306-3*2^306;return{K-i+19/2^255*t,L-j,M-k,N-l,O-m,P-n,Q-o,R-p,S-q,T-r,U-s,V-t}end;local function ac(h,ad)local i,j,k,l,m,n,o,p,q,r,s,t=unpack(h)local K,L,M,N,O,P,Q,R,S,T,U,V;i=i*ad;j=j*ad;k=k*ad;l=l*ad;m=m*ad;n=n*ad;o=o*ad;p=p*ad;q=q*ad;r=r*ad;s=s*ad;t=t*ad;V=t+3*2^306-3*2^306;i=i+19/2^255*V;K=i+3*2^73-3*2^73;j=j+K;L=j+3*2^94-3*2^94;k=k+L;M=k+3*2^115-3*2^115;l=l+M;N=l+3*2^136-3*2^136;m=m+N;O=m+3*2^158-3*2^158;n=n+O;P=n+3*2^179-3*2^179;o=o+P;Q=o+3*2^200-3*2^200;p=p+Q;R=p+3*2^221-3*2^221;q=q+R;S=q+3*2^243-3*2^243;r=r+S;T=r+3*2^264-3*2^264;s=s+T;U=s+3*2^285-3*2^285;t=t-V+U;V=t+3*2^306-3*2^306;return{i-K+19/2^255*V,j-L,k-M,l-N,m-O,n-P,o-Q,p-R,q-S,r-T,s-U,t-V}end;local function ae(h,f)for af=1,f do h=a0(h)end;return h end;local function ag(h)local ah=a0(h)local ai=_(h,ae(ah,2))local t=_(ai,ah)local aj=_(a0(t),ai)local ak=_(ae(aj,5),aj)local al=_(ae(ak,10),ak)local am=_(ae(al,20),al)local an=_(ae(am,10),ak)local ao=_(ae(an,50),an)local ap=_(ae(ao,100),ao)local aq=_(ae(ap,50),an)return _(ae(aq,5),t)end;local function ar(as,at)as=J(as)local au=a0(at)local av=_(at,au)local aw=a0(av)local ax=_(at,aw)local ay=_(as,ax)local az=_(a0(ay),ay)local aA=_(ae(az,2),az)local aB=_(ae(aA,4),aA)local aC=_(ae(aB,8),aB)local aD=_(ae(aC,2),az)local aE=_(ae(aC,16),aC)local an=_(ae(aE,18),aD)local ao=_(ae(an,50),an)local ap=_(ae(ao,100),ao)local aq=_(ae(ap,50),an)local aF=_(ae(aq,2),ay)local aG=_(as,av)local v=_(aG,aF)local aH=a0(v)local aI=_(at,aH)if not X(aI,as)then v=_(v,d)aH=a0(v)aI=_(at,aH)end;if X(aI,as)then return v else return nil end end;local function aJ(h)h=W(h)local i,j,k,l,m,n,o,p,q,r,s,t=unpack(h)local aK={}local aL=i;local function aM(f)for af=1,f do local aN=aL%256;aK[#aK+1]=aN;aL=(aL-aN)/256 end end;aM(2)aL=aL+j/2^16;aM(3)aL=aL+k/2^40;aM(3)aL=aL+l/2^64;aM(2)aL=aL+m/2^80;aM(3)aL=aL+n/2^104;aM(3)aL=aL+o/2^128;aM(2)aL=aL+p/2^144;aM(3)aL=aL+q/2^168;aM(3)aL=aL+r/2^192;aM(2)aL=aL+s/2^208;aM(3)aL=aL+t/2^232;aM(3)return string.char(unpack(aK))end;local function aO(v)local aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_=b(c,v,1)a_=a_%2^15;return J{aP,aQ*2^24,aR*2^48,aS*2^64,aT*2^88,aU*2^112,aV*2^128,aW*2^152,aX*2^176,aY*2^192,aZ*2^216,a_*2^240}end;local function b0(h)local Y=W(h)local K,L,M,N,O,P,Q,R,S,T,U,V=unpack(Y)return K+L+M+N+O+P+Q+R+S+T+U+V==0 end;return{num=e,neg=g,add=u,sub=I,kmul=ac,mul=_,canonicalize=W,square=a0,carry=J,invert=ag,sqrtDiv=ar,encode=aJ,decode=aO,eqz=b0}\n\ninternal_fq.lua/1686758144  0     0     775     3077      `\nlocal a=require\"internal_mp\"local b=require\"internal_util\"local c=require\"internal_packing\"local unpack=unpack or table.unpack;local d,e=c.compilePack(\"<I3I3I3I3I3I3I3I3I3I3I2\")local f=c.compileUnpack(e)local g,h=c.compileUnpack(\"<I3I3I3I3I3I3I3I3I3I3I3\")local i,j=c.compileUnpack(\"<I3I3I3I3I3I3I3I3I3I3I1\")local k={16110573,06494812,14047250,10680220,14612958,00000020,00000000,00000000,00000000,00000000,00004096}local l={05537307,01942290,16765621,16628356,10618610,07072433,03735459,01369940,15276086,13038191,13409718}local m={11711996,01747860,08326961,03814718,01859974,13327461,16105061,07590423,04050668,08138906,00000283}local n={5110253,3039345,2503500,11779568,15416472,16766550,16777215,16777215,16777215,16777215,4095}local o=a.num(0)local function p(q)local r=a.sub(q,k)if a.approx(r)<0 then return a.carry(q)end;return a.carry(r)end;local function s(q,t)return p(a.add(q,t))end;local function u(q)return p(a.sub(k,q))end;local function v(q,t)return s(q,u(t))end;local function w(q,t)local x,y=a.mul(q,t)local z,A=a.mul(a.lmul(x,l),k)local B,C=a.dwadd(x,y,z,A)return p(C)end;local function D(q)return w(q,m)end;local function E(q)local z,A=a.mul(a.lmul(q,l),k)local B,C=a.dwadd(q,o,z,A)return p(C)end;local function F(q)return d(e,unpack(E(q)))end;local function G(H)local I={f(e,H,1)}I[12]=nil;return D(I)end;local function J(H)local K={g(h,H,1)}K[12]=nil;local L={i(j,H,34)}L[12]=nil;return s(D(K),D(D(L)))end;local function M(H)local N={f(e,H,1)}N[12]=nil;N[1]=bit32.band(N[1],0xfffff8)N[11]=bit32.band(N[11],0x7fff)N[11]=bit32.bor(N[11],0x4000)return D(N)end;local function O(q)return w(q,n)end;local function P(q)local Q=b.rebaseLE(E(q),2^24,2)for R=254,289 do Q[R]=nil end;return Q end;local function S(q,t)local T=E(q)local U=E(t)local V=a.sub(T,U)local W=a.mod2(T)local X=a.mod2(U)local Y=a.mod3(T)local Z=a.mod3(U)local _=a.approx(U)local a0=a.approx(V)local a1={[0]=0,2,1}local a2={}while a0~=0 do if a0<0 then a2[#a2+1]=0;T,U=U,T;W,X=X,W;Y,Z=Z,Y;_=a.approx(U)V=a.sub(T,U)a0=-a0 elseif 4*a0<_ and Y==a1[Z]then a2[#a2+1]=1;T,U=a.third(a.add(T,V)),a.third(a.sub(U,V))W,X=X,W;Y,Z=a.mod3(T),a.mod3(U)_=a.approx(U)elseif 4*a0<_ and W==X and Y==Z then a2[#a2+1]=2;T=a.half(V)W=a.mod2(T)Y=a1[(Y-Z)%3]V=a.sub(T,U)a0=a.approx(V)elseif a0<3*_ then a2[#a2+1]=3;T=a.carryWeak(V)W=(W-X)%2;Y=(Y-Z)%3;V=a.sub(T,U)a0=a.approx(V)elseif W==X then a2[#a2+1]=2;T=a.half(V)W=a.mod2(T)Y=a1[(Y-Z)%3]V=a.sub(T,U)a0=a.approx(V)elseif W==0 then a2[#a2+1]=5;T=a.half(T)W=a.mod2(T)Y=a1[Y]V=a.sub(T,U)a0=a.approx(V)elseif Y==0 then a2[#a2+1]=6;T=a.carryWeak(a.sub(a.third(T),U))W=(W-X)%2;Y=a.mod3(T)V=a.sub(T,U)a0=a.approx(V)elseif Y==a1[Z]then a2[#a2+1]=7;T=a.third(a.sub(V,U))Y=a.mod3(T)V=a.sub(T,U)a0=a.approx(V)elseif Y==Z then a2[#a2+1]=8;T=a.third(V)W=(W-X)%2;Y=a.mod3(T)V=a.sub(T,U)a0=a.approx(V)else a2[#a2+1]=9;U=a.half(U)X=a.mod2(U)Z=a1[Z]_=a.approx(U)V=a.sub(T,U)a0=a.approx(V)end end;local a3=b.rebaseLE(T,2^24,2)while a3[#a3]==0 do a3[#a3]=nil end;return{a3,a2}end;return{add=s,sub=v,mul=w,encode=F,decode=G,decodeWide=J,decodeClamped=M,eighth=O,bits=P,makeRuleset=S}\n\ninternal_mp.lua/1686758144  0     0     775     3120      `\nlocal unpack=unpack or table.unpack;local function a(b)local c,d,e,f,g,h,i,j,k,l,m=unpack(b)local n=c+3*2^75-3*2^75;d=d+n*2^-24;local o=d+3*2^75-3*2^75;e=e+o*2^-24;local p=e+3*2^75-3*2^75;f=f+p*2^-24;local q=f+3*2^75-3*2^75;g=g+q*2^-24;local r=g+3*2^75-3*2^75;h=h+r*2^-24;local s=h+3*2^75-3*2^75;i=i+s*2^-24;local t=i+3*2^75-3*2^75;j=j+t*2^-24;local u=j+3*2^75-3*2^75;k=k+u*2^-24;local v=k+3*2^75-3*2^75;l=l+v*2^-24;local w=l+3*2^75-3*2^75;m=m+w*2^-24;local x=m+3*2^75-3*2^75;return{c-n,d-o,e-p,f-q,g-r,h-s,i-t,j-u,k-v,l-w,m-x},x*2^-24 end;local function y(b)local c,d,e,f,g,h,i,j,k,l,m=unpack(b)local z=c%2^24;d=d+(c-z)*2^-24;local A=d%2^24;e=e+(d-A)*2^-24;local B=e%2^24;f=f+(e-B)*2^-24;local C=f%2^24;g=g+(f-C)*2^-24;local D=g%2^24;h=h+(g-D)*2^-24;local E=h%2^24;i=i+(h-E)*2^-24;local F=i%2^24;j=j+(i-F)*2^-24;local G=j%2^24;k=k+(j-G)*2^-24;local H=k%2^24;l=l+(k-H)*2^-24;local I=l%2^24;m=m+(l-I)*2^-24;local J=m%2^24;local x=(m-J)*2^-24;return{z,A,B,C,D,E,F,G,H,I,J},x end;local function K(b,L)local c,d,e,f,g,h,i,j,k,l,m=unpack(b)local M,N,O,P,Q,R,S,T,U,V,W=unpack(L)return{c+M,d+N,e+O,f+P,g+Q,h+R,i+S,j+T,k+U,l+V,m+W}end;local function X(b,L)local c,d,e,f,g,h,i,j,k,l,m=unpack(b)local M,N,O,P,Q,R,S,T,U,V,W=unpack(L)return{c-M,d-N,e-O,f-P,g-Q,h-R,i-S,j-T,k-U,l-V,m-W}end;local function Y(b,L)local c,d,e,f,g,h,i,j,k,l,m=unpack(b)local M,N,O,P,Q,R,S,T,U,V,W=unpack(L)return y{c*M,d*M+c*N,e*M+d*N+c*O,f*M+e*N+d*O+c*P,g*M+f*N+e*O+d*P+c*Q,h*M+g*N+f*O+e*P+d*Q+c*R,i*M+h*N+g*O+f*P+e*Q+d*R+c*S,j*M+i*N+h*O+g*P+f*Q+e*R+d*S+c*T,k*M+j*N+i*O+h*P+g*Q+f*R+e*S+d*T+c*U,l*M+k*N+j*O+i*P+h*Q+g*R+f*S+e*T+d*U+c*V,m*M+l*N+k*O+j*P+i*Q+h*R+g*S+f*T+e*U+d*V+c*W}end;local function Z(b,L)local _,a0=Y(b,L)local a1,d,e,f,g,h,i,j,k,l,m=unpack(b)local a1,N,O,P,Q,R,S,T,U,V,W=unpack(L)return _,y{a0+m*N+l*O+k*P+j*Q+i*R+h*S+g*T+f*U+e*V+d*W,m*O+l*P+k*Q+j*R+i*S+h*T+g*U+f*V+e*W,m*P+l*Q+k*R+j*S+i*T+h*U+g*V+f*W,m*Q+l*R+k*S+j*T+i*U+h*V+g*W,m*R+l*S+k*T+j*U+i*V+h*W,m*S+l*T+k*U+j*V+i*W,m*T+l*U+k*V+j*W,m*U+l*V+k*W,m*V+l*W,m*W,0}end;local function a2(a3,a4,a5,a6)local _,a7=y(K(a3,a5))local a8=K(a4,a6)a8[1]=a8[1]+a7;return _,y(a8)end;local function a9(b)local c,d,e,f,g,h,i,j,k,l,m=unpack(b)return a{c*0.5+d*2^23,e*2^23,f*2^23,g*2^23,h*2^23,i*2^23,j*2^23,k*2^23,l*2^23,m*2^23,0}end;local function aa(b)local c,d,e,f,g,h,i,j,k,l,m=unpack(b)local ab=c*0xaaaaaa;local ac=d*0xaaaaaa+ab;local ad=e*0xaaaaaa+ac;local ae=f*0xaaaaaa+ad;local af=g*0xaaaaaa+ae;local ag=h*0xaaaaaa+af;local ah=i*0xaaaaaa+ag;local ai=j*0xaaaaaa+ah;local aj=k*0xaaaaaa+ai;local ak=l*0xaaaaaa+aj;local al=m*0xaaaaaa+ak;return a{c+ab,d+ac,e+ad,f+ae,g+af,h+ag,i+ah,j+ai,k+aj,l+ak,m+al}end;local function am(b)return b[1]%2 end;local function an(b)local c,d,e,f,g,h,i,j,k,l,m=unpack(b)return(c+d+e+f+g+h+i+j+k+l+m)%3 end;local function ao(b)local c,d,e,f,g,h,i,j,k,l,m=unpack(b)return c+d*2^24+e*2^48+f*2^72+g*2^96+h*2^120+i*2^144+j*2^168+k*2^192+l*2^216+m*2^240 end;local function ap(b,L)return ao(X(b,L))end;local function aq(b)return{b,0,0,0,0,0,0,0,0,0,0}end;return{carry=y,carryWeak=a,add=K,sub=X,dwadd=a2,lmul=Y,mul=Z,half=a9,third=aa,mod2=am,mod3=an,approx=ao,cmp=ap,num=aq}\n/50             1686758144  0     0     775     1675      `\nlocal a=string.format;local function b(c,d)local e=\"local C=string.char return function(_,\"local f=0;for g=1,#c do e=e..a(\"n%d,\",g)f=f+c[g]end;e=e:sub(1,-2)..\")local \"for g=1,f do e=e..a(\"b%d,\",g)end;e=e:sub(1,-2)..\" \"local h=1;for g=1,#c do for i=1,c[g]-1 do e=e..a(\"b%d=n%d%%2^8 n%d=(n%d-b%d)*2^-8 \",h,g,g,g,h)h=h+1 end;h=h+1 end;e=e..\"return C(\"h=1;if not d then for g=1,#c do for i=1,c[g]-1 do e=e..a(\"b%d,\",h)h=h+1 end;e=e..a(\"n%d%%2^8,\",g)h=h+1 end else for g=1,#c do e=e..a(\"n%d%%2^8,\",g)h=h+c[g]-2;for i=1,c[g]-1 do e=e..a(\"b%d,\",h)h=h-1 end;h=h+c[g]+1 end end;e=e:sub(1,-2)..\")end\"return load(e)()end;local function j(c,d)local e=\"local B=string.byte return function(_,s,i)local \"local h=1;if not d then for g=1,#c do for i=1,c[g]do e=e..a(\"b%d,\",h)h=h+1 end end else for g=1,#c do h=h+c[g]-1;for i=1,c[g]do e=e..a(\"b%d,\",h)h=h-1 end;h=h+c[g]+1 end end;e=e:sub(1,-2)..a(\"=B(s,i,i+%d)return \",h-2)h=1;for g=1,#c do e=e..a(\"b%d\",h)h=h+1;for k=2,c[g]do e=e..a(\"+b%d*2^%d\",h,8*k-8)h=h+1 end;e=e..\",\"end;e=e..a(\"i+%d end\",h-1)return load(e)()end;if not string.pack or pcall(string.dump,string.pack)then local function l(a,m)local n=assert(a:match(\"^([><])I[I%d]+$\"),\"invalid format string\")local o={}for g in a:gmatch(\"I([%d]+)\")do local p=tonumber(g)or 4;assert(p>0 and p<=4,\"integral size out of limits\")o[#o+1]=p end;return m(o,n==\">\")end;local q={}local r={}local function s(a)if not q[a]then q[a]=l(a,b)end;return q[a],a end;local function t(a)if not r[a]then r[a]=l(a,j)end;return r[a],a end;return{compilePack=s,compileUnpack=t}else local function s(a)return string.pack,a end;local function t(a)return string.unpack,a end;return{compilePack=s,compileUnpack=t}end\n\n/71             1686758144  0     0     775     4043      `\nlocal a=require\"system.expect\".expect;local b=require\"internal_packing\"local c=bit32.lshift;local d=bit32.rshift;local e=bit32.bxor;local f=bit32.bnot;local g=bit32.band;local h,i=b.compilePack(\">I16\")local j,k=b.compilePack(\">I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4\")local l,m=b.compileUnpack(\">I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4I4\")local function n(o,p)local q=p%2^32;o=o+(p-q)/2^32;return o%2^32,q end;local r={0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0x0fc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x06ca6351,0xe003826f,0x14292967,0x0a0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x0654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x06f067aa,0x72176fba,0x0a637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817}local function s(t)a(1,t,\"string\")local u=#t*8;local v=-(#t+17)%128;t=t..\"\\x80\"..(\"\\0\"):rep(v)..h(i,u)local w,x=0x6a09e667,0xf3bcc908;local y,z=0xbb67ae85,0x84caa73b;local A,B=0x3c6ef372,0xfe94f82b;local C,D=0xa54ff53a,0x5f1d36f1;local E,F=0x510e527f,0xade682d1;local G,H=0x9b05688c,0x2b3e6c1f;local I,J=0x1f83d9ab,0xfb41bd6b;local K,L=0x5be0cd19,0x137e2179;for M=1,#t,128 do local N={l(m,t,M)}for O=33,160,2 do local P,Q=N[O-30],N[O-29]local R=d(P,1)+c(Q,31)local S=d(Q,1)+c(P,31)local T=d(P,8)+c(Q,24)local U=d(Q,8)+c(P,24)local V=d(P,7)local W=d(Q,7)+c(P,25)local X,Y=N[O-4],N[O-3]local Z=d(X,19)+c(Y,13)local _=d(Y,19)+c(X,13)local a0=d(X,29)+c(Y,3)local a1=d(Y,29)+c(X,3)local a2=d(X,6)local a3=d(Y,6)+c(X,26)local a4,q=N[O-32]+e(R,T,V)+N[O-14]+e(Z,a1,a2),N[O-31]+e(S,U,W)+N[O-13]+e(_,a0,a3)N[O],N[O+1]=n(a4,q)end;local o,p=w,x;local a5,a6=y,z;local a7,a8=A,B;local a9,aa=C,D;local ab,ac=E,F;local ad,ae=G,H;local af,ag=I,J;local ah,ai=K,L;for O=1,160,2 do local R=d(ab,14)+c(ac,18)local S=d(ac,14)+c(ab,18)local T=d(ab,18)+c(ac,14)local U=d(ac,18)+c(ab,14)local W=d(ab,9)+c(ac,23)local V=d(ac,9)+c(ab,23)local aj=e(R,T,V)local ak=e(S,U,W)local al=e(g(ab,ad),g(f(ab),af))local am=e(g(ac,ae),g(f(ac),ag))local an=ah+aj+al+r[O]+N[O]local ao=ai+ak+am+r[O+1]+N[O+1]local Z=d(o,28)+c(p,4)local _=d(p,28)+c(o,4)local a0=d(o,2)+c(p,30)local a1=d(p,2)+c(o,30)local a3=d(o,7)+c(p,25)local a2=d(p,7)+c(o,25)local ap=e(Z,a1,a2)local aq=e(_,a0,a3)local ar=e(g(o,a5),g(o,a7),g(a5,a7))local as=e(g(p,a6),g(p,a8),g(a6,a8))local at=ap+ar;local au=aq+as;ah=af;ai=ag;af=ad;ag=ae;ad=ab;ae=ac;ab,ac=n(a9+an,aa+ao)a9=a7;aa=a8;a7=a5;a8=a6;a5=o;a6=p;o,p=n(an+at,ao+au)end;w,x=n(w+o,x+p)y,z=n(y+a5,z+a6)A,B=n(A+a7,B+a8)C,D=n(C+a9,D+aa)E,F=n(E+ab,F+ac)G,H=n(G+ad,H+ae)I,J=n(I+af,J+ag)K,L=n(K+ah,L+ai)end;return j(k,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L)end;return{digest=s}\n\n/91             1686758144  0     0     775     532       `\nlocal function a(b,c,d)if not b then error(c,d+1)end;return b end;local function e(f,g,h)local i={}local j=1;local k=0;local l=1;for m=1,#f do k=k+f[m]*l;l=l*g;while l>=h do local n=k%h;k=(k-n)/h;l=l/h;i[j]=n;j=j+1 end end;if l>0 then i[j]=k end;return i end;local function o(p)local q={p:byte(1,32)}local i={}for m=1,32 do local r=q[m]for s=-7,0 do local t=r%2;i[8*m+s]=t;r=(r-t)/2 end end;i[1]=0;i[2]=0;i[3]=0;i[255]=1;i[256]=0;return i end;local function u(p)return{unpack(o(p),4)}end;return{lassert=a,rebaseLE=e,bits=o,bits8=u}\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=43764}},modified=1688258063667,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},bin={created=1688258076404,type="directory",contents={["sha512sum.lua"]={created=1688258013336,type="file",modified=1688258012943,data="return coroutine.yield(\"syscall\",\"exec\",\"/usr/bin/shasum\",\"-a\",\"512\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=74},["dpkg-query.lua"]={created=1688258068684,type="file",modified=1688258064897,data="local a=require\"system.filesystem\"local b=require\"dpkg.query\"local function c(d)return string.match(d,'^()[%s%z]*$')and''or string.match(d,'^[%s%z]*(.*[^%s%z])')end;local function e(f,g,h)return string.len(f)<g and string.sub(f,1,g)..string.rep(h or\" \",g-string.len(f))or string.sub(f,1,g)end;local function i()local j=io.open(a.combine(b.admindir,\"available\"),\"r\")if j==nil then error(\"Couldn't find status file\")end;local k={{}}local l=nil;local d=1;for m in j:lines()do if m==\"\"then d=d+1;k[d]={}l=nil else if string.sub(m,1,1)==\" \"and l~=nil then if l==\"Description\"then if type(k[d][l])==\"string\"then k[d][l]={Short=k[d][l],Long=\"\"}end;k[d][l].Long=k[d][l].Long..(string.sub(m,2)==\".\"and\"\\n\\n\"or string.sub(m,2))else k[d][l]=k[d][l]..(string.sub(m,2)==\".\"and\"\\n\\n\"or string.sub(m,2))end else l=string.sub(m,1,(string.find(m,\":\")or 0)-1)k[d][l]=c(string.sub(m,(string.find(m,\":\")or-1)+1))end end end;j:close()local n={}for o,p in pairs(k)do if p.Package then n[p.Package]=p end end;return n end;local q={}local r=nil;local s=\"${Package}\\t${Version}\\n\"local t=false;local u;for o,p in pairs({...})do if u then if u==0 then s=p elseif u==1 then b.admindir=p elseif u==2 then s=p end;u=nil elseif p==\"-l\"or p==\"--list\"then r=0 elseif p==\"-W\"or p==\"--show\"then r=1 elseif p==\"-s\"or p==\"--status\"then r=2 elseif p==\"-L\"or p==\"--listfiles\"then r=3 elseif p==\"--control-list\"then r=4 elseif p==\"--control-show\"then r=5 elseif p==\"-c\"or p==\"--control-path\"then r=6 elseif p==\"-S\"or p==\"--search\"then r=7 elseif p==\"-p\"or p==\"--print-avail\"then r=8 elseif p==\"-?\"or p==\"--help\"then print([[Usage: dpkg-query [<option> ...] <command>\nCommands:\n  -s|--status <package> ...        Display package status details.\n  -p|--print-avail <package> ...   Display available version details.\n  -L|--listfiles <package> ...     List files 'owned' by package(s).\n  -l|--list [<pattern> ...]        List packages concisely.\n  -W|--show [<pattern> ...]        Show information on package(s).\n  -S|--search <pattern> ...        Find package(s) owning file(s).\n      --control-list <package>     Print the package control file list.\n      --control-show <package> <file>\n                                   Show the package control file.\n  -c|--control-path <package> [<file>]\n                                   Print path for package control file.\n  -?, --help                       Show this help message.\n      --version                    Show the version.]])return 2 elseif p==\"--version\"then print(\"dpkg-query v1.0\\nPart of apt-lua for Phoenix\\nCopyright (c) 2019-2022 JackMacWindows.\")return 2 elseif string.find(p,\"--admindir=\")==1 then b.admindir=string.sub(p,12)elseif p==\"--admindir\"then u=1 elseif p==\"--load-avail\"then t=true elseif string.find(p,\"--showformat=\")==1 then s=string.sub(p,14)elseif p==\"--showformat\"then u=2 elseif p==\"-f\"then u=0 else table.insert(q,p)end end;s=string.gsub(string.gsub(s,\"\\\\n\",\"\\n\"),\"\\\\t\",\"\\t\")if r==0 then local v=nil;if q[1]~=nil then v=string.gsub(q[1],\"%*\",\".+\")end;local w=b.readDatabase()local function x(p)local y=\"\"if string.find(p.Status,\"^install \")then y=\"i\"elseif string.find(p.Status,\" hold\")then y=\"h\"elseif string.find(p.Status,\" deinstall\")then y=\"r\"elseif string.find(p.Status,\" purge\")then y=\"p\"else y=\"u\"end;if string.find(p.Status,\" not-installed\")then y=y..\"n\"elseif string.find(p.Status,\" config-files\")then y=y..\"c\"elseif string.find(p.Status,\" half-installed\")then y=y..\"H\"elseif string.find(p.Status,\" unpacked\")then y=y..\"U\"elseif string.find(p.Status,\" half-configured\")then y=y..\"F\"elseif string.find(p.Status,\" triggers-awaited\")then y=y..\"W\"elseif string.find(p.Status,\" triggers-pending\")then y=y..\"t\"elseif string.find(p.Status,\" installed\")then y=y..\"i\"else y=y..\"u\"end;if string.find(p.Status,\" reinst-required\")then y=y..\"R\"else y=y..\" \"end;local z=select(2,coroutine.yield(\"syscall\",\"termsize\"))-4;io.write(string.format(\"%3s %s %s %s\",y,e(p.Package,z/4),e(p.Version,z/4),e(p.Description.Short,z/2)))end;if v then for o,p in pairs(w)do if string.match(p.Package,v)then x(p)end end else for o,p in pairs(w)do if string.find(p.Status,\" config-files\")==nil and string.find(p.Status,\" not-installed\")==nil then x(p)end end end elseif r==1 then local v=nil;if q[1]~=nil then v=string.gsub(q[1],\"%*\",\".+\")end;local w=b.readDatabase()local function x(p)local y=\"\"if string.find(p.Status,\"^install \")then y=\"i\"elseif string.find(p.Status,\"hold\")then y=\"h\"elseif string.find(p.Status,\"deinstall\")then y=\"r\"elseif string.find(p.Status,\"purge\")then y=\"p\"else y=\"u\"end;if string.find(p.Status,\"not-installed\")then y=y..\"n\"elseif string.find(p.Status,\"config-files\")then y=y..\"c\"elseif string.find(p.Status,\"half-installed\")then y=y..\"H\"elseif string.find(p.Status,\"unpacked\")then y=y..\"U\"elseif string.find(p.Status,\"half-configured\")then y=y..\"F\"elseif string.find(p.Status,\"triggers-awaited\")then y=y..\"W\"elseif string.find(p.Status,\"triggers-pending\")then y=y..\"t\"elseif string.find(p.Status,\" installed\")then y=y..\"i\"else y=y..\"u\"end;if string.find(p.Status,\" reinst-required\")then y=y..\"R\"else y=y..\" \"end;local function A(B,C)return C~=\"\"and e(p[B],tonumber(string.sub(C,2)))or p[B]end;io.write(string.gsub(s,\"%${(.-)(;?%d*)}\",A))end;if v then for o,p in pairs(w)do if string.match(p.Package,v)then x(p)end end else for o,p in pairs(w)do if string.find(p.Status,\" config-files\")==nil and string.find(p.Status,\" not-installed\")==nil then x(p)end end end elseif r==2 then if#q<1 then error(\"Usage: dpkg-query [options...] --status <package-name...>\")end;local w=b.readDatabase()local function D(p)if type(p)==\"table\"then return p.Short..\"\\n\"..string.gsub(p.Long,\"\\n\\n\",\"\\n .\\n\")else return p end end;for E,F in pairs(q)do for o,p in pairs(w)do if o==F then for G,z in pairs(p)do print(G..\": \"..D(z))end;break end end;print(\"\")end elseif r==3 then if#q<1 then error(\"Usage: dpkg-query [options...] --listfiles <package-name...>\")end;local w=b.readDatabase()for E,F in pairs(q)do local H;if a.exists(a.combine(b.admindir,\"info/\"..F..\".list\"))then H=a.combine(b.admindir,\"info/\"..F..\".list\")else for o,p in pairs(w)do if o==F then if not a.exists(a.combine(b.admindir,\"info/\"..F..\"!\"..p.Architecture..\".list\"))then error(\"Could not find list of files for \"..F)end;H=a.combine(b.admindir,\"info/\"..F..\"!\"..p.Architecture..\".list\")break end end end;local j=a.open(H,\"r\")print(j.readAll())j.close()end elseif r==4 then if#q<1 then error(\"Usage: dpkg-query [options...] --control-list <package-name>\")end;local I={}for o,p in pairs(a.list(a.combine(b.admindir,\"info\")))do if string.match(p,\"^\"..string.gsub(q[1],\"%-\",\"%%-\")..\"%..+\")then table.insert(I,a.combine(b.admindir,\"info/\"..p))end;if o%1000==0 then os.queueEvent(\"nosleep\")os.pullEvent()end end;if#I==0 then local w=b.readDatabase()for o,p in pairs(w)do if o==q[1]then local J=\"^\"..string.gsub(q[1],\"%-\",\"%%-\")..\"!\"..p.Architecture..\"%.(.+)\"for G,z in pairs(a.list(a.combine(b.admindir,\"info\")))do if string.match(z,J)then table.insert(I,string.match(z,J))end;if G%1000==0 then os.queueEvent(\"nosleep\")os.pullEvent()end end;break end end end;for o,p in pairs(I)do if p~=\"list\"then print(p)end end elseif r==5 then if#q<2 then error(\"Usage: dpkg-query [options...] --control-show <package-name> <control-file>\")end;if a.exists(a.combine(b.admindir,\"info/\"..q[1]..\".\"..q[2]))then local j=a.open(a.combine(b.admindir,\"info/\"..q[1]..\".\"..q[2]),\"r\")print(j.readAll())j.close()else local w=b.readDatabase()for o,p in pairs(w)do if o==q[1]then if a.exists(a.combine(b.admindir,\"info/\"..q[1]..\"!\"..p.Architecture..\".\"..q[2]))then local j=a.open(a.combine(b.admindir,\"info/\"..q[1]..\"!\"..p.Architecture..\".\"..q[2]),\"r\")print(j.readAll())j.close()end;break end end end elseif r==6 then error(\"This command is deprecated upstream, therefore it will remain unimplemented here.\")elseif r==7 then if#q<1 then error(\"Usage: dpkg-query [options...] --search <pattern>\")end;local K=false;local L=false;local v=string.gsub(string.gsub(q[1],\"([^\\\\])%*\",\"%1%.%*\"),\"([^\\\\])%?\",\"%1%.%-\")if string.find(q[1],\"[%*%[%?/]\")~=1 then v=\".*\"..v..\".*\"elseif string.find(q[1],\"[%*%[%?/]\")==nil then K=true else v=\"^\"..v..\"$\"end;local I=a.find(a.combine(b.admindir,\"info/*.list\"))print(\"Searching...\")for o,p in pairs(I)do local j=assert(io.open(p,\"r\"))for m in j:lines()do if string.find(m,v,1,K)then print(string.sub(a.basename(p),1,string.find(a.basename(p),\"[!.]\")-1)..\": \"..m)L=true end end;j:close()os.queueEvent(\"nosleep\")os.pullEvent()end;if not L then error(\"no pattern matching \"..q[1])end elseif r==8 then if#q<1 then error(\"Usage: dpkg-query [options...] --print-avail <package-name...>\")end;local w=i()local function D(p)if type(p)==\"table\"then return p.Short..\"\\n\"..string.gsub(p.Long,\"\\n\\n\",\"\\n .\\n\")else return p end end;for E,F in pairs(q)do for o,p in pairs(w)do if o==F then for G,z in pairs(p)do print(G..\": \"..D(z))end;break end end;print(\"\")end else error(\"Usage: dpkg-query [options...] <command>\")end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=8892},["userdel.lua"]={created=1688258011686,type="file",modified=1688258011029,data="local a=require\"usermgr\"local b=require\"system.filesystem\"local c=require\"system.process\"local d=require\"system.util\"local e=[[\nUsage: userdel [options] LOGIN\nOptions:\n  -f, --force   force some actions that would fail otherwise\n                e.g. removal of user still logged in\n                or files, even if not owned by the user\n  -h, --help    display this help message and exit\n  -r, --remove  remove home directory\n]]local f=assert(d.argparse({f=false,force=\"@f\",h=false,help=\"@h\",r=false,remove=\"@r\"},...))if f.h then print(e)return end;if not f[1]then io.stdout:write(e..\"\\n\")return false end;if c.getuser()~=\"root\"then error(\"userdel: Permission denied.\")end;local g=a.getUserInfo(f[1])if not g then error(\"userdel: User does not exist.\")end;if not f.f then local h=c.getplist()for i,j in ipairs(h)do if c.getpinfo(j).user==f[1]then error(\"userdel: User is currently logged in.\")end end end;assert(a.removeUser(f[1]),\"userdel: Could not delete user.\")if f.r and g.home then b.remove(g.home)end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1009},["dpkg-trigger.lua"]={created=1688258068760,type="file",modified=1688258065017,data="local a=require\"dpkg.query\"local b=require\"dpkg.trigger\"local c={}local d=_ENV.DPKG_MAINTSCRIPT_PACKAGE;local e=true;local f=true;local g;for h,i in ipairs({...})do if g then if g==0 then b.admindir=i;a.admindir=i elseif g==1 then d=i end;g=nil elseif i==\"--check-supported\"then return 0 elseif i==\"-?\"or i==\"--help\"then print([[Usage: dpkg-trigger [<options> ...] <trigger-name>\n       dpkg-trigger [<options> ...] <command>\n\nCommands:\n  --check-supported                Check if the running dpkg supports triggers.\n\n  -?, --help                       Show this help message.\n      --version                    Show the version.\n\nOptions:\n  --admindir=<directory>           Use <directory> instead of /var/lib/dpkg.\n  --by-package=<package>           Override trigger awaiter (normally set\n                                   by dpkg).\n  --await                          Package needs to await the processing.\n  --no-await                       No package needs to await the processing.\n  --no-act                         Just test - don't actually change anything.\n ]])return 0 elseif i==\"--version\"then print([[Debian dpkg-trigger package trigger utility version 1.19.0.5 (Phoenix).]])return 0 elseif i==\"--admindir\"then g=0 elseif string.match(i,\"^--admindir=\")then b.admindir=string.sub(i,12)a.admindir=string.sub(i,12)elseif i==\"--by-package\"then g=1 elseif string.match(i,\"^--by-package=\")then d=string.sub(i,14)elseif i==\"--await\"then e=true elseif i==\"--no-await\"then e=false elseif i==\"--no-act\"then f=false else table.insert(c,i)end end;if c[1]==nil then error([[error: takes one argument, the trigger name\n\nType dpkg-trigger --help for help about this utility.]])end;if d==nil then error([[error: must be called from a maintainer script (or with a --by-package option)\n\nType dpkg-trigger --help for help about this utility.]])end;b.log=function(j)print(\"\\x1b[31m\"..j..\"\\x1b[0m\")end;if f then b.activate(c[1],d,e)end;return 0\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1936},["dpkg.lua"]={created=1688258068857,type="file",modified=1688258065133,data="local a=require\"system.filesystem\"local b=require\"system.process\"local c=require\"dpkg\"local d=require\"dpkg.divert\"local e=require\"dpkg.query\"local f=require\"dpkg.trigger\"local function g(h)return a.combine(c.admindir,h)end;local function i(j,k)local l=a.open(j,\"w\")l.write(k)l.close()end;local function m(n,o)return({string.match(n.Status,\"(%S+) (%S+) (%S+)\")})[o]end;local function p(n,o,q)local r={string.match(n.Status,\"(%S+) (%S+) (%S+)\")}r[o]=q;n.Status=table.concat(r,\" \")return n.Status end;local function s(t)local b=io.popen(\"/bin/less\",\"w\")b:write(t)b:close()end;local u=[[Usage: dpkg [<option> ...] <command>\n\nCommands:\n    -i|--install       <.deb file name> ... | -R|--recursive <directory> ...\n    --unpack           <.deb file name> ... | -R|--recursive <directory> ...\n    -A|--record-avail  <.deb file name> ... | -R|--recursive <directory> ...\n    --configure        <package> ... | -a|--pending\n    --triggers-only    <package> ... | -a|--pending\n    -r|--remove        <package> ... | -a|--pending\n    -P|--purge         <package> ... | -a|--pending\n    -V|--verify <package> ...        Verify the integrity of package(s).\n    --get-selections [<pattern> ...] Get list of selections to stdout.\n    --set-selections                 Set package selections from stdin.\n    --clear-selections               Deselect every non-essential package.\n    --update-avail [<Packages-file>] Replace available packages info.\n    --merge-avail [<Packages-file>]  Merge with info from file.\n    --clear-avail                    Erase existing available info.\n    --forget-old-unavail             Forget uninstalled unavailable pkgs.\n    -s|--status <package> ...        Display package status details.\n    -p|--print-avail <package> ...   Display available version details.\n    -L|--listfiles <package> ...     List files 'owned' by package(s).\n    -l|--list [<pattern> ...]        List packages concisely.\n    -S|--search <pattern> ...        Find package(s) owning file(s).\n    -C|--audit [<package> ...]       Check for broken package(s).\n    --yet-to-unpack                  Print packages selected for installation.\n    --predep-package                 Print pre-dependencies to unpack.\n    --add-architecture <arch>        Add <arch> to the list of architectures.\n    --remove-architecture <arch>     Remove <arch> from the list of architectures.\n    --print-architecture             Print dpkg architecture.\n    --print-foreign-architectures    Print allowed foreign architectures.\n    --assert-<feature>               Assert support for the specified feature.\n    --validate-<thing> <string>      Validate a <thing>'s <string>.\n    --compare-versions <a> <op> <b>  Compare version numbers - see below.\n    --force-help                     Show help on forcing.\n    -Dh|--debug=help                 Show help on debugging.\n\n    -?, --help                       Show this help message.\n        --version                    Show the version.\n\nAssertable features: support-predepends, working-epoch, long-filenames,\n    multi-conrep, multi-arch, versioned-provides.\n\nValidatable things: pkgname, archname, trigname, version.\n\nUse dpkg with -b, --build, -c, --contents, -e, --control, -I, --info,\n    -f, --field, -x, --extract, -X, --vextract, --ctrl-tarfile, --fsys-tarfile\non archives (type dpkg-deb --help).\n\nOptions:\n    --admindir=<directory>     Use <directory> instead of /var/lib/dpkg.\n    --root=<directory>         Install on a different root directory.\n    --instdir=<directory>      Change installation dir without changing admin dir.\n    --path-exclude=<pattern>   Do not install paths which match a shell pattern.\n    --path-include=<pattern>   Re-include a pattern after a previous exclusion.\n    -O|--selected-only         Skip packages not selected for install/upgrade.\n    -E|--skip-same-version     Skip packages whose same version is installed.\n    -G|--refuse-downgrade      Skip packages with earlier version than installed.\n    -B|--auto-deconfigure      Install even if it would break some other package.\n    --[no-]triggers            Skip or force consequential trigger processing.\n    --verify-format=<format>   Verify output format (supported: 'rpm').\n    --no-debsig                Do not try to verify package signatures.\n    --no-act|--dry-run|--simulate\n                               Just say what we would do - don't do it.\n    -D|--debug=<octal>         Enable debugging (see -Dhelp or --debug=help).\n    --status-fd <n>            Send status change updates to file descriptor <n>.\n    --status-logger=<command>  Send status change updates to <command>'s stdin.\n    --log=<filename>           Log status changes and actions to <filename>.\n    --ignore-depends=<package>,...\n                               Ignore dependencies involving <package>.\n    --force-...                Override problems (see --force-help).\n    --no-force-...|--refuse-...\n                               Stop when problems encountered.\n    --abort-after <n>          Abort after encountering <n> errors.\n\nComparison operators for --compare-versions are:\n    lt le eq ne ge gt       (treat empty version as earlier than any version);\n    lt-nl le-nl ge-nl gt-nl (treat empty version as later than any version);\n    < << <= = >= >> >       (only for compatibility with control file syntax).\n\nUse 'apt' or 'aptitude' for user-friendly package management.]]local v={}local w=nil;local x=false;local y=false;local z=nil;local A,B;local C,D;for E,F in ipairs({...})do if w~=nil then table.insert(v,F)elseif string.match(F,\"^%-[^-]\")then local G=string.sub(F,2,2)if G=='i'then w=0 elseif G=='r'then w=4 elseif G=='P'then w=5 elseif G=='V'then w=6 elseif G=='C'then w=7 elseif G=='?'then if c.options.pager then s(u)else print(u)end;return elseif G=='D'then elseif G=='b'or G=='c'or G=='e'or G=='x'or G=='X'or G=='f'or G=='I'then w=13 elseif G=='l'or G=='s'or G=='L'or G=='S'or G=='p'then w=14 elseif G=='B'then c.options.auto_deconfigure=true elseif G=='R'then x=true elseif G=='G'then c.force.downgrade=false elseif G=='O'then y=true elseif G=='E'then c.options.skip_same_version=true end else local H;if string.find(F,\"=\")then F,H=string.match(F,\"^(.+)=(.+)$\")end;if F==\"--install\"then w=0 elseif F==\"--unpack\"then w=1 elseif F==\"--configure\"then w=2 elseif F==\"--triggers-only\"then w=3 elseif F==\"--remove\"then w=4 elseif F==\"--purge\"then w=5 elseif F==\"--verify\"then w=6 elseif F==\"--audit\"then w=7 elseif F==\"--get-selections\"then w=8 elseif F==\"--set-selections\"then w=9 elseif F==\"--clear-selections\"then w=10 elseif F==\"--print-architecture\"then print(\"phoenix\")return elseif string.match(F,\"^%-%-assert%-\")then if F==\"--assert-support-predepends\"then return 0 elseif F==\"--assert-working-epoch\"then return 0 elseif F==\"--assert-long-filenames\"then return 0 elseif F==\"--assert-multi-conrep\"then return 1 elseif F==\"--assert-multi-arch\"then return 1 elseif F==\"--assert-versioned-provides\"then return 0 else return 2 end elseif string.match(F,\"^%-%-validate%-\")then w=11;z=string.match(F,\"^%-%-validate%-(.+)\")elseif F==\"--compare-verisons\"then w=12 elseif F==\"--help\"then if c.options.pager then s(u)else print(u)end;return elseif F==\"--force-help\"then(c.options.pager and s or print)([[dpkg forcing options - control behaviour when problems found:\nwarn but continue:  --force-<thing>,<thing>,...\nstop with error:    --refuse-<thing>,<thing>,... | --no-force-<thing>,...\nForcing things:\n[!] all                Set all force options\n[*] downgrade          Replace a package with a lower version\n    configure-any      Configure any package which may help this one\n    hold               Process incidental packages even when on hold\n    bad-verify         Install a package even if it fails authenticity check\n    bad-version        Process even packages with wrong versions\n    overwrite          Overwrite a file from one package with another\n    overwrite-diverted Overwrite a diverted file with an undiverted version\n[!] overwrite-dir      Overwrite one package's directory with another's file\n[!] confnew            Always use the new config files, don't prompt\n[!] confold            Always use the old config files, don't prompt\n[!] confdef            Use the default option for new config files if one\n                        is available, don't prompt. If no default can be found,\n                        you will be prompted unless one of the confold or\n                        confnew options is also given\n[!] confmiss           Always install missing config files\n[!] confask            Offer to replace config files with no new versions\n[!] architecture       Process even packages with wrong or no architecture\n[!] breaks             Install even if it would break another package\n[!] conflicts          Allow installation of conflicting packages\n[!] depends            Turn all dependency problems into warnings\n[!] depends-version    Turn dependency version problems into warnings\n[!] remove-reinstreq   Remove packages which require installation\n[!] remove-essential   Remove an essential package\n\nWARNING - use of options marked [!] can seriously damage your installation.\nForcing options marked [*] are enabled by default.]])return elseif F==\"--build\"or F==\"--contents\"or F==\"--control\"or F==\"--extract\"or F==\"--vextract\"or F==\"--field\"or F==\"--ctrl-tarfile\"or F==\"--fsys-tarfile\"or F==\"--info\"then w=13 elseif F==\"--list\"or F==\"--status\"or F==\"--listfiles\"or F==\"--search\"or F==\"--print-avail\"then w=14 elseif F==\"--auto-deconfigure\"then c.options.auto_deconfigure=true elseif F==\"--debug\"then elseif string.match(F,\"^%-%-force%-\")or string.match(F,\"^%-%-no%-force%-\")or string.match(F,\"^%-%-refuse%-\")then local I=string.match(F,\"^%-%-force%-\")~=nil;local J=F:gsub(\"^%-%-force%-\",\"\"):gsub(\"^%-%-no%-force%-\",\"\"):gsub(\"^%-%-refuse%-\",\"\")if J==\"downgrade\"then c.force.downgrade=I elseif J==\"configure-any\"then c.force.configure_any=I elseif J==\"hold\"then c.force.hold=I elseif J==\"remove-reinstreq\"then c.force.remove_reinstreq=I elseif J==\"remove-essential\"then c.force.remove_essential=I elseif J==\"depends\"then c.force.depends=I elseif J==\"depends-version\"then c.force.depends_version=I elseif J==\"breaks\"then c.force.breaks=I elseif J==\"conflicts\"then c.force.conflicts=I elseif J==\"confmiss\"then c.force.confmiss=I elseif J==\"confnew\"and c.force.confmode~=2 then c.force.confmode=0 elseif J==\"confold\"and c.force.confmode~=2 then c.force.confmode=1 elseif J==\"confdef\"then c.force.confmode=2 elseif J==\"confask\"and c.force.confmode==nil then c.force.confmode=nil elseif J==\"overwrite\"then c.force.overwrite=I elseif J==\"overwrite-dir\"then c.force.overwrite_dir=I elseif J==\"overwrite-diverted\"then c.force.overwrite_diverted=I elseif J==\"architecture\"then c.force.architecture=I elseif J==\"bad-version\"then c.force.bad_version=I elseif J==\"bad-verify\"then c.force.bad_verify=I end elseif F==\"--ignore-depends\"then for E,F in ipairs(split(H,\",\"))do c.options.ignore_depends[F]=true end elseif F==\"--no-act\"or F==\"--dry-run\"or F==\"--simulate\"then c.options.dry_run=true elseif F==\"--recursive\"then x=true elseif F==\"--admindir\"then c.admindir,d.admindir,e.admindir,f.admindir=H,H,H,H elseif F==\"--root\"then c.rootdir=H elseif F==\"--selected-only\"then y=true elseif F==\"--skip-same-verison\"then c.options.skip_same_version=true elseif F==\"--pre-invoke\"then A=H elseif F==\"--post-invoke\"then B=H elseif F==\"--path-exclude\"then C=H elseif F==\"--path-include\"then D=H elseif F==\"--no-pager\"then c.options.pager=false elseif F==\"--no-triggers\"then c.options.triggers=false elseif F==\"--triggers\"then c.options.triggers=true end end end;local function K(t)c.error(t)print([[\n\nType dpkg --help for help about installing and deinstalling packages [*];\nUse 'apt' or 'aptitude' for user-friendly package management;\nType dpkg -Dhelp for a list of dpkg debug flag values;\nType dpkg --force-help for a list of forcing options;\nType dpkg-deb --help for help about manipulating *.deb files;\n\nOptions marked [*] produce a lot of output !]])return 2 end;if w==nil then K(\"need an action option\")end;if not a.exists(g(\"\"))then a.mkdir(g(\"info\"))a.mkdir(g(\"triggers\"))i(g(\"status\"),\"\")i(g(\"triggers/Unincorp\"),\"\")i(g(\"triggers/File\"),\"\")end;if w==0 or w==1 then if#v==0 then K((w==0 and\"--install\"or\"--unpack\")..\" needs at least one package archive file argument\")end;local L={}for E,F in ipairs(v)do if not a.exists(F)then c.error(\"cannot access archive '\"..F..\"': No such file or directory\")return 2 end;if x then if not a.isDir(F)then c.error(\"cannot access directory '\"..F..\"': Not a directory\")return 2 end;local function M(g)for E,N in ipairs(a.list(g))do if a.isDir(a.combine(g,N))then M(a.combine(g,N))elseif N:match(\"^.*%.deb$\")then c.print(\"Loading \"..F..\" (this may take a while) ...\")local O,P=pcall(c.package,N)if not O then c.error(\"cannot access archive '\"..a.combine(g,N)..\"': \"..P)return 2 end;table.insert(L,P)end end end;M(F)else c.print(\"Loading \"..F..\" (this may take a while) ...\")local O,P=pcall(c.package,F)if not O then c.error(\"cannot access archive '\"..F..\"': \"..P)return 2 end;table.insert(L,P)end end;if#L==0 then c.error(\"searched, but found no packages (files matching *.deb)\")return 2 end;local Q={}for E,F in ipairs(L)do c.print(\"Selecting previously unselected package \"..F.name..\".\")if c.package.packagedb==nil then c.readDatabase()end;c.package.packagedb[F.name]=c.package.packagedb[F.name]or{Status=\"unknown ok not-installed\"}p(c.package.packagedb[F.name],1,\"install\")if not F.unpack()or w==0 and not F.configure()then table.insert(Q,F.name)end end;if c.options.triggers then for R,F in pairs(c.package.packagedb)do if F[\"Triggers-Pending\"]then c.print(\"Processing triggers for \"..R..\" (\"..F.Version..\") ...\")f.commit(R,c.package.triggerdb,c.package.packagedb)end end end;e.writeDatabase(c.package.packagedb)if#Q>0 then c.print(\"dpkg: error processing \"..table.concat(Q,\", \"))return 2 else return 0 end elseif w==2 then if x then c.warn(\"--recursive specified, but this flag is ineffective with --configure\")end;if#v==0 then K(\"--configure needs at least one package name argument\")end;c.readDatabase()local Q={}if v[1]==\"--pending\"or v[1]==\"-a\"then for R,F in pairs(c.package.packagedb)do if e.status.needs_configure(m(F,3))then local O,P=pcall(c.package,R)if not O or not P.configure()then table.insert(Q,R)end end end else for E,R in ipairs(v)do if e.status.needs_configure(m(c.package.packagedb[R],3))then local O,P=pcall(c.package,R)if not O or not P.configure()then table.insert(Q,R)end end end end;e.writeDatabase(c.package.packagedb)if#Q>0 then c.print(\"dpkg: error processing \"..table.concat(Q,\", \"))return 2 else return 0 end elseif w==3 then if x then c.warn(\"--recursive specified, but this flag is ineffective with --triggers-only\")end;if#v==0 then K(\"--triggers-only needs at least one package name argument\")end;c.readDatabase()local Q={}if v[1]==\"--pending\"or v[1]==\"-a\"then if c.options.triggers then for R,F in pairs(c.package.packagedb)do if F[\"Triggers-Pending\"]then c.print(\"Processing triggers for \"..R..\" (\"..F.Version..\") ...\")f.commit(R,c.package.triggerdb,c.package.packagedb)end end end else if c.options.triggers then for E,R in ipairs(v)do if c.package.packagedb[R][\"Triggers-Pending\"]then c.print(\"Processing triggers for \"..R..\" (\"..c.package.packagedb[R].Version..\") ...\")f.commit(R,c.package.triggerdb,c.package.packagedb)end end end end;e.writeDatabase(c.package.packagedb)if#Q>0 then c.print(\"dpkg: error processing \"..table.concat(Q,\", \"))return 2 else return 0 end elseif w==4 then if x then c.warn(\"--recursive specified, but this flag is ineffective with --remove\")end;if#v==0 then K(\"--remove needs at least one package name argument\")end;c.readDatabase()local Q={}for E,R in ipairs(v)do local O,P=pcall(c.package,R)if O then p(c.package.packagedb[R],1,\"deinstall\")end;if not O or not P.remove(false)then table.insert(Q,R)end end;e.writeDatabase(c.package.packagedb)if#Q>0 then c.print(\"dpkg: error processing \"..table.concat(Q,\", \"))return 2 else return 0 end elseif w==5 then if x then c.warn(\"--recursive specified, but this flag is ineffective with --purge\")end;if#v==0 then K(\"--purge needs at least one package name argument\")end;c.readDatabase()local Q={}for E,R in ipairs(v)do local O,P=pcall(c.package,R)if O then p(c.package.packagedb[R],1,\"purge\")end;if not O or not P.remove(true)then table.insert(Q,R)end end;e.writeDatabase(c.package.packagedb)if#Q>0 then c.print(\"dpkg: error processing \"..table.concat(Q,\", \"))return 2 else return 0 end elseif w==6 then if x then c.warn(\"--recursive specified, but this flag is ineffective with --verify\")end;c.readDatabase()local Q={}if#v==0 then for R in pairs(c.package.packagedb)do local O,P=pcall(c.package,R)if not O or not P.verify()then table.insert(Q,R)end end else for E,R in ipairs(v)do local O,P=pcall(c.package,R)if not O or not P.verify()then table.insert(Q,R)end end end;e.writeDatabase(c.package.packagedb)if#Q>0 then c.print(\"dpkg: error verifying \"..table.concat(Q,\", \"))return 2 else return 0 end elseif w==7 then c.readDatabase()if#v==0 then for R,F in pairs(c.package.packagedb)do if not a.exists(g(\"info/\"..R..\".list\"))then c.warn(\"package \"..R..\" is missing a file list\\nTo fix this issue: reinstall the package\")end;if not a.exists(g(\"info/\"..R..\".md5sums\"))then c.warn(\"package \"..R..\" is missing an md5sum list\\nTo fix this issue: reinstall the package\")end;if m(F,1)==\"install\"then if m(F,3)==\"half-installed\"or m(F,2)==\"reinstreq\"then c.warn(\"package \"..R..\" is not installed properly\\nTo fix this issue: reinstall the package\")elseif m(F,3)==\"not-installed\"or m(F,3)==\"config-files\"then c.warn(\"package \"..R..\" is marked for installation, but it is not installed\\nTo fix this issue: install the package\")elseif m(F,3)~=\"installed\"then c.warn(\"package \"..R..\" is not configured\\nTo fix this issue: configure the package\")end elseif m(F,1)==\"deinstall\"then if m(F,3)==\"not-installed\"then c.warn(\"package \"..R..\" is marked for removal of non-config files, but config files are not installed\\nTo fix this issue: reinstall package then remove properly\")elseif m(F,3)==\"installed\"or m(F,3)==\"triggers-pending\"or m(F,3)==\"triggers-awaited\"then c.warn(\"package \"..R..\" is marked for removal, but the package hasn't been removed\\nTo fix this issue: remove the package\")elseif m(F,3)~=\"config-files\"then c.warn(\"package \"..R..\" was not removed properly\\nTo fix this issue: remove the package\")end elseif m(F,1)==\"purge\"then if m(F,3)==\"config-files\"then c.warn(\"package \"..R..\" is marked for purge, but config files are still installed\\nTo fix this issue: purge the package\")elseif m(F,3)==\"installed\"or m(F,3)==\"triggers-pending\"or m(F,3)==\"triggers-awaited\"then c.warn(\"package \"..R..\" is marked for purge, but the package hasn't been removed\\nTo fix this issue: remove the package\")elseif m(F,3)~=\"config-files\"then c.warn(\"package \"..R..\" was not purged properly\\nTo fix this issue: remove the package\")end elseif m(F,1)==\"unknown\"then c.warn(\"package \"..R..\" is in an unknown status\\nTo fix this issue: (re)install the package\")end end else for E,R in ipairs(v)do local F=c.package.packagedb[R]if not F then c.warn(\"package \"..R..\" not found\")else if not a.exists(g(\"info/\"..R..\".list\"))then c.warn(\"package \"..R..\" is missing a file list\\nTo fix this issue: reinstall the package\")end;if not a.exists(g(\"info/\"..R..\".md5sums\"))then c.warn(\"package \"..R..\" is missing an md5sum list\\nTo fix this issue: reinstall the package\")end;if m(F,1)==\"install\"then if m(F,3)==\"half-installed\"or m(F,2)==\"reinstreq\"then c.warn(\"package \"..R..\" is not installed properly\\nTo fix this issue: reinstall the package\")elseif m(F,3)==\"not-installed\"or m(F,3)==\"config-files\"then c.warn(\"package \"..R..\" is marked for installation, but it is not installed\\nTo fix this issue: install the package\")elseif m(F,3)~=\"installed\"then c.warn(\"package \"..R..\" is not configured\\nTo fix this issue: configure the package\")end elseif m(F,1)==\"deinstall\"then if m(F,3)==\"not-installed\"then c.warn(\"package \"..R..\" is marked for removal of non-config files, but config files are not installed\\nTo fix this issue: reinstall package then remove properly\")elseif m(F,3)==\"installed\"or m(F,3)==\"triggers-pending\"or m(F,3)==\"triggers-awaited\"then c.warn(\"package \"..R..\" is marked for removal, but the package hasn't been removed\\nTo fix this issue: remove the package\")elseif m(F,3)~=\"config-files\"then c.warn(\"package \"..R..\" was not removed properly\\nTo fix this issue: remove the package\")end elseif m(F,1)==\"purge\"then if m(F,3)==\"config-files\"then c.warn(\"package \"..R..\" is marked for purge, but config files are still installed\\nTo fix this issue: purge the package\")elseif m(F,3)==\"installed\"or m(F,3)==\"triggers-pending\"or m(F,3)==\"triggers-awaited\"then c.warn(\"package \"..R..\" is marked for purge, but the package hasn't been removed\\nTo fix this issue: remove the package\")elseif m(F,3)~=\"config-files\"then c.warn(\"package \"..R..\" was not purged properly\\nTo fix this issue: remove the package\")end elseif m(F,1)==\"unknown\"then c.warn(\"package \"..R..\" is in an unknown status\\nTo fix this issue: (re)install the package\")end end end end elseif w==8 then c.readDatabase()local S={}if#v==0 then for R,F in pairs(c.package.packagedb)do if m(F,3)~=\"not-installed\"then table.insert(S,{R,m(F,1)})end end else for E,R in ipairs(v)do table.insert(S,{R,m(c.package.packagedb[R],1)})end end;textutils.tabulate(table.unpack(S))elseif w==9 then elseif w==10 then c.readDatabase()for R,F in pairs(c.package.packagedb)do if F.Priority~=\"essential\"and F.Priority~=\"required\"then p(F,1,\"deinstall\")end end;e.writeDatabase(c.package.packagedb)return 0 elseif w==11 then if z==\"pkgname\"then return string.match(v[1],\"^%w[%w+-.]+$\")and 0 or 2 elseif z==\"trigname\"then return string.match(v[1],\"^%w[%w+-.]+$\")and 0 or 2 elseif z==\"archname\"then return(v[1]==\"all\"or v[1]==\"any\"or v[1]==\"phoenix\"or v[1]==\"source\")and 0 or((v[1]==\"i386\"or v[1]==\"amd64\"or v[1]==\"powerpc\"or v[1]==\"armv7h\"or v[1]==\"aarch64\"or v[1]==\"ppc64el\"or v[1]==\"ia64\"or v[1]==\"s390x\"or v[1]==\"mips\"or v[1]==\"mipsel\"or v[1]==\"mips64el\"or v[1]==\"armv7el\")and 1 or 2)elseif z==\"version\"then return c.compareVersions(v[1],\"1\")and 0 or 2 else K(\"unknown option --validate-\"..z)end elseif w==12 then if#v<3 then K(\"--compare-versions takes three arguments: <version> <relation> <version>\")end;local T=c.findRelationship(\"a\",v[1],\"a (\"..v[2]..\" \"..v[3]..\")\")if T==nil then return 2 elseif T==true then return 0 else return 1 end elseif w==13 then return b.run(\"/usr/bin/dpkg-deb\",...)elseif w==14 then return b.run(\"/usr/bin/dpkg-query\",...)end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=22540},["yahtcc.lua"]={created=1688258071704,type="file",modified=1688258070530,data="local a=require\"system.util\"local b=require\"system.keys\"local c=require\"system.terminal\"local d=require\"system.hardware\"local e,f=c.openterm()if not e then error(\"Could not open terminal: \"..f)end;local g={[0]={0xA0,0xA0,0xA0,0xA0,0xA0,0xA0},{0x20,0x10,0x95,0x8f,0x8f,0x85},{0x08,0x20,0x95,0x8f,0x8d,0x85},{0x08,0x10,0x95,0x8f,0x8d,0x85},{0x08,0x08,0x95,0x8d,0x8d,0x85},{0x08,0x18,0x95,0x8d,0x8d,0x85},{0x97,0x97,0x95,0x8d,0x8d,0x85}}local h={{0x2F,0x34,0x00,0x38,0x1F,0x00,0x00,0x28,0x14,0x00,0x00,0x3C,0x00,0x00,0x38,0x3C,0x14,0x20,0x3C,0x3C},{0x00,0x0B,0x3F,0x07,0x00,0x00,0x00,0x2A,0x15,0x00,0x0F,0x3F,0x0F,0x2A,0x17,0x00,0x00,0x3F,0x01,0x00},{0x00,0x00,0x3F,0x00,0x38,0x0F,0x3E,0x2A,0x1F,0x2F,0x14,0x3F,0x00,0x2A,0x15,0x00,0x00,0x3F,0x00,0x00},{0x00,0x00,0x3F,0x00,0x0B,0x3C,0x2F,0x2A,0x15,0x2A,0x15,0x3F,0x00,0x02,0x2F,0x3C,0x14,0x0B,0x3D,0x3C}}local i={{0x00,0x3C,0x30,0x30,0x38,0x14,0x00},{0x00,0x15,0x17,0x17,0x15,0x15,0x00},{0x00,0x15,0x15,0x15,0x15,0x15,0x00},{0x00,0x35,0x15,0x15,0x35,0x15,0x00},{0x00,0x03,0x0F,0x0F,0x07,0x01,0x00}}local j={{{name=\"\"},{name=\"Ones\",score=function(k)local l=0;for m,n in ipairs(k)do if n.value==1 then l=l+n.value end end;return l end},{name=\"Twos\",score=function(k)local l=0;for m,n in ipairs(k)do if n.value==2 then l=l+n.value end end;return l end},{name=\"Threes\",score=function(k)local l=0;for m,n in ipairs(k)do if n.value==3 then l=l+n.value end end;return l end},{name=\"Fours\",score=function(k)local l=0;for m,n in ipairs(k)do if n.value==4 then l=l+n.value end end;return l end},{name=\"Fives\",score=function(k)local l=0;for m,n in ipairs(k)do if n.value==5 then l=l+n.value end end;return l end},{name=\"Sixes\",score=function(k)local l=0;for m,n in ipairs(k)do if n.value==6 then l=l+n.value end end;return l end},{name=\"Bonus\"}},{{name=\"Three of a Kind\",score=function(k)local o={0,0,0,0,0,0}local p=false;local q=0;for m,n in ipairs(k)do o[n.value]=o[n.value]+1;q=q+n.value;if o[n.value]>=3 then p=true end end;return p and q or 0 end},{name=\"Four of a Kind\",score=function(k)local o={0,0,0,0,0,0}local p=false;local q=0;for m,n in ipairs(k)do o[n.value]=o[n.value]+1;q=q+n.value;if o[n.value]>=4 then p=true end end;return p and q or 0 end},{name=\"Full House\",score=function(k,r)local o={0,0,0,0,0,0}for m,n in ipairs(k)do o[n.value]=o[n.value]+1 end;local s,t,u=false,false,nil;for n=1,6 do if o[n]==3 then s=true elseif o[n]==2 then t=true elseif o[n]==5 then u=n end end;if u and r[2][6].locked and not r[1][u+1].locked then return 25 end;return s and t and 25 or 0 end},{name=\"Small Straight\",score=function(k,r)local o={0,0,0,0,0,0}local u=nil;for m,n in ipairs(k)do o[n.value]=o[n.value]+1;if o[n.value]==5 then u=n.value end end;if u and r[2][6].locked and not r[1][u+1].locked then return 30 end;if o[3]==0 or o[4]==0 then return 0 elseif o[1]~=0 and o[2]~=0 or o[2]~=0 and o[5]~=0 or o[5]~=0 and o[6]~=0 then return 30 end;return 0 end},{name=\"Large Straight\",score=function(k,r)local o={0,0,0,0,0,0}local u=nil;for m,n in ipairs(k)do o[n.value]=o[n.value]+1;if o[n.value]==5 then u=n.value end end;if u and r[2][6].locked and not r[1][u+1].locked then return 40 end;if o[2]==0 or o[3]==0 or o[4]==0 or o[5]==0 then return 0 end;return(o[1]~=0 or o[6]~=0)and 40 or 0 end},{name=\"Yahtzee\",score=function(k)local v=k[1].value;for m,n in ipairs(k)do if v~=n.value then return 0 end end;return 50 end},{name=\"Chance\",score=function(k)local q=0;for m,n in ipairs(k)do q=q+n.value end;return q end},{name=\"Yahtzee Bonus\"}}}local function w(x,y,z,A)A=A or'0'local B='f'local C=g[z]e.setCursorPos(x,y)for n=1,3 do local v=C[n]if v==0x20 then e.blit(' ',B,A)elseif v<0x80 then e.blit(string.char(v+0x80),B,A)else e.blit(string.char(v),A,B)end end;e.setCursorPos(x,y+1)for n=4,6 do local v=C[n]if v==0x20 then e.blit(' ',B,A)elseif v<0x80 then e.blit(string.char(v+0x80),B,A)else e.blit(string.char(v),A,B)end end;e.setBackgroundColor(c.colors.black)e.setTextColor(c.colors.white)end;local function D(x,y,k)for z,n in ipairs(k)do w(x+(z-1)*3,y,n.value,n.locked and'4'or'0')end end;local function E(F,G,H)H=H or'0'for y=1,4 do e.setCursorPos(F,G+y-1)for m,v in ipairs(h[y])do local B,A=H,'f'if bit32.btest(v,0x20)then B,A=A,B;v=bit32.band(bit32.bnot(v),0x1F)end;v=bit32.bor(v,0x80)if v==0x80 then v=0x20 end;e.blit(string.char(v),B,A)end end;e.setBackgroundColor(c.colors.black)e.setTextColor(c.colors.white)end;local function I(F,G,J,K)J=J or'b'for y=1,5 do e.setCursorPos(F-1,G+y-1)for x,v in ipairs(i[y])do local B,A;if y>1 and y<5 and x>1 and x<6 then B,A=J,'8'else B,A=J,'f'end;if bit32.btest(v,0x20)then B,A=A,B;v=bit32.band(bit32.bnot(v),0x1F)end;v=bit32.bor(v,0x80)if v==0x80 then v=0x20 end;e.blit(string.char(v),B,A)end end;e.setCursorPos(F-6,G+2)e.setBackgroundColor(c.colors.black)e.setTextColor(c.colors.white)e.write(K and\"      \"or\" Roll \")end;local function L(x,y,r,M,N)e.setBackgroundColor(c.colors.black)e.setCursorBlink(false)for O=1,2 do for n,P in ipairs(j[O])do local Q=O==M and n==N;e.setBackgroundColor(Q and c.colors.white or(n%2==1 and c.colors.black or c.colors.gray))e.setTextColor(Q and c.colors.black or c.colors.white)e.setCursorPos(x+(O-1)*20,y+n-1)e.write(P.name..(' '):rep(16-#P.name))if not r[O][n].locked and not P.bonus then if r[O][n].value==0 then e.setTextColor(c.colors.lightGray)else e.setTextColor(c.colors.lightBlue)end else e.setTextColor(Q and c.colors.black or c.colors.white)end;if r[O][n].value==nil then e.write(\"   \")elseif r[O][n].value<10 then e.write(\"  \"..r[O][n].value)else e.write(\" \"..r[O][n].value)end end end;e.setBackgroundColor(c.colors.black)e.setTextColor(c.colors.white)end;local function R(x,y,r,S)e.setCursorPos(x,y)e.write(\"Score: \")local q=0;for O=1,2 do for n,P in ipairs(r[O])do if P.value and P.locked then q=q+P.value end end end;e.write(q)e.setCursorPos(x,y+1)e.write(\"Rolls remaining: \"..S)e.setBackgroundColor(c.colors.black)e.setTextColor(c.colors.white)end;local function T(r,k)for O=1,2 do for n,P in ipairs(j[O])do if not r[O][n].locked and P.score then r[O][n].value=P.score(k,r)end end end;if r[2][6].locked and r[2][6].value==50 then local v=k[1].value;for m,n in ipairs(k)do if v~=n.value then return r end end;r[2][8].value=100;r[2][8].locked=true end;return r end;local function U(r,V,W)if V then r[V][W].locked=true end;for O=1,2 do for n,P in ipairs(r[O])do if not P.locked then P.value=nil end end end;if(r[1][2].locked and r[1][2].value or 0)+(r[1][3].locked and r[1][3].value or 0)+(r[1][4].locked and r[1][4].value or 0)+(r[1][5].locked and r[1][5].value or 0)+(r[1][6].locked and r[1][6].value or 0)+(r[1][7].locked and r[1][7].value or 0)>=63 then r[1][8].value=35;r[1][8].locked=true end;return r end;local X=d.find(\"speaker\")local function Y(k,Z,_,a0,a1,J,a2)for m,P in ipairs(k)do if not P.locked then P.value=0 end end;D(Z,_,k)for n=1,4 do I(a0,a1,J,true)if X then X:playNote(\"hat\",2,12)X:playNote(\"hat\",2,7)end;a.sleep(0.1)I(a0+1,a1,J,true)if X then X:playNote(\"hat\",2,11)X:playNote(\"hat\",2,6)end;a.sleep(0.1)I(a0,a1,J,true)if X then X:playNote(\"hat\",2,12)X:playNote(\"hat\",2,7)end;a.sleep(0.1)I(a0-1,a1,J,true)if X then X:playNote(\"hat\",2,11)X:playNote(\"hat\",2,6)end;a.sleep(0.1)end;if X then X:playNote(\"hat\",2,3)X:playNote(\"hat\",2,6)end;for m,P in ipairs(k)do if not P.locked then P.value=math.random(1,6)end end;I(a0,a1,J,a2)D(Z,_,k)return k end;local a3={dice={x=2,y=17},rollCup={x=36,y=15},logo={x=2,y=2},status={x=23,y=3},scores={x=2,y=7}}local k={{value=0},{value=0},{value=0},{value=0},{value=0}}local r={{{},{},{},{},{},{},{},{}},{{},{},{},{},{},{},{},{}}}local a4=3;local a5,a6=false,0;local a7=0;local a8=0xb;math.randomseed(os.time())e.clear()E(a3.logo.x,a3.logo.y)R(a3.status.x,a3.status.y,r,a4)L(a3.scores.x,a3.scores.y,r)D(a3.dice.x,a3.dice.y,k)I(a3.rollCup.x,a3.rollCup.y,('%x'):format(a8))while a7<13 do local a9,aa=coroutine.yield()if a9==\"key\"then if aa.keycode==b.r and a4>0 and not(k[1].locked and k[2].locked and k[3].locked and k[4].locked and k[5].locked)then a4=a4-1;U(r)L(a3.scores.x,a3.scores.y,r)R(a3.status.x,a3.status.y,r,a4)Y(k,a3.dice.x,a3.dice.y,a3.rollCup.x,a3.rollCup.y,('%x'):format(a8),a4<1)T(r,k)if a4==0 then a5=false;a6=2;while a6<=7 and r[1][a6].locked do a6=a6+1 end;if a6>7 then a5=true;a6=1;while a6<=7 and r[2][a6].locked do a6=a6+1 end;if a6>7 then a6=0 end end;L(a3.scores.x,a3.scores.y,r,a5 and 2 or 1,a6)else a5,a6=false,0;L(a3.scores.x,a3.scores.y,r)end elseif aa.keycode==b.one and a4<3 and a4>0 then k[1].locked=not k[1].locked;D(a3.dice.x,a3.dice.y,k)elseif aa.keycode==b.two and a4<3 and a4>0 then k[2].locked=not k[2].locked;D(a3.dice.x,a3.dice.y,k)elseif aa.keycode==b.three and a4<3 and a4>0 then k[3].locked=not k[3].locked;D(a3.dice.x,a3.dice.y,k)elseif aa.keycode==b.four and a4<3 and a4>0 then k[4].locked=not k[4].locked;D(a3.dice.x,a3.dice.y,k)elseif aa.keycode==b.five and a4<3 and a4>0 then k[5].locked=not k[5].locked;D(a3.dice.x,a3.dice.y,k)elseif aa.keycode==b.q then break elseif aa.keycode==b.up and a4<3 then if a6==0 then a5=false;a6=2;while a6<=7 and r[1][a6].locked do a6=a6+1 end;if a6>7 then a5=true;a6=1;while a6<=7 and r[2][a6].locked do a6=a6+1 end;if a6>7 then a6=0 end end end;if a6>(a5 and 1 or 2)then local ab=a6;repeat a6=a6-1 until a6<(a5 and 1 or 2)or not r[a5 and 2 or 1][a6].locked;if a6<(a5 and 1 or 2)then a6=ab end end;L(a3.scores.x,a3.scores.y,r,a5 and 2 or 1,a6)elseif aa.keycode==b.down and a4<3 then if a6==0 then a5=false;a6=7;while a6>=2 and r[1][a6].locked do a6=a6-1 end;if a6<2 then a5=true;a6=7;while a6>=1 and r[2][a6].locked do a6=a6-1 end;if a6<1 then a6=0 end end end;if a6>0 and a6<7 then local ab=a6;repeat a6=a6+1 until a6>7 or not r[a5 and 2 or 1][a6].locked;if a6>7 then a6=ab end end;L(a3.scores.x,a3.scores.y,r,a5 and 2 or 1,a6)elseif(aa.keycode==b.left or aa.keycode==b.right)and a4<3 and a6~=1 and(a6==0 or not r[a5 and 1 or 2][a6].locked)then if a6==0 then a5=aa.keycode==b.right;a6=a5 and 1 or 2;while a6<=7 and r[a5 and 2 or 1][a6].locked do a6=a6+1 end;if a6>7 then a5=not a5;a6=a5 and 1 or 2;while a6<=7 and r[a5 and 2 or 1][a6].locked do a6=a6+1 end;if a6>7 then a6=0 end end else a5=not a5 end;L(a3.scores.x,a3.scores.y,r,a5 and 2 or 1,a6)elseif aa.keycode==b.enter and a6~=0 and a4<3 and not r[a5 and 2 or 1][a6].locked then U(r,a5 and 2 or 1,a6)k={{value=0},{value=0},{value=0},{value=0},{value=0}}a4=3;R(a3.status.x,a3.status.y,r,a4)L(a3.scores.x,a3.scores.y,r)D(a3.dice.x,a3.dice.y,k)I(a3.rollCup.x,a3.rollCup.y,('%x'):format(a8))a7=a7+1 elseif aa.keycode==b.c then a8=a8+1;if a8>0xf then a8=0x0 end;I(a3.rollCup.x,a3.rollCup.y,('%x'):format(a8))end elseif a9==\"mouse_click\"and aa.button==1 then if(aa.x>=a3.rollCup.x and aa.x<a3.rollCup.x+5 and aa.y>=a3.rollCup.y and aa.y<a3.rollCup.y+5 or aa.x>=a3.rollCup.x-5 and aa.x<a3.rollCup.x-1 and aa.y==a3.rollCup.y+2)and a4>0 and not(k[1].locked and k[2].locked and k[3].locked and k[4].locked and k[5].locked)then a4=a4-1;U(r)L(a3.scores.x,a3.scores.y,r)R(a3.status.x,a3.status.y,r,a4)Y(k,a3.dice.x,a3.dice.y,a3.rollCup.x,a3.rollCup.y,('%x'):format(a8),a4<1)T(r,k)if a4==0 then a5=false;a6=2;while a6<=7 and r[1][a6].locked do a6=a6+1 end;if a6>7 then a5=true;a6=1;while a6<=7 and r[2][a6].locked do a6=a6+1 end;if a6>7 then a6=0 end end;L(a3.scores.x,a3.scores.y,r,a5 and 2 or 1,a6)else a5,a6=false,0;L(a3.scores.x,a3.scores.y,r)end elseif aa.x>=a3.dice.x and aa.x<a3.dice.x+15 and aa.y>=a3.dice.y and aa.y<a3.dice.y+2 and a4<3 and a4>0 then k[math.floor((aa.x-a3.dice.x)/3)+1].locked=not k[math.floor((aa.x-a3.dice.x)/3)+1].locked;D(a3.dice.x,a3.dice.y,k)elseif aa.x>=a3.scores.x and aa.x<a3.scores.x+40 and aa.y>=a3.scores.y and aa.y<a3.scores.y+7 and a4<3 then local V,W=aa.x-a3.scores.x>=20,aa.y-a3.scores.y+1;if a5==V and a6==W and not r[V and 2 or 1][W].locked then U(r,a5 and 2 or 1,a6)k={{value=0},{value=0},{value=0},{value=0},{value=0}}a4=3;R(a3.status.x,a3.status.y,r,a4)L(a3.scores.x,a3.scores.y,r)D(a3.dice.x,a3.dice.y,k)I(a3.rollCup.x,a3.rollCup.y,('%x'):format(a8))a7=a7+1 elseif(V or W>1)and not r[V and 2 or 1][W].locked then a5=V;a6=W;L(a3.scores.x,a3.scores.y,r,a5 and 2 or 1,a6)end end end end;if a7==13 then for n=1,3 do E(a3.logo.x,a3.logo.y,'5')a.sleep(0.5)E(a3.logo.x,a3.logo.y,'0')a.sleep(0.5)end;E(a3.logo.x,a3.logo.y,'5')a.sleep(1)end;e.close()local q=0;for O=1,2 do for n,P in ipairs(r[O])do if P.value and P.locked then q=q+P.value end end end;print(\"Final score: \"..q)print(\"Thanks for playing YahtCC!\")\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=12358},["usermod.lua"]={created=1688258011703,type="file",modified=1688258011046,data="local a=require\"usermgr\"local b=require\"system.filesystem\"local c=require\"system.process\"local d=require\"system.util\"local e=[[\nUsage: useradd [options] LOGIN\n       useradd -D\n       useradd -D [options]\nOptions:\n  -c, --comment COMMENT    new full name of the account\n  -d, --home HOME_DIR      new home directory of the account\n  -h, --help               display this help message and exit\n  -m, --move-home          move the user's home directory\n  -s, --shell SHELL        new login shell of the account\n]]local f=assert(d.argparse({c=true,comment=\"@c\",d=true,home=\"@d\",h=false,help=\"@h\",m=false,[\"move-home\"]=\"@m\",s=true,shell=\"@s\"},...))if f.h then print(e)return end;if not f[1]then io.stderr:write(e..\"\\n\")return false end;local g=c.getuser()if g~=\"root\"and g~=f[1]then error(\"usermod: Permission denied.\")end;local h=a.getUserInfo(f[1])if not h then error(\"usermod: User does not exist.\")end;if f.s==\"\"then f.s=\"/bin/cash\"end;assert(a.editUser(f[1],{fullName=f.c,home=f.d,shell=f.s}),\"usermod: Could not modify user.\")if f.m and f.d and h.home~=f.d then b.move(h.home,f.d)end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1086},["useradd.lua"]={created=1688258011669,type="file",modified=1688258011009,data="local a=require\"usermgr\"local b=require\"system.filesystem\"local c=require\"system.process\"local d=require\"system.util\"local e=[[\nUsage: useradd [options] LOGIN\n       useradd -D\n       useradd -D [options]\nOptions:\n  -b, --base-dir BASE_DIR  base directory for the home directory of the new account\n  -c, --comment COMMENT    full name of the new account\n  -d, --home-dir HOME_DIR  home directory of the new account\n  -D, --defaults           print or change default useradd configuration\n  -f, --inactive INACTIVE  password inactivity period of the new account\n  -h, --help               display this help message and exit\n  -k, --skel SKEL_DIR      use this alternative skeleton directory\n  -K, --key KEY=VALUE      override /etc/login.defs defaults\n  -m, --create-home        create the user's home directory\n  -M, --no-create-home     do not create the user's home directory\n  -p, --password PASSWORD  password of the new account\n  -s, --shell SHELL        login shell of the new account\n]]local f=assert(d.argparse({b=true,[\"base-dir\"]=\"@b\",c=true,comment=\"@c\",d=true,[\"home-dir\"]=\"@d\",D=false,defaults=\"@D\",f=\"number\",inactive=\"@f\",h=false,help=\"@h\",k=true,skel=\"@k\",K=\"multiple\",key=\"@K\",m=false,[\"create-home\"]=\"@m\",M=false,[\"no-create-home\"]=\"@M\",p=true,password=\"@p\",s=true,shell=\"@s\"},...))if f.h then print(e)return end;local g={HOME=\"/home\",INACTIVE=-1,SHELL=\"/bin/cash\",SKEL=\"/etc/skel\"}do local h=io.open(\"/etc/default/useradd\",\"r\")if h then for i in h:lines()do local j,k=i:gsub(\"#.*$\",\"\"):match\"^([^=]+)=(.*)$\"if j and k then g[j]=type(g[j])==\"number\"and tonumber(k)or k end end;h:close()end end;for l,i in ipairs(f.K or{})do local j,k=i:match\"^([^=]+)=(.*)$\"if j and k then g[j]=type(g[j])==\"number\"and tonumber(k)or k end end;if f.D then if f.b or f.f or f.s then if c.getuser()~=\"root\"then error(\"useradd: Permission denied.\")end;if f.b then g.HOME=f.b end;if f.f then g.INACTIVE=f.f end;if f.s then g.SHELL=f.s end;local h=assert(io.open(\"/etc/default/useradd\",\"w\"))for m,n in pairs(g)do h:write(m..\"=\"..n..\"\\n\")end;h:close()else for m,n in pairs(g)do print(m..\"=\"..n)end end;return end;if not f[1]then io.stderr:write(e..\"\\n\")return false end;if c.getuser()~=\"root\"then error(\"useradd: Permission denied.\")end;local o=f.d or b.combine(f.b or g.HOME,f[1])local p=f.f or g.INACTIVE;if p<0 then p=nil end;assert(a.addUser(f[1],f.p,{fullName=f.c,home=o,shell=f.s or g.SHELL,lockTime=p}))if f.m and not f.M then b.mkdir(o)b.chmod(o,f[1],\"rwx\")b.chmod(o,nil,\"r-x\")b.chown(o,f[1])local q=f.k or g.SKEL;if q and b.isDir(q)then for l,n in ipairs(b.list(q))do b.copy(b.combine(q,n),b.combine(o,n),true)end end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2625},["passwd.lua"]={created=1688258011616,type="file",modified=1688258010946,data="local a=require\"usermgr\"local b=require\"system.process\"local c=require\"system.terminal\"local d=require\"system.util\"local e,f=b.getuser()if e~=\"root\"then error(\"This program must be run as root. Make sure the setuser bit is set.\")end;local g=assert(d.argparse({a=false,all=\"@a\",d=false,delete=\"@d\",e=false,expire=\"@e\",h=false,help=\"@h\",i=\"number\",inactive=\"@i\",k=false,[\"keep-tokens\"]=\"@k\",l=false,lock=\"@l\",n=\"number\",mindays=\"@n\",q=false,quiet=\"@q\",S=false,status=\"@S\",u=false,unlock=\"@u\",w=\"number\",warndays=\"@w\",x=\"number\",maxdays=\"@x\"},...))if g.h then print[[\nUsage: passwd [options] [LOGIN]\nOptions:\n  -a, --all                 report password status on all accounts\n  -d, --delete              delete the password for the named account\n  -e, --expire              force expire the password for the named account\n  -h, --help                display this help message and exit\n  -k, --keep-tokens         change password only if expired\n  -i, --inactive INACTIVE   set password inactive after expiration to INACTIVE\n  -l, --lock                lock the password of the named account\n  -n, --mindays MIN_DAYS    set minimum number of days before password change to MIN_DAYS\n  -q, --quiet               quiet mode\n  -S, --status              report password status on the named account\n  -u, --unlock              unlock the password of the named account\n  -w, --warndays WARN_DAYS  set expiration warning days to WARN_DAYS\n  -x, --maxdays MAX_DAYS    set maximum number of days before password change to MAX_DAYS \n]]return elseif g.S then local function h(i)local j=a.getUserInfo(i)if not j then print(\"passwd: could not find user\")return end;print(i,j.hasPassword and(j.isLocked and\"L\"or\"P\")or\"NP\",os.date(\"%F\",j.lastChange),j.nextChange and(j.nextChange-j.lastChange)/86400 or 0,j.expirationTime and(j.expirationTime-j.lastChange)/86400 or 0,j.expirationWarning and(j.expirationTime-j.expirationWarning)/86400 or 0,-1)end;if g.a then if f~=\"root\"then error(\"passwd: Permission denied.\")end;for k in io.lines(\"/etc/passwd\")do h(k:match(\"^[^:]+\"))end else h(f)end;return end;local i=g[1]or f;if g.d then assert(f==\"root\",\"passwd: Permission denied.\")return a.setPassword(i,nil)elseif g.e then assert(f==\"root\",\"passwd: Permission denied.\")return a.setPassword(i,nil,{expirationTime=0})elseif g.l then assert(f==\"root\",\"passwd: Permission denied.\")return a.setPassword(i,nil,{isLocked=true})elseif g.u then assert(f==\"root\",\"passwd: Permission denied.\")return a.setPassword(i,nil,{isLocked=false})else local j=a.getUserInfo(i)if not j then io.stderr:write(\"passwd: User not found.\\n\")return false end;if j.isLocked then io.stderr:write(\"passwd: User is locked.\\n\")return false end;if not g.q then print(\"Changing password for \"..i..\".\")end;local l;if f~=\"root\"then if not g.q then io.stdout:write(\"Old password: \")end;c.termctl({echo=false})l=io.stdin:read()c.termctl({echo=true})print()end;if not g.q then io.stdout:write(\"New password: \")end;c.termctl({echo=false})local m=io.stdin:read()c.termctl({echo=true})print()if not g.q then io.stdout:write(\"Confirm password: \")end;c.termctl({echo=false})local n=io.stdin:read()c.termctl({echo=true})print()if l and not a.authenticate(i,l)then if not g.q then io.stderr:write(\"passwd: Incorrect old password.\\n\")end;return false elseif m==n then return a.setPassword(i,m,{nextChange=g.n,expirationTime=g.x,expirationWarning=g.w,lockTime=g.i})else if not g.q then io.stderr:write(\"passwd: Passwords do not match.\\n\")end;return false end end\n",setuser=true,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=3487},["mktablefs.lua"]={created=1688258076337,type="file",modified=1688258074610,data="local a=require\"system.filesystem\"local b=require\"system.serialization\"local function c(d)local e=a.stat(d)if not e then return nil end;e.freeSpace,e.capacity,e.special,e.mountpoint=nil;if e.type==\"file\"then local f=assert(io.open(d,\"rb\"))e.data=f:read(\"*a\")f:close()elseif e.type==\"directory\"then e.contents={}for g,h in ipairs(a.list(d))do e.contents[h]=c(a.combine(d,h))end end;return e end;local i,j=...if not j then error(\"Usage: mktablefs <input directory> <output file>\")end;local e=c(i)b.lua.save(e,j,{minified=true})\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=526},["gzip.lua"]={created=1688258063567,type="file",modified=1688258062777,data="local a=require\"libdeflate\"local b={...}local c=0;local d;local e;local f=false;local g=false;local h;local i=false;for j,k in pairs(b)do if k==\"-c\"or k==\"--stdout\"then e=\"stdout\"elseif k==\"-d\"or k==\"--decompress\"then c=1 elseif k==\"-f\"or k==\"--force\"then g=true elseif k==\"-h\"or k==\"--help\"then print([[Usage: gzip [OPTION]... [FILE]\nCompress or uncompress FILEs (by default, compress FILES in-place).\n\n    -c, --stdout      write on standard output, keep original files unchanged\n    -d, --decompress  decompress\n    -f, --force       force overwrite of output file\n    -h, --help        give this help\n    -k, --keep        keep (don't delete) input files\n    -l, --list        list compressed file contents\n    -t, --test        test compressed file integrity\n    -v, --verbose     verbose mode\n    -V, --version     display version number\n    -1, --fast        compress faster\n    -9, --best        compress better\n\nWith no FILE, or when FILE is -, read standard input.]])return elseif k==\"-k\"or k==\"--keep\"then f=true elseif k==\"-l\"or k==\"--list\"then c=2 elseif k==\"-t\"or k==\"--test\"then c=3 elseif k==\"-v\"or k==\"--verbose\"then i=true elseif k==\"-V\"or k==\"--version\"then print(\"gzip v1.0\")return elseif k==\"-1\"or k==\"--fast\"then h=1 elseif k==\"-9\"or k==\"--best\"then h=9 elseif d==nil then if k==\"-\"then d=\"stdin\"e=\"stdout\"else d=k end end end;if d==nil then d=\"stdin\"end;if e==nil then if c==0 and d~=\"stdin\"then e=d..\".gz\"elseif c==1 and d~=\"stdin\"then e=string.gsub(d,\".gz\",\"\")else e=\"stdout\"end end;local function l()if d==\"stdin\"then return io.stdin:read(\"*a\")else local m=assert(io.open(d,\"rb\"))local n=m:read(\"*a\")m:close()return n end end;local function o(p)if p==nil then error(d..\": not in gzip format\",2)end;if e==\"stdout\"then io.stdout:write(p)else local m=assert(io.open(e,\"wb\"))m:write(p)m:close()end;if i and e~=\"stdout\"then print(\"Wrote \"..string.len(p)..\" bytes\")end end;if e~=\"stdout\"and not g then local m=io.open(e,\"r\")if m then m:close()error(e..\": File exists\")end end;if c==0 then o(a:CompressGzip(l(),{level=h}))elseif c==1 then o(a:DecompressGzip(l()))elseif c==2 then local q=a.internal.GetGzipInfo(l())if q==nil then error(d..\": not in gzip format\")end;for j,k in pairs(q)do print(j,k)end elseif c==3 then local r,s=a:DecompressGzip(l())if r==nil then if s==-2 then error(d..\": invalid compressed data--crc error\")elseif s==-1 then error(d..\": not in gzip format\")elseif s==-3 then error(d..\" has unsupported flags\")elseif s==-4 then error(d..\": unknown method -- not supported\")else error(d..\": unknown error\")end end;if i then print(d..\":    OK\")end else error(\"This should never happen.\")end;if not f and d~=\"stdin\"and e~=\"stdout\"then os.remove(d)end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2686},["dpkg-divert.lua"]={created=1688258068610,type="file",modified=1688258064777,data="local a=require\"system.filesystem\"local b=require\"dpkg.divert\"local c={}local d=0;local e=\"/\"local f=nil;local g=\":\"local h=false;local i=nil;local j=false;local k=nil;for l,m in pairs({...})do if k then if k==0 then b.admindir=m elseif k==1 then e=m elseif k==2 then e=m;b.admindir=a.combine(m,\"var/lib/dpkg\")elseif k==3 then f=m elseif k==4 then g=m end;k=nil elseif m==\"--add\"then d=0 elseif m==\"--remove\"then d=1 elseif m==\"--list\"then d=2 elseif m==\"--listpackage\"then d=3 elseif m==\"--truename\"then d=4 elseif m==\"--admindir\"then k=0 elseif m==\"--instdir\"then k=1 elseif m==\"--root\"then k=2 elseif m==\"--divert\"then k=3 elseif m==\"--local\"then g=\":\"elseif m==\"--package\"then k=4 elseif m==\"--quiet\"then h=true elseif m==\"--rename\"then i=true elseif m==\"--no-rename\"then i=false elseif m==\"--test\"then j=true elseif m==\"-?\"or m==\"--help\"then print([[Usage: dpkg-divert [<option> ...] <command>\nCommands:\n  [--add] <file>           add a diversion.\n  --remove <file>          remove the diversion.\n  --list [<glob-pattern>]  show file diversions.\n  --listpackage <file>     show what package diverts the file.\n  --truename <file>        return the diverted file.]])return 2 elseif m==\"--version\"then print(\"dpkg-divert v1.0\\nPart of apt-lua for Phoenix\\nCopyright (c) 2019-2022 JackMacWindows.\")return 2 else table.insert(c,m)end end;if d==0 then if#c<1 then error(\"Usage: dpkg-divert [options...] [--add] <file>\")end;f=f or c[1]..\".distrib\"if g==\":\"and not h then print(\"Adding 'local diversion of \"..c[1]..\" to \"..f..\"'\")elseif not h then print(\"Adding 'diversion of \"..c[1]..\" to \"..f..\" by \"..g..\"'\")end;if not j then b.add(c[1],f,g)end;if i then a.move(c[1],f)end elseif d==1 then if#c<1 then error(\"Usage: dpkg-divert [options...] --remove <file>\")end;local n=b.parse()if n[c[1]]==nil then return end;if g==\":\"and not h then print(\"Removing 'local diversion of \"..c[1]..\" to \"..n[c[1]].name..\"'\")elseif not h then print(\"Removing 'diversion of \"..c[1]..\" to \"..n[c[1]].name..\" by \"..n[c[1]].package..\"'\")end;if not j then b.remove(c[1])end;if i then a.move(n[c[1]].name,c[1])end elseif d==2 then if h then return end;if#c<1 then error(\"Usage: dpkg-divert [options...] --list <glob>\")end;c[1]=string.gsub(c[1],\"%*\",\"%.%*\")for l,m in pairs(b.parse())do if string.match(l,c[1])then if m.package==\":\"then print(\"local diversion of \"..l..\" to \"..m.name)else print(\"diversion of \"..l..\" to \"..m.name..\" by \"..m.package)end end end elseif d==3 then if h then return end;if#c<1 then error(\"Usage: dpkg-divert [options...] --listpackage <file>\")end;local o=b.parse()[c[1]]if o~=nil then if o.package==\":\"then print(\"LOCAL\")else print(o.package)end end elseif d==4 then if h then return end;if#c<1 then error(\"Usage: dpkg-divert [options...] --truename <file>\")end;local o=b.parse()[c[1]]if o==nil then print(c[1])else print(o.name)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2840},["b2sum.lua"]={created=1688258013213,type="file",modified=1688258012716,data="local a=require\"sha2\"local b=require\"system.util\"local c=assert(b.argparse({b=false,binary=\"@b\",c=false,check=\"@c\",l=\"number\",length=\"@l\",tag=false,t=false,text=\"@t\",z=false,zero=\"@z\",[\"ignore-missing\"]=false,quiet=false,status=false,strict=false,w=false,warn=\"@w\",h=false,help=\"@h\",v=false,version=\"@v\"},...))if c.h then print[[\nUsage: b2sum [OPTION]... [FILE]...\nPrint or check BLAKE2b (512-bit) checksums.\n\nWith no FILE, or when FILE is -, read standard input.\n  -b, --binary          read in binary mode\n  -c, --check           read checksums from the FILEs and check them\n  -l, --length=BITS     digest length in bits; must not exceed the max for\n                          the blake2 algorithm and must be a multiple of 8\n      --tag             create a BSD-style checksum\n  -t, --text            read in text mode (default)\n  -z, --zero            end each output line with NUL, not newline,\n                          and disable file name escaping\n\nThe following five options are useful only when verifying checksums:\n      --ignore-missing  don't fail or report status for missing files\n      --quiet           don't print OK for each successfully verified file\n      --status          don't output anything, status code shows success\n      --strict          exit non-zero for improperly formatted checksum lines\n  -w, --warn            warn about improperly formatted checksum lines\n\n      --help        display this help and exit\n      --version     output version information and exit\n\nThe sums are computed as described in RFC 7693.\nWhen checking, the input should be a former output of this program.\nThe default mode is to print a line with: checksum, a space,\na character indicating input mode ('*' for binary, ' ' for text\nor where binary is insignificant), and name for each FILE.\n]]return elseif c.v then print(\"1.0\")return end;c[1]=c[1]or\"-\"for d,e in ipairs(c)do local f=e==\"-\"and io.stdin or assert(io.open(e,c.b and not c.t and\"rb\"or\"r\"))local g=a.blake2b(nil,nil,nil,c.l and c.l/8)local h;repeat local i=f:read(\"*L\")h=g(i)until not i;if f~=io.stdin then f:close()end;local j;if c.tag then j=\"BLAKE2b\"..(c.l and\"-\"..c.l or\"\")..\" (\"..e..\") = \"..h else j=h..\"  \"..e end;if c.z then io.stdout:write(j..\"\\0\")else print(j)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2247},["components.lua"]={created=1688258068480,type="file",modified=1688258064523,data="local a=require\"system.filesystem\"local b=require\"system.framebuffer\"local c=require\"system.ipc\"local d=require\"system.keys\"local e=require\"system.log\"local f=require\"system.network\"local g=require\"system.process\"local h=require\"system.terminal\"local i=require\"system.util\"local j=require\"dpkg.query\"if g.getuser()~=\"root\"then error(\"This program must be run as root.\")end;local k=\"https://phoenix.madefor.cc/packages/\"local l=h.openterm()local m=h.colors;l.setPaletteColor(m.orange,0xD06018)l.setPaletteColor(m.white,0xD8D8D8)local n,o=l.getSize()local p;local q={}local r;local s=true;local t={}local function u(v,w)local x={}local y=\"\"for z in v:gmatch\"%w*%W*\"do while z:find\"\\n\"do local A;A,z=z:match\"([^\\n]*)\\n(.*)\"if#y+#A<w then x[#x+1],y=y..A,\"\"else x[#x+1],y=y,A end end;if#y+#z<w then y=y..z else x[#x+1],y=y,z end end;x[#x+1]=y;return x end;local function B(C)l.setCursorPos(3,o)l.setBackgroundColor(m.white)l.setTextColor(m.black)l.clearLine()l.write(C)end;local function D(C)l.setBackgroundColor(m.orange)l.setTextColor(m.white)l.clear()l.setCursorBlink(false)l.setCursorPos(2,2)l.write(\"Phoenix Setup\")l.setCursorPos(1,3)l.write((\"\\x8C\"):rep(15))B(C)p=5;q={}r=nil end;local function E(v)local F=b.window(l,3,p,n-4,o-p)F.setBackgroundColor(m.orange)F.setTextColor(m.white)F.clear()local G=0;for H,I in ipairs(u(v:gsub(\"* \",\"\\7 \"),n-4))do F.setCursorPos(1,H)F.write(I)G=H end;F.reposition(3,p,n-4,G)p=p+G+1 end;local function J(K,L,M,N)K=K or o-p-3;local O=0;for P in pairs(L)do O=O+1 end;l.setBackgroundColor(m.orange)l.setTextColor(m.white)l.setCursorPos(3,p)l.write(\"\\x9C\"..(\"\\x8C\"):rep(n-6))l.setBackgroundColor(m.white)l.setTextColor(m.orange)l.write(\"\\x93\")for Q=1,K do l.setCursorPos(l.getCursorPos()-1,p+Q)l.write(\"\\x95\")end;l.setBackgroundColor(m.orange)l.setTextColor(m.white)for Q=1,K do l.setCursorPos(3,p+Q)l.write(\"\\x95\")end;l.setCursorPos(3,p+K+1)l.write(\"\\x8D\"..(\"\\x8C\"):rep(n-6)..\"\\x8E\")local H,w=p+1,n-7;local R=b.window(l,4,H,w,K)R.setBackgroundColor(m.orange)R.clear()local S=b.framebuffer(R,1,1,w,O)S.setBackgroundColor(m.orange)S.setTextColor(m.white)S.clear()local x={}local T,U=1,1;for V,W in pairs(L)do S.setCursorPos(1,T)S.write((W and(W==\"R\"and\"[-] \"or\"[\\xD7] \")or\"[ ] \")..V)x[T]={V,not not W}T=T+1 end;l.setCursorPos(w+4,H+K-1)l.blit(1<O-K+1 and\"\\31\"or\" \",\"0\",\"1\")S.setCursorPos(2,U)S.setCursorBlink(true)r=S.restoreCursor;q[#q+1]=coroutine.create(function()local X=1;while true do local Y,Z=coroutine.yield()local _;if Y==\"key\"then if Z.keycode==d.up then _=-1 elseif Z.keycode==d.down then _=1 elseif Z.keycode==d.space and L[x[U][1]]~=\"R\"then x[U][2]=not x[U][2]S.setCursorPos(2,U)S.write(x[U][2]and\"\\xD7\"or\" \")if N and N(x[U][1],x[U][2])then for Q,W in ipairs(x)do local a0=L[W[1]]==\"R\"and\"R\"or W[2]S.setCursorPos(2,Q)S.write(a0 and(a0==\"R\"and\"-\"or\"\\xD7\")or\" \")end end;S.setCursorPos(2,U)elseif Z.keycode==d.enter then local a1={}for P,W in ipairs(x)do a1[W[1]]=L[W[1]]==\"R\"or W[2]end;M(a1)end elseif Y==\"mouse_scroll\"and Z.x>=4 and Z.x<4+w and Z.y>=H and Z.y<H+K then _=Z.direction end;if _ and(U+_>=1 and U+_<=O)then U=U+_;if U-X<0 or U-X>=K then X=X+_;S.reposition(1,2-X)end;S.setCursorPos(2,U)end;l.setCursorPos(w+4,H)l.blit(X>1 and\"\\30\"or\" \",\"0\",\"1\")l.setCursorPos(w+4,H+K-1)l.blit(X<O-K+1 and\"\\31\"or\" \",\"0\",\"1\")S.restoreCursor()end end)p=p+K+2 end;local function a2()l.setBackgroundColor(m.orange)l.setTextColor(m.white)l.setCursorPos(3,p)l.write(\"\\x9C\"..(\"\\x8C\"):rep(n-6))l.setBackgroundColor(m.white)l.setTextColor(m.orange)l.write(\"\\x93\")l.setCursorPos(l.getCursorPos()-1,p+1)l.write(\"\\x95\")l.setBackgroundColor(m.orange)l.setTextColor(m.white)l.setCursorPos(3,p+1)l.write(\"\\x95\")l.setCursorPos(3,p+2)l.write(\"\\x8D\"..(\"\\x8C\"):rep(n-6)..\"\\x8E\")local F=b.window(l,4,p+1,n-6,1)F.setBackgroundColor(m.orange)F.setTextColor(m.white)F.clear()p=p+4;return function(a3)F.setCursorPos(1,1)F.setBackgroundColor(m.orange)F.clearLine()F.setBackgroundColor(m.white)F.write((\" \"):rep(a3*(n-6)))end end;local function a4(a5)q[#q+1]=coroutine.create(function()while true do local Y,Z=coroutine.yield()if Y==\"key\"and a5[Z.keycode]then a5[Z.keycode](Z.keycode)end end end)end;local function a6()s=true;for P,W in ipairs(q)do coroutine.resume(W)end;while s do if r then r()end;local Y,Z=coroutine.yield()for P,W in ipairs(q)do local a7=table.pack(coroutine.resume(W,Y,Z))while a7[1]and a7[2]~=nil do a7=table.pack(coroutine.resume(W,coroutine.yield(table.unpack(a7,1,a7.n))))end end end end;local a8={}function a8.message(a9,aa,ab)D(\"ENTER=Back\")E(aa)a4{[d.enter]=function()s=false end}a6()return ab(a9)end;function a8.loading(a9)D(\"Downloading package list...\")E(\"Please wait while Setup initializes.\")local ac,ad=f.get(k..\"Packages\")if not ac or ac:status()==\"error\"or ac:responseCode()~=200 then return a8.message(a9,\"An error occurred while initializing Setup: Could not download package list: \"..(ad or select(2,ac:status())or ac:responseCode())..\"\\n\\nSetup cannot continue. Press ENTER to exit.\",function()end)end;local ae;for I in function()return ac:read(\"*l\")end do local V,W=I:match(\"^([%w%-]+):%s*(.+)$\")if V then if V==\"Package\"then ae=W;t[ae]={}elseif V==\"Size\"then t[ae].pkgsize=tonumber(W)elseif V==\"Installed-Size\"then t[ae].filesize=tonumber(W)*1024 elseif V==\"Priority\"then t[ae].priority=W elseif V==\"Essential\"then t[ae].essential=true elseif V==\"Depends\"then local af={}for A in W:gmatch\"[^,]+\"do af[A:match\"[%w%-]+\"]=true end;t[ae].depends=af end end end;ac:close()B(\"Checking installed packages...\")a9.installed=j.readDatabase()return a8.components(a9)end;function a8.components(a9)local ab;D(\"ENTER=Continue  SPACE=Toggle  TAB=Quit\")E(\"Select the components to install from the list below.\\n[-] = required, [\\xD7] = selected\")local L={}for V,W in pairs(t)do if V~=\"stage2-tarball\"then if W.essential or W.priority==\"required\"then L[V]=\"R\"else L[V]=a9.installed[V]~=nil and a9.installed[V].Status:match\"^deinstall \"==nil end end end;local function ag()local function ah(ae)if L[ae]and t[ae].depends then for V in pairs(t[ae].depends)do L[V]=\"R\"ah(V)end end end;for V,W in pairs(L)do L[V]=(t[V].essential or t[V].priority==\"required\")and\"R\"or not not W end;for V in pairs(L)do ah(V)end end;ag()J(nil,L,function(ai)a9.components={}local a1,aj={},{}for V,W in pairs(ai)do if W then local af={}for ak,w in pairs(t[V].depends or{})do af[ak]=w end;aj[V]=af;if not _G.next(af)then a1[#a1+1]=V end end end;while#a1>0 do local al=table.remove(a1)a9.components[#a9.components+1]=al;for V,W in pairs(aj)do if W[al]then W[al]=nil;if not _G.next(W)then a1[#a1+1]=V end end end end;ab,s=true,false end,function(V,W)L[V]=W;ag()return true end)a4{[d.tab]=function()s=false end}a6()if ab then return a8.confirm(a9)else return false end end;function a8.confirm(a9)D(\"Calculating packages to install...\")a9.install,a9.remove={},{}local ai={}local am={}for P,W in ipairs(a9.components)do am[W]=true;if not a9.installed[W]or a9.installed[W].Status:match\"^deinstall \"then a9.install[#a9.install+1]=W end end;for V,W in pairs(t)do if not am[V]and(a9.installed[V]and not a9.installed[V].Status:match\"^deinstall \")then ai[V]=true end end;local a1,aj={},{}for V in pairs(ai)do local af={}for ak,w in pairs(t[V].depends or{})do af[ak]=w end;aj[V]=af;if not _G.next(af)then a1[#a1+1]=V end end;while#a1>0 do local al=table.remove(a1)a9.remove[#a9.remove+1]=al;for V,W in pairs(aj)do if W[al]then W[al]=nil;if not _G.next(W)then a1[#a1+1]=V end end end end;local ab;B(\"ENTER=Install  TAB=Back  Q=Quit\")E(\"The following changes will be made:\\nTo install: \"..table.concat(a9.install,\", \")..\"\\nTo remove: \"..table.concat(a9.remove,\", \")..\"\\n\\nPress ENTER to install.\")a4{[d.enter]=function()ab,s=true,false end,[d.tab]=function()ab,s=false,false end,[d.q]=function()s=false end}a6()if ab then return a8.download(a9)elseif ab==false then return a8.components(a9)else return false end end;function a8.download(a9)pcall(e.create,\"install\",false,\"/var/log/install.log\")if#a9.install==0 then return a8.remove(a9)end;D(\"\")E\"Downloading components...\"local a3=a2()local an=0;for P in pairs(a9.install)do an=an+1 end;local al=0;a.mkdir(\"/tmp/pkg\")a.mount(\"tmpfs\",\"tmpfs\",\"/tmp/pkg\",{})for P,V in ipairs(a9.install)do B(\"Downloading: \"..V)local ac,ad=f.get{url=k..V..\".deb\",encoding=\"binary\"}if not ac then return a8.message(a9,\"An error occurred while downloading the \"..V..\" component. Installation cannot continue.\\n\\nPress ENTER to exit.\\n\\nError message: \"..ad,function()return false end)end;local ao,ad=io.open(\"/tmp/pkg/\"..V..\".deb\",\"wb\")if not ao then ac:close()return a8.message(a9,\"An error occurred while saving the \"..V..\" component. Installation cannot continue.\\n\\nPress ENTER to exit.\\n\\nError message: \"..ad,function()return false end)end;ao:write(ac:read(\"*a\"))ac:close()ao:close()al=al+1;a3(al/an)end;return a8.install(a9)end;function a8.install(a9)D(\"\")E\"Please wait while Phoenix installs the requested components.\"l.setCursorPos(3,p)l.write(\"\\x9C\"..(\"\\x8C\"):rep(n-6))l.setBackgroundColor(m.white)l.setTextColor(m.orange)l.write(\"\\x93\")for Q=p+1,o-2 do l.setCursorPos(l.getCursorPos()-1,Q)l.write(\"\\x95\")end;l.setBackgroundColor(m.orange)l.setTextColor(m.white)for Q=p+1,o-2 do l.setCursorPos(3,Q)l.write(\"\\x95\")end;l.setCursorPos(3,o-1)l.write(\"\\x8D\"..(\"\\x8C\"):rep(n-6)..\"\\x8E\")local ap=h.mktty(n-6,o-9)local aq=g.fork(function()h.stdout(ap)while true do local Y,Z=coroutine.yield()if Y==\"remote_event\"then if Z.type==\"write\"then e.install.log(Z.data.data)io.stdout:write(Z.data.data)elseif Z.type==\"exit\"then break end end end end,\"tty helper\")g.newthread(function()while s do for H=1,ap.size.height do l.setCursorPos(4,H+7)l.blit(table.unpack(ap[H]))end;i.sleep(0.2)end end)local function ar(...)local as=g.fork(function(...)h.stdout({write=function(at)c.sendEvent(aq,\"write\",{data=at})end})g.exec(...)end,\"\",...)while true do local Y,Z=coroutine.yield()if Y==\"process_complete\"and Z.id==as then if Z.error or Z.traceback then s=false;c.sendEvent(aq,\"exit\",{})D(\"ENTER=Exit\")E[[\nAn error occurred while installing the specified components.\n\nPress ENTER to exit.]]B(\"ENTER=Reboot\")repeat local Y,Z=coroutine.yield()until Y==\"key\"and Z.keycode==10;return false end;break end end end;for P,V in ipairs(a9.install)do B(\"Installing: \"..V)e.install.log(\"Installing:\",V)ar(\"/usr/bin/dpkg.lua\",\"-i\",\"/tmp/pkg/\"..V..\".deb\")end;pcall(c.kill,aq,c.signal.SIGTERM)a.unmount(\"/tmp/pkg\")a.remove(\"/tmp/pkg\")return a8.remove(a9)end;function a8.remove(a9)if#a9.remove==0 then return a8.complete(a9)end;D(\"\")E\"Please wait while Phoenix removes the requested components.\"l.setCursorPos(3,p)l.write(\"\\x9C\"..(\"\\x8C\"):rep(n-6))l.setBackgroundColor(m.white)l.setTextColor(m.orange)l.write(\"\\x93\")for Q=p+1,o-2 do l.setCursorPos(l.getCursorPos()-1,Q)l.write(\"\\x95\")end;l.setBackgroundColor(m.orange)l.setTextColor(m.white)for Q=p+1,o-2 do l.setCursorPos(3,Q)l.write(\"\\x95\")end;l.setCursorPos(3,o-1)l.write(\"\\x8D\"..(\"\\x8C\"):rep(n-6)..\"\\x8E\")local ap=h.mktty(n-6,o-9)local aq=g.fork(function()h.stdout(ap)while true do local Y,Z=coroutine.yield()if Y==\"remote_event\"then if Z.type==\"write\"then e.install.log(Z.data.data)io.stdout:write(Z.data.data)elseif Z.type==\"exit\"then break end end end end,\"tty helper\")g.newthread(function()while s do for H=1,ap.size.height do l.setCursorPos(4,H+7)l.blit(table.unpack(ap[H]))end;i.sleep(0.2)end end)local function ar(...)local as=g.fork(function(...)h.stdout({write=function(at)c.sendEvent(aq,\"write\",{data=at})end})g.exec(...)end,\"\",...)while true do local Y,Z=coroutine.yield()if Y==\"process_complete\"and Z.id==as then if Z.error or Z.traceback then s=false;c.sendEvent(aq,\"exit\",{})D(\"ENTER=Exit\")E[[\nAn error occurred while removing the specified components.\n\nPress ENTER to exit.]]B(\"ENTER=Reboot\")repeat local Y,Z=coroutine.yield()until Y==\"key\"and Z.keycode==10;return false end;break end end end;for Q=#a9.remove,1,-1 do local V=a9.remove[Q]B(\"Removing: \"..V)e.install.log(\"Removing:\",V)ar(\"/usr/bin/dpkg.lua\",\"-r\",V)end;pcall(c.kill,aq,c.signal.SIGTERM)return a8.complete(a9)end;function a8.complete(a9)local ab;D(\"ENTER=Exit  R=Reboot\")E[[\nThe selected components have successfully been installed or removed. It is recommended to reboot your system to ensure all components were installed properly.\n\n* Press R to reboot your system now.\n* Press ENTER to exit without rebooting.]]a4{[d.enter]=function()ab,s=false,false end,[d.r]=function()ab,s=true,false end}a6()e.remove(\"install\")if ab then local as=c.lookup(\"ServiceManager\")if as then c.sendEvent(as,\"startmgr.request\",{func=\"reboot\"})else i.syscall.devcall(\"/\",\"reboot\")end else return true end end;return a8.loading{}\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=12537},["unxz.lua"]={created=1688258012363,type="file",modified=1688258012149,data="local a=require\"muxzcat\"local b=setmetatable({},{__index=function(self,c)return function(...)local d=table.pack(coroutine.yield(\"syscall\",c,...))if d[1]then return table.unpack(d,2,d.n)else error(d[2],2)end end end,__newindex=function()end})local function e()print([[Usage: unxz [OPTION]... [FILE]...\nDecompress FILEs in the .xz format.\n\n  -k, --keep         keep (don't delete) input files\n  -f, --force        force overwrite of output file\n  -c, --stdout       write to standard output and don't delete input files\n  -h, --help         display this help and exit\n  -V, --version      display the version number and exit\n\nReport bugs to https://github.com/MCJack123/CC-Archive/issues.\nUses JackMacWindows's Lua port of muxzcat. Licensed under GPL v2.0.]])end;local f={}local g=false;local h=false;local i=false;local j=false;for k,l in ipairs({...})do if#l==2 then if l==\"-z\"or l==\"-t\"or l==\"-l\"then error(\"unxz: This program only supports decompression.\")elseif l==\"-k\"then g=true elseif l==\"-f\"then h=true elseif l==\"-c\"then i=true;g=true elseif l==\"-h\"then return e()elseif l==\"-V\"then print(\"unxz 0.9 for Phoenix\")return end elseif l:sub(1,2)==\"--\"then if l==\"--compress\"or l==\"--test\"or l==\"--list\"then error(\"unxz: This program only supports decompression.\")elseif l==\"--keep\"then g=true elseif l==\"--force\"then h=true elseif l==\"--stdout\"or l==\"--to-stdout\"then i=true elseif l==\"--ignore-check\"then j=true elseif l==\"--help\"then return e()elseif l==\"--version\"then print(\"unxz 0.9 for Phoenix\")return end else table.insert(f,l)end end;local m=true;if#f==0 then error(\"unxz: Missing input. Type --help for help.\")end;for k,l in ipairs(f)do if not b.stat(l)then io.stderr:write(\"unxz: Could not open \"..l..\": File not found\\n\")elseif b.stat(l).type==\"directory\"then io.stderr:write(\"unxz: Could not open \"..l..\": Is a directory\\n\")elseif l:sub(-3)~=\".xz\"then io.stderr:write(\"unxz: \"..l..\": Filename has an unknown suffix, skipping\\n\")elseif not h and b.stat(l:sub(1,-4))then io.stderr:write(\"unxz: \"..l:sub(1,-4)..\": File exists\\n\")elseif i then local n=assert(io.open(l,\"rb\"))local o=n:read(\"*a\")n:close()local p,q=a.DecompressXzOrLzmaString(o)if p==nil then io.stderr:write(\"unxz: \"..l..\": Could not decompress: \"..a.GetError(q)..\"\\n\")m=false else io.stdout:write(p)end else local r,q=a.DecompressXzOrLzmaFile(l,l:sub(1,-4))if not r then io.stderr:write(\"unxz: \"..l..\": Could not decompress: \"..a.GetError(q)..\"\\n\")m=false elseif not g then os.remove(l)end end end;return m\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2485},["sudo.lua"]={created=1688258011656,type="file",modified=1688258010989,data="local a=require\"usermgr\"local b=require\"system.ipc\"local c=require\"system.process\"local d=require\"system.terminal\"local e=require\"system.util\"local f=assert(e.argparse({[\"\"]={stopProcessingOnPositionalArgument=true},D=true,chdir=\"@D\",E=false,[\"preserve-env\"]=\"@E\",H=false,[\"set-home\"]=\"@H\",i=false,login=\"@i\",K=false,[\"remove-timestamp\"]=\"@K\",k=false,[\"reset-timestamp\"]=\"@k\",l=false,list=\"@l\",n=false,[\"non-interactive\"]=\"@n\",p=true,prompt=\"@p\",R=true,chroot=\"@R\",s=false,shell=\"@s\",U=true,[\"other-user\"]=\"@U\",T=\"number\",[\"command-timeout\"]=\"@T\",u=true,user=\"@u\",v=false,validate=\"@v\",V=false,version=\"@V\",h=false,help=\"@h\"},...))local g,h=c.getuser()if g~=\"root\"then error(\"This program must be run as root. Make sure the setuser bit is set.\")end;if not f[1]or f.h then print(\":help\")return end;local i=f.u or f.user or\"root\"io.stdout:write(\"Password: \")d.termctl({echo=false})local j=io.stdin:read()d.termctl({echo=true})print()local k,l=a.authenticate(h,j)if l then print(l)end;if k then local m=a.getUserInfo(i)local n=c.fork(function()c.setuser(i)if m and m.home then c.getenv().HOME=m.home;c.chdir(m.home)end;c.execp(table.unpack(f))end)for o,p in pairs(b.signal)do b.sigaction(p,function()b.kill(n,p)end)end;repeat local q,r=coroutine.yield()until q==\"process_complete\"and r.id==n else print(\"sudo: Sorry\")end\n",setuser=true,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1318},["su.lua"]={created=1688258011639,type="file",modified=1688258010969,data="local a=require\"usermgr\"local b=require\"system.ipc\"local c=require\"system.process\"local d=require\"system.terminal\"local e=require\"system.util\"local f=assert(e.argparse({[\"\"]={stopProcessingOnPositionalArgument=true},s=true,shell=\"@s\"},...))local g=f.s or f.shell;local h=f[1]or\"root\"io.stdout:write(\"Password: \")d.termctl({echo=false})local i=io.stdin:read()d.termctl({echo=true})print()local j,k=a.authenticate(h,i)if k then print(k)end;if j then local l=a.getUserInfo(h)local m=c.fork(function()c.setuser(h)if l and l.home then c.getenv().HOME=l.home;c.chdir(l.home)end;if g then c.exec(g,table.unpack(f,2))elseif l and l.shell then c.exec(l.shell,table.unpack(f,2))else c.exec(\"/bin/sh\",table.unpack(f,2))end end)for n,o in pairs(b.signal)do b.sigaction(o,function()b.kill(m,o)end)end;repeat local p,q=coroutine.yield()until p==\"process_complete\"and q.id==m else print(\"su: Sorry\")end\n",setuser=true,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=888},["sha1sum.lua"]={created=1688258013253,type="file",modified=1688258012799,data="return coroutine.yield(\"syscall\",\"exec\",\"/usr/bin/shasum\",\"-a\",\"1\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=72},["login.lua"]={created=1688258011593,type="file",modified=1688258010926,data="local a=require\"usermgr\"local b=require\"system.ipc\"local c=require\"system.process\"local d=require\"system.terminal\"local e=require\"system.util\"print()while b.lookup(\"usermgr\")==nil do e.sleep(0.1)end;if c.getuser()~=\"root\"then error(\"This program must be run as root. Make sure the setuser bit is set.\")end;for f,g in pairs(b.signal)do b.sigaction(g,nil)end;b.sigaction(b.signal.SIGHUP,function()return c.exit(-1)end)while true do print(\"Phoenix \"..e.syscall.version()..\"\\n\")io.stdout:write(\"login: \")local h=io.stdin:read()for i=1,3 do io.stdout:write(\"Password: \")d.termctl({echo=false})local j=io.stdin:read()d.termctl({echo=true})print()local k,l=a.authenticate(h,j)if l then print(l)end;if not k and(l==\"No password set\"or l==\"Password expired\")then repeat until c.run(\"/usr/bin/passwd.lua\",h)end;if k then local m=io.open(\"/etc/motd\",\"r\")if m then print(m:read(\"*a\"))m:close()end;local n=a.getUserInfo(h)local o=c.fork(function()c.setuser(h)if n and n.home then c.getenv().HOME=n.home;c.chdir(n.home)end;if n and n.shell then c.exec(n.shell)else c.exec(\"/bin/sh\")end end)for f,g in pairs(b.signal)do b.sigaction(g,function()b.kill(o,g)end)end;b.sigaction(b.signal.SIGHUP,function()b.kill(o,b.signal.SIGHUP)return c.exit(-1)end)repeat local p,q=coroutine.yield()until p==\"process_complete\"and q.id==o;for f,g in pairs(b.signal)do b.sigaction(g,nil)end;b.sigaction(b.signal.SIGHUP,function()return c.exit(-1)end)break else if i==3 then print(\"login: 3 incorrect password attempts\\n\")e.sleep(2)end end end end\n",setuser=true,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1512},["shasum.lua"]={created=1688258013356,type="file",modified=1688258012976,data="local a=require\"sha2\"local b=require\"system.util\"local c=assert(b.argparse({a=true,algorithm=\"@a\",b=false,binary=\"@b\",c=false,check=\"@c\",tag=false,t=false,text=\"@t\",U=false,UNIVERSAL=\"@U\",[\"0\"]=false,[\"01\"]=\"@0\",[\"ignore-missing\"]=false,q=false,quiet=\"@q\",s=false,status=\"@s\",strict=false,w=false,warn=\"@w\",h=false,help=\"@h\",v=false,version=\"@v\"},...))if c.h then print[[\nUsage: shasum [OPTION]... [FILE]...\nPrint or check SHA checksums.\nWith no FILE, or when FILE is -, read standard input.\n\n    -a, --algorithm   1 (default), 224, 256, 384, 512, 512224, 512256\n    -b, --binary      read in binary mode\n    -c, --check       read SHA sums from the FILEs and check them\n        --tag         create a BSD-style checksum\n    -t, --text        read in text mode (default)\n    -U, --UNIVERSAL   read in Universal Newlines mode\n                        produces same digest on Windows/Unix/Mac\n    -0, --01          read in BITS mode\n                        ASCII '0' interpreted as 0-bit,\n                        ASCII '1' interpreted as 1-bit,\n                        all other characters ignored\n\nThe following five options are useful only when verifying checksums:\n        --ignore-missing  don't fail or report status for missing files\n    -q, --quiet           don't print OK for each successfully verified file\n    -s, --status          don't output anything, status code shows success\n        --strict          exit non-zero for improperly formatted checksum lines\n    -w, --warn            warn about improperly formatted checksum lines\n\n    -h, --help        display this help and exit\n    -v, --version     output version information and exit\n\nWhen verifying SHA-512/224 or SHA-512/256 checksums, indicate the\nalgorithm explicitly using the -a option, e.g.\n\n    shasum -a 512224 -c checksumfile\n\nThe sums are computed as described in FIPS PUB 180-4.  When checking,\nthe input should be a former output of this program.  The default\nmode is to print a line with checksum, a character indicating type\n(`*' for binary, ` ' for text, `U' for UNIVERSAL, `^' for BITS),\nand name for each FILE.  The line starts with a `\\' character if the\nFILE name contains either newlines or backslashes, which are then\nreplaced by the two-character sequences `\\n' and `\\\\' respectively.\n]]return elseif c.v then print(\"1.0\")return end;c[1]=c[1]or\"-\"for d,e in ipairs(c)do local f=e==\"-\"and io.stdin or assert(io.open(e,c.b and not c.t and\"rb\"or\"r\"))local g;if c.a==\"1\"or not c.a then g=a.sha1()elseif c.a==\"224\"then g=a.sha224()elseif c.a==\"256\"then g=a.sha256()elseif c.a==\"384\"then g=a.sha384()elseif c.a==\"512\"then g=a.sha512()elseif c.a==\"512224\"then g=a.sha512_224()elseif c.a==\"512256\"then g=a.sha512_256()else error(\"shasum: invalid algorithm \"..c.a)end;local h;repeat local i=f:read(\"*L\")if i and c[\"0\"]then i=i:gsub(\"[^01]\",\"\"):gsub(\"........\",function(j)return string.char(tonumber(j,2))end)end;h=g(i)until not i;if f~=io.stdin then f:close()end;if c.tag then print(\"SHA\"..(c.a or\"1\"):gsub(\"(...)(...)\",\"%1/%2\")..\" (\"..e..\") = \"..h)else print(h..\"  \"..e)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=3059},["dpkg-deb.lua"]={created=1688258068547,type="file",modified=1688258064647,data="local a=require\"system.filesystem\"local b=require\"system.process\"local c=require\"ar\"local d=require\"dpkg.deb\"local e=require\"tar\"local function f(g)return string.match(g,'^()[%s%z]*$')and''or string.match(g,'^[%s%z]*(.*[^%s%z])')end;local function h(i,j,k)return string.len(i)<j and string.sub(i,1,j)..string.rep(k or\" \",j-string.len(i))or i end;local function l(i,j,k)return string.len(i)<j and string.rep(k or\" \",j-string.len(i))..string.sub(i,1,j)or i end;local function m(n,o,p)a.mkdir(o)local q={}for r,s in pairs(n)do if r~=\"//\"and type(r)==\"string\"then local t=a.combine(o,r)if s[\"//\"]~=nil then local u=m(s,t,true)for v,w in pairs(u)do table.insert(q,w)end elseif s.type==1 or s.type==2 then table.insert(q,s)elseif s.type==0 or s.type==7 then local x=a.open(t,\"wb\")for g in string.gmatch(s.data,\".\")do x.write(string.byte(g))end;x.close()if s.owner~=nil then a.chmod(t,nil,bit32.band(s.mode,7))if s.ownerName~=nil and s.ownerName~=\"\"then a.chmod(t,s.ownerName,bit32.band(bit32.rshift(s.mode,3),7))a.chown(t,s.ownerName)elseif s.owner==0 then a.chmod(t,\"root\",bit32.band(bit32.rshift(s.mode,3),7))a.chown(t,\"root\")end end elseif s.type~=nil then print(\"Unimplemented type \"..s.type)end;if d.verbose then print((s[\"//\"]and s[\"//\"].name or s.name or\"?\")..\" => \"..(t or\"?\"))end end end;if p then return q else for r,s in pairs(q)do end end end;local function y(z,i,k)local A=\"\"for B=1,string.len(i)do A=A..(bit32.band(z,bit32.lshift(1,string.len(i)-B))==0 and k or string.sub(i,B,B))end;return A end;local C=nil;local D=false;local E=5;local F=\"${Package}\\t${Version}\\n\"local G=true;local H=true;local I={}for r,s in pairs({...})do if s==\"-b\"or s==\"--build\"then C=0 elseif s==\"-I\"or s==\"--info\"then C=1 elseif s==\"-W\"or s==\"--show\"then C=2 elseif s==\"-f\"or s==\"--field\"then C=3 elseif s==\"-c\"or s==\"--contents\"then C=4 elseif s==\"-x\"or s==\"--extract\"then C=5 elseif s==\"-X\"or s==\"--vextract\"then C=5;d.verbose=true elseif s=='-R'or s==\"--raw-extract\"then C=7 elseif s==\"--ctrl-tarfile\"then C=5;D=true elseif s==\"--fsys-tarfile\"then C=6;D=true elseif s==\"-e\"or s==\"--control\"then C=6 elseif s==\"-?\"or s==\"--help\"then print([[Usage: dpkg-deb [<option> ...] <command>\nCommands:\n  -b|--build <directory> [<deb>]     Build an archive.\n  -c|--contents <deb>                List contents.\n  -I|--info <deb> [<cfile> ...]      Show info to stdout.\n  -W|--show <deb>                    Show information on package(s)\n  -f|--field <deb> [<cfield> ...]    Show field(s) to stdout.\n  -e|--control <deb> [<directory>]   Extract control info.\n  -x|--extract <deb> <directory>     Extract files.\n  -X|--vextract <deb> <directory>    Extract & list files.\n  -R|--raw-extract <deb> <directory> Extract control info and files.\n  --ctrl-tarfile <deb>               Output control tarfile.\n  --fsys-tarfile <deb>               Output filesystem tarfile.\n  -?, --help                         Show this help message.\n      --version                      Show the version.]])return 2 elseif s==\"--version\"then print(\"dpkg-deb v1.0\\nPart of apt-lua for Phoenix\\nCopyright (c) 2019-2022 JackMacWindows.\")return 2 elseif string.find(s,\"--showformat=\")==1 then F=string.sub(s,14)elseif string.sub(s,1,2)==\"-z\"then E=tonumber(string.sub(s,3))elseif s==\"--no-uniform-compression\"then G=false elseif s==\"--uniform-compression\"then G=true elseif s==\"--nocheck\"then H=false elseif s==\"-v\"or s==\"--verbose\"then d.verbose=true else table.insert(I,s)end end;F=string.gsub(string.gsub(F,\"\\\\n\",\"\\n\"),\"\\\\t\",\"\\t\")if C==0 then if#I<1 then error(\"Usage: dpkg-deb [options...] --build <binary-directory> [archive|directory]\")end;local J=I[1]local K=I[2]or J..\".deb\"if not a.isDir(J)then error(J..\" is not a directory\")elseif not a.isDir(a.combine(J,\"DEBIAN\"))then error(\"A subdirectory named DEBIAN is required.\")end;if d.verbose and a.isDir(K)then print(\"Output is a directory, forcing check\")end;if H or a.isDir(K)then local x=a.open(a.combine(J,\"DEBIAN/control\"),\"r\")if not x then error(\"Control file not found.\")end;local A={}local L=nil;local M=x.readLine()local B=1;while M~=nil do if string.sub(M,1,1)==\" \"and L~=nil then if L==\"Description\"then if type(A[L])==\"string\"then A[L]={Short=A[L],Long=\"\"}end;A[L].Long=A[L].Long..(string.sub(M,2)==\".\"and\"\\n\\n\"or string.sub(M,2))else A[L]=A[L]..(string.sub(M,2)==\".\"and\"\\n\"or string.sub(M,2))end else if string.find(M,\":\")==nil then x.close()error(\"Error while checking control (line \"..B..\"): Missing separator\\n    \"..M)end;L=string.sub(M,1,string.find(M,\":\")-1)A[L]=f(string.sub(M,string.find(M,\":\")+1))end;M=x.readLine()B=B+1 end;x.close()if A.Package==nil then error(\"Error while checking control: Missing \\\"Package\\\" field\")end;if A.Version==nil then error(\"Error while checking control: Missing \\\"Version\\\" field\")end;if A.Architecture==nil then error(\"Error while checking control: Missing \\\"Architecture\\\" field\")end;if A.Maintainer==nil then error(\"Error while checking control: Missing \\\"Maintainer\\\" field\")end;if A.Description==nil then error(\"Error while checking control: Missing \\\"Description\\\" field\")end;if a.isDir(K)then K=a.combine(K,A.Package..\"_\"..A.Version..\"_\"..A.Architecture..\".deb\")end;print(\"Successfully checked package \\\"\"..A.Package..\"\\\".\")end;if d.verbose then print(\"Creating control archive...\")end;local N=e.save(e.pack(a.combine(J,\"DEBIAN\")))if d.verbose then print(\"Creating data archive...\")end;local n=e.pack(J)n.DEBIAN=nil;local O=e.save(n)if d.verbose then print(\"Compressing archives...\")end;local P=LibDeflate:CompressGzip(N,{level=G and E or 5})local Q=LibDeflate:CompressGzip(O,{level=E})if d.verbose then print(\"Writing package...\")end;c.save({{name=\"debian-binary\",timestamp=os.time(),owner=0,group=0,mode=0x1FF,data=\"2.0\\n\"},{name=\"control.tar.gz\",timestamp=os.time(),owner=0,group=0,mode=0x1FF,data=P},{name=\"data.tar.gz\",timestamp=os.time(),owner=0,group=0,mode=0x1FF,data=Q}},K)elseif C==1 then if#I<1 then error(\"Usage: dpkg-deb [options...] --info <archive> [control-file-name...]\")end;local R=d.load(I[1])print(\"new Debian package, version 2.0.\")print(\"size \"..R.data_size..\" bytes: control archive=\"..R.control_size..\" bytes.\")local S={}local T={0,0,0}for r,s in pairs(R.control_archive)do if r~=\"//\"then local U=0;for u in string.gmatch(s.data or\"\",\"[^\\n]+\")do U=U+1 end;local t={tostring(string.len(s.data or\"\")),tostring(U),r}for u,w in pairs(t)do if string.len(w)+2>T[u]then T[u]=string.len(w)+2 end end;table.insert(S,t)end end;for r,s in pairs(S)do print(l(s[1],T[1])..\" bytes,\"..l(s[2],T[2])..\" lines   \"..h(s[3],T[3]))end;print(R.control_archive.control.data)elseif C==2 then if#I<1 then error(\"Usage: dpkg-deb [options...] --show <archive>\")end;local R=d.load(I[1])io.write(({string.gsub(F,\"%${(.-)}\",R.control)})[1])elseif C==3 then if#I<1 then error(\"Usage: dpkg-deb [options...] --field <archive> [control-field-name...]\")end;local R=d.load(I[1])local function H(s)if type(s)==\"table\"then return s.Short..\"\\n\"..s.Long else return s end end;for r,s in pairs(R.control)do if#I>1 then for u,w in pairs(I)do if r==w then print(r..\": \"..H(s))break end end else print(r..\": \"..H(s))end end elseif C==4 then if#I<1 then error(\"Usage: dpkg-deb [options...] --contents <archive>\")end;local R=d.load(I[1],true)local V={}local T={0,0,0,0,0}for r,s in pairs(R.data)do local W=os.date(\"%F %R\",s.timestamp or 0)local t={y(s.mode+(s.type==5 and 0x200 or 0),\"drwxrwxrwx\",\"-\"),(s.ownerName or s.owner or 0)..\"/\"..(s.groupName or s.group or 0),string.len(s.data or\"\"),W,s.name..(s.link and s.link~=\"\"and\" -> \"..s.link or\"\")}for u,w in pairs(t)do if string.len(w)+1>T[u]then T[u]=string.len(w)+1 end end;table.insert(V,t)end;for r,s in pairs(V)do for u,w in pairs(s)do io.write((u==3 and l or h)(w,T[u])..(u==3 and\" \"or\"\"))end;print(\"\")end elseif C~=nil and C>=5 and C<=7 then if#I<1 or not D and C~=6 and#I<2 then error(\"Usage: dpkg-deb [options...] --extract <archive> <directory>\")end;local R=d.load(I[1],false,D)local X=I[2]or(C==6 and\"DEBIAN\"or b.getcwd())if not D then a.mkdir(X)end;if C~=6 then if D then print(R[2])else m(R.data,X)end end;if C~=5 then if D then print(R[1])else m(R.control_archive,C==7 and a.combine(X,\"DEBIAN\")or X)end end else error(\"Usage: dpkg-deb [options...] <command>\")end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=8167},["md5sum.lua"]={created=1688258013233,type="file",modified=1688258012763,data="local a=require\"sha2\"local b=require\"system.util\"local c=assert(b.argparse({b=false,binary=\"@b\",c=false,check=\"@c\",tag=false,t=false,text=\"@t\",z=false,zero=\"@z\",[\"ignore-missing\"]=false,quiet=false,status=false,strict=false,w=false,warn=\"@w\",h=false,help=\"@h\",v=false,version=\"@v\"},...))if c.h then print[[\nUsage: md5sum [OPTION]... [FILE]...\nPrint or check MD5 (128-bit) checksums.\n\nWith no FILE, or when FILE is -, read standard input.\n  -b, --binary          read in binary mode\n  -c, --check           read checksums from the FILEs and check them\n      --tag             create a BSD-style checksum\n  -t, --text            read in text mode (default)\n  -z, --zero            end each output line with NUL, not newline,\n                          and disable file name escaping\n\nThe following five options are useful only when verifying checksums:\n      --ignore-missing  don't fail or report status for missing files\n      --quiet           don't print OK for each successfully verified file\n      --status          don't output anything, status code shows success\n      --strict          exit non-zero for improperly formatted checksum lines\n  -w, --warn            warn about improperly formatted checksum lines\n\n      --help        display this help and exit\n      --version     output version information and exit\n\nThe sums are computed as described in RFC 1321.\nWhen checking, the input should be a former output of this program.\nThe default mode is to print a line with: checksum, a space,\na character indicating input mode ('*' for binary, ' ' for text\nor where binary is insignificant), and name for each FILE.\n]]return elseif c.v then print(\"1.0\")return end;c[1]=c[1]or\"-\"for d,e in ipairs(c)do local f=e==\"-\"and io.stdin or assert(io.open(e,c.b and not c.t and\"rb\"or\"r\"))local g=a.md5()local h;repeat local i=f:read(\"*L\")h=g(i)until not i;if f~=io.stdin then f:close()end;local j;if c.tag then j=\"MD5 (\"..e..\") = \"..h else j=h..\"  \"..e end;if c.z then io.stdout:write(j..\"\\0\")else print(j)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2010},["sha384sum.lua"]={created=1688258013316,type="file",modified=1688258012906,data="return coroutine.yield(\"syscall\",\"exec\",\"/usr/bin/shasum\",\"-a\",\"384\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=74},["update-initrd.lua"]={created=1688258076404,type="file",modified=1688258074777,data="local a=require\"system.filesystem\"local b=require\"system.process\"local c=assert(io.open(\"/etc/initrd/initrd.conf\",\"r\"))local d=c:read(\"*a\"):gsub(\"#\",\"--\")c:close()config={}assert(load(d,\"@/etc/initrd/initrd.conf\",\"t\",config))()rootDirectory=os.tmpname()a.mkdir(rootDirectory)for e,f in ipairs(a.list(\"/etc/initrd/hooks.d\"))do print(\"--> Running hook \"..f)dofile(\"/etc/initrd/hooks.d/\"..f)end;print(\"--> Creating initrd\")b.run(\"/usr/bin/mktablefs.lua\",rootDirectory,config.output_path or\"/boot/initrd.img\")print(\"=>  Finished creating initrd at \"..(config.output_path or\"/boot/initrd.img\"))\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=590},["sha256sum.lua"]={created=1688258013293,type="file",modified=1688258012869,data="return coroutine.yield(\"syscall\",\"exec\",\"/usr/bin/shasum\",\"-a\",\"256\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=74},["sha224sum.lua"]={created=1688258013273,type="file",modified=1688258012833,data="return coroutine.yield(\"syscall\",\"exec\",\"/usr/bin/shasum\",\"-a\",\"224\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=74},["update.lua"]={created=1688258068920,type="file",modified=1688258065313,data="local a=\"https://phoenix.madefor.cc/packages/\"local b=require\"system.filesystem\"local c=require\"system.network\"local d=require\"system.process\"local e=require\"dpkg.control\"local f=require\"dpkg.query\"if d.getuser()~=\"root\"then error(\"This program must be run as root.\")end;print(\"Checking for updates...\")local g,h=c.get(a..\"Packages\")if not g then error(\"Could not download package list: \"..h)elseif g:responseCode()~=200 then local i=g:responseCode()g:close()error(\"Could not download package list: HTTP \"..i)end;local j=e.parseControlList(g:read(\"*a\"))g:close()local k={}for l,m in ipairs(j)do k[m.Package]=m end;local n=f.readDatabase()local o={}for p,m in pairs(n)do if not m.Status:match\"^deinstall \"and k[p]and k[p].Version~=m.Version then o[#o+1]=p end end;if#o==0 then print(\"No updates available.\")return true end;table.sort(o,function(q,r)if q==\"dpkg\"then return true elseif r==\"dpkg\"then return false else return q<r end end)print(\"The following package updates are available:\")for l,m in ipairs(o)do print(\"  \"..m..\": \"..n[m].Version..\" -> \"..k[m].Version)end;io.write(\"Install these updates? (y/N) \")local s=io.read()if not s or s:lower()~=\"y\"then return false end;b.mkdir(\"/tmp/pkgcache\")b.mount(\"tmpfs\",\"tmpfs\",\"/tmp/pkgcache\",{})for l,m in ipairs(o)do print(\"Downloading \"..m..\" (\"..math.floor(k[m].Size/1024)..\" kiB)\")g,h=c.get{url=a..m..\".deb\",encoding=\"binary\"}if not g then b.unmount(\"/tmp/pkgcache\")error(\"Failed to download package: \"..h)elseif g:responseCode()~=200 then b.unmount(\"/tmp/pkgcache\")local i=g:responseCode()g:close()error(\"Failed to download package: HTTP \"..i)end;local t,h=b.open(\"/tmp/pkgcache/\"..m..\".deb\",\"wb\")if not t then g:close()b.unmount(\"/tmp/pkgcache\")error(\"Failed to write package: \"..h)end;t.write(g:read(\"*a\"))t.close()g:close()end;local u=true;for l,m in ipairs(o)do u=d.run(\"/usr/bin/dpkg\",\"-i\",\"/tmp/pkgcache/\"..m..\".deb\")and u end;b.unmount(\"/tmp/pkgcache\")print(\"Update complete. It may be necessary to reboot your computer to use the new software.\")return u\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2016}},modified=1688258076404,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}},modified=1688258011116,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},etc={created=1688258073907,type="directory",contents={startmgr={created=1688258010883,type="directory",contents={system={created=1688258028493,type="directory",contents={["startup.service.wants"]={created=1688258023456,type="directory",contents={["login.service"]={created=1688258011559,type="file",modified=1688258010889,data="local process = require \"system.process\"\n\nunit.description = \"Login Prompt\"\nunit.requires = {\"usermgr\"}\nunit.after = {\"usermgr\"}\nservice.restart = \"always\"\nservice.restartTime = 0\n\nfunction start()\n    service.pid[1] = process.start(\"/usr/bin/login\")\n    return true\nend\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=271},["automount.service"]={created=1688258023456,type="file",modified=1688258021073,data="local process = require \"system.process\"\n\nunit.description = \"Automatically mount filesystems\"\nservice.restart = \"no\"\nservice.restartTime = 0\n\nfunction start()\n    service.pid[1] = process.start(\"/bin/mount\", \"-a\")\n    return true\nend",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=234}},modified=1688258023456,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["usermgr.service"]={created=1688258011576,type="file",modified=1688258010906,data="local process = require \"system.process\"\n\nunit.description = \"User Manager\"\nservice.restart = \"always\"\nservice.restartTime = 0\n\nfunction start()\n    service.pid[1] = process.start(\"/usr/libexec/usermgr\")\n    return true\nend\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=224},["startup.service"]={created=1688258028493,type="file",modified=1688258026663,data="unit.description = \"Startup Tasks\"\nunit.requires = {}\n\nfunction start() return true end\nfunction stop() return true end",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=119}},modified=1688258028493,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}},modified=1688258010883,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},shadow={created=1688258078420,type="file",modified=1688258078420,data="phoenix:$5$atf2kZPrcjWCESpuOohJXA==$OTIxYmM2NTYwMWM5Y2M5MWZmMzhmNzc2OTRkNjQ4YTA1M2EzNzc0NmIxYjU4YzJkZGYyYjhkMWMwYjllNGJjYQ==:19540::::::\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=137},fstab={created=1688258023416,type="file",modified=1688258020999,data="tmpfs /tmp tmpfs defaults,auto 0 0\n/ /root craftos defaults,auto 0 0\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=35},passwd={created=1688258078420,type="file",modified=1688258078420,data="phoenix:x::::/home/phoenix:/bin/cash\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=37},motd={created=1688258011496,type="file",modified=1688258010819,data="\nWelcome to Phoenix, the next generation operating system for ComputerCraft.\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=77},skel={created=1688258011543,type="directory",contents={[".cashrc"]={created=1688258011543,type="file",modified=1688258010863,data="PS1=\"\\033[1;32m\\u@\\h\\033[39m:\\033[34m\\W\\033[0m\\$ \"",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=50}},modified=1688258011543,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},initrd={created=1688258076267,type="directory",contents={["hooks.d"]={created=1688258076200,type="directory",contents={["10-init.lua"]={created=1688258076200,type="file",modified=1688258074354,data="local a=[==[\nprint(\"initrd: init running\")\n]==]if config.hook_preflight then for b,c in ipairs(config.hook_preflight)do a=a..'print(\"initrd: running hook '..c..'\")\\ndofile(\"'..c..'\")\\n'end end;a=a..[==[\nprint(\"initrd: mounting root filesystem\")\nlocal _, args = coroutine.yield(\"syscall\", \"kernargs\")\nlocal options = {}\nif args.rootflags then\n    for m in args.rootflags:gmatch \"[^,]+\" do\n        local k, v = m:match(\"^([^=]+)=(.*)$\")\n        if k and v then\n            if v == \"true\" then options[k] = true\n            elseif v == \"false\" then options[k] = false\n            else options[k] = tonumber(v) or v end\n        else options[m] = true end\n    end\nend\ncoroutine.yield(\"syscall\", \"unmount\", \"/\")\nlocal ok, err = coroutine.yield(\"syscall\", \"mount\", args.rootfstype or \"craftos\", args.root, \"/\", options)\nif not ok then\n    coroutine.yield(\"syscall\", \"syslog\", {module = \"initrd\", level = 6}, \"initrd: could not mount root device: \" .. err .. \"\\n\")\n    while true do coroutine.yield() end\n    return false\nend\n-- TODO: reopen log file\n]==]if config.hook_postflight then for b,c in ipairs(config.hook_postflight)do a=a..'print(\"initrd: running hook '..c..'\")\\ndofile(\"'..c..'\")\\n'end end;a=a..[==[\nprint(\"initrd: starting real init\")\nif args.init then coroutine.yield(\"syscall\", \"exec\", args.init) end\nprint(\"Could not find provided init, trying default locations\")\ncoroutine.yield(\"syscall\", \"exec\", \"/sbin/init\")\ncoroutine.yield(\"syscall\", \"exec\", \"/etc/init\")\ncoroutine.yield(\"syscall\", \"exec\", \"/bin/init\")\ncoroutine.yield(\"syscall\", \"exec\", \"/bin/sh\")\nio.stderr:write(\"initrd: no working init found\")\nreturn false\n]==]local d=assert(io.open(rootDirectory..\"/init.lua\",\"w\"))d:write(a)d:close()\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1705},["01-files.lua"]={created=1688258076064,type="file",modified=1688258074100,data="if not config.modules then return end;local a=require\"system.filesystem\"for b,c in ipairs(config.files)do local d,e=c:match(\"^([^=]+)=(.+)$\")if not e then d,e=c,c end;e=a.combine(rootDirectory,e)a.copy(d,e,true)end\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=215},["00-modules.lua"]={created=1688258075997,type="file",modified=1688258073970,data="if not config.modules then return end;local a=require\"system.filesystem\"a.mkdir(a.combine(rootDirectory,\"lib/modules\"))for b,c in ipairs(config.modules)do local d=a.combine(rootDirectory,\"lib/modules\",c..\".lua\")a.copy(\"/lib/modules/\"..c..\".lua\",d)a.chmod(d,\"root\",\"rwx\")a.chmod(d,nil,\"r-x\")a.chown(d,\"root\")end\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=311},["05-shell.lua"]={created=1688258076130,type="file",modified=1688258074227,data="if not config.rescue_shell then return end;local a=require\"system.filesystem\"a.copy(\"/bin/cash.lua\",a.combine(rootDirectory,\"bin/cash.lua\"),true)a.copy(\"/bin/chmod.lua\",a.combine(rootDirectory,\"bin/chmod.lua\"),true)a.copy(\"/bin/chown.lua\",a.combine(rootDirectory,\"bin/chown.lua\"),true)a.copy(\"/bin/chroot\",a.combine(rootDirectory,\"bin/chroot.lua\"),true)a.copy(\"/bin/cp.lua\",a.combine(rootDirectory,\"bin/cp.lua\"),true)a.copy(\"/bin/kill.lua\",a.combine(rootDirectory,\"bin/kill.lua\"),true)a.copy(\"/bin/less.lua\",a.combine(rootDirectory,\"bin/less.lua\"),true)a.copy(\"/bin/link.lua\",a.combine(rootDirectory,\"bin/link.lua\"),true)a.copy(\"/bin/ls.lua\",a.combine(rootDirectory,\"bin/ls.lua\"),true)a.copy(\"/bin/lua.lua\",a.combine(rootDirectory,\"bin/lua.lua\"),true)a.copy(\"/bin/mkdir.lua\",a.combine(rootDirectory,\"bin/mkdir.lua\"),true)a.copy(\"/bin/mount.lua\",a.combine(rootDirectory,\"bin/mount.lua\"),true)a.copy(\"/bin/nano.lua\",a.combine(rootDirectory,\"bin/nano.lua\"),true)a.copy(\"/bin/ps.lua\",a.combine(rootDirectory,\"bin/ps.lua\"),true)a.copy(\"/bin/rm.lua\",a.combine(rootDirectory,\"bin/rm.lua\"),true)a.copy(\"/bin/sh.lua\",a.combine(rootDirectory,\"bin/sh.lua\"),true)a.copy(\"/bin/unmount.lua\",a.combine(rootDirectory,\"bin/unmount.lua\"),true)a.copy(\"/lib/libsystem.a\",a.combine(rootDirectory,\"lib/libsystem.a\"),true)\n",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1300}},modified=1688258076200,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},["initrd.conf"]={created=1688258076267,type="file",modified=1688258074480,data="# initrd configuration file\n\n# Uncomment this line to add a rescue shell and utilites to the initrd.\n# rescue_shell = true\n\n# A list of kernel modules to include in the initrd.\n# Example:\n# modules = {\"spanfs\", \"gfxterm\"}\nmodules = {}\n\n# A list of files to copy to the initrd.\n# These should be absolute paths to files on the main filesystem, with an\n# optional \"=<path>\" to move the file to a different location.\n# Example:\n# files = {\"/bin/nano.lua\", \"/lib/libsystem.a\", \"/etc/initrd/myhook.lua=/myhook.lua\"}\nfiles = {}\n\n# A list of files to execute in the init program before mounting the root filesystem.\n# These are executed using dofile, and thus must be full Lua file names, with\n# extensions if needed.\n# Example:\n# hook_preflight = {\"/myhook.lua\"}\nhook_preflight = {}\n\n# A list of files to execute in the init program after root is mounted but before\n# the real init is executed. The initrd is no longer mounted at this point.\n# These are executed using dofile, and thus must be full Lua file names, with\n# extensions if needed.\n# Example:\n# hook_postflight = {\"/bin/myhook.lua\"}\nhook_postflight = {}\n\n# Where to save the initrd file to.\noutput_path = \"/boot/initrd.img\"",setuser=false,permissions={root={execute=false,read=true,write=true}},worldPermissions={execute=false,read=true,write=false},owner="root",size=1179}},modified=1688258076267,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}},modified=1688258073907,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},sbin={created=1688258028666,type="directory",contents={["shutdown.lua"]={created=1688258028623,type="file",modified=1688258026913,data="local a=require\"startmgr\"local b=require\"system.process\"local c=require\"system.util\"local d=assert(c.argparse({P=false,poweroff=\"@P\",H=\"@P\",halt=\"@P\",h=\"@P\",r=false,reboot=\"@r\",c=false,show=false,help=false},...))if d.help then print[[\nUsage: shutdown [OPTIONS] [TIME]\nOptions:\n  --help          Show this help\n  -H, --halt      Equivalent to -P\n  -P, --poweroff  Power off the machine\n  -r, --reboot    Reboot the machine\n  -h              Equivalent to -P\n  -c              Cancel a pending shutdown\n  --show          Show pending shutdown\n]]end;local e={31,28,31,30,31,30,31,31,30,31,30,31}local function f(g)return g%4==0 and(g%100~=0 or g%400==0)end;if d.c then return a.remove(\"shutdown-timer\",\"root\")elseif d.show then local h=a.status(\"shutdown-timer\",\"root\")if h then else print(\"No scheduled shutdown.\")end else local i=d[1]or\"+1\"if i==\"+0\"or i==\"now\"then if d.r and not d.P then assert(a.reboot())else assert(a.shutdown())end else local j;if i:match\"^%+%d+$\"then j=tonumber(i:match\"^%+(%d+)$\")*60 elseif i:match\"^%d+:%d+$\"then local k,l=i:match\"^(%d+):(%d+)$\"k,l=tonumber(k),tonumber(l)if k<0 or k>23 or l<0 or l>59 then error(\"shutdown: Invalid argument\")end;local m=os.date(\"!*t\")if k<m.hour or k==m.hour and l<m.min then m.day=m.day+1;m.wday=(m.wday+1)%7;m.yday=(m.yday+1)%(f(m.year)and 366 or 365)if m.day>e[m.month]or m.month==2 and f(m.year)and m.day>29 then m.day=1;m.month=m.month+1;if m.month>12 then m.month=1;m.year=m.year+1 end end end;m.hour,m.min,m.sec=k,l,0;j=os.time(m)-os.time()else error(\"shutdown: Invalid argument\")end;assert(a.add([[\nname = \"shutdown-timer\"\nunit.description = \"Shutdown Timer\"\nfunction trigger()\n    startmgr.]]..(d.r and not d.P and\"reboot\"or\"shutdown\")..[[()\nend\ntimer.loadTime = ]]..j,\"root\"))end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1753},["spaninfo.lua"]={created=1688258016816,type="file",modified=1688258016493,data="local a=require\"system.util\"local b=...if not b then error(\"Usage: spaninfo <mountpoint>\\n\")end;local function c(d)if d>=1000000000 then return(\"%.3g GB\"):format(d/1000000000)elseif d>=1000000 then return(\"%.3g MB\"):format(d/1000000)elseif d>=1000 then return(\"%.3g kB\"):format(d/1000)else return d..\" bytes\"end end;local e=a.syscall.callmodule(\"spanfs\",\"info\",b)local f=a.syscall.stat(b)print(\"Span '\"..e.name..\"' (\"..e.uuid..\")\")print(\"Capacity: \"..c(f.capacity))print(\"Free space: \"..c(f.freeSpace))print(\"Disks:\")for g,h in pairs(e.disks)do print(\"  Disk \"..g..\" (\"..h.device:match(\"^%x+\")..\"): \"..h.space..\" bytes free\")end;print(\"Free index space: \"..e.freeindex)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=670},["startctl.lua"]={created=1688258028666,type="file",modified=1688258026993,data="local a=require\"startmgr\"local b=require\"system.util\"local c=assert(b.argparse({user=false},...))local d;if not c.user then d=\"root\"end;if not a[c[1]]then error(\"Invalid operation\")end;print(a[c[1]](c[2],d))\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=208},["mkspanfs.lua"]={created=1688258016789,type="file",modified=1688258016439,data="local a=require\"system.filesystem\"local b=require\"system.hardware\"local c=require\"system.process\"local d={...}if#d<3 then error(\"Usage: mkspanfs <name> <index drive> <data drives...>\")end;if c.getuser()~=\"root\"then error(\"This program must be run as root.\")end;local e=table.remove(d,1)local f=\"The following disks will be erased and replaced with a new span filesystem:\\n\"for g,h in ipairs(d)do local i=b.info(h)if not i then error(\"Device '\"..h..\"' does not exist.\")end;if not i.types.drive then error(\"Device '\"..h..\"' is not a compatible disk drive.\")end;f=f..\"  Drive '\"..(i.alias or i.displayName or b.path(h))..\"' (\"..i.uuid..\")\\n\"end;print(f)io.write(\"Continue? (y/N) \")local j=io.read()if j:upper()~=\"Y\"then return false end;local k=('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'):gsub('[xy]',function(l)local h=l=='x'and math.random(0,0xf)or math.random(8,0xb)return('%x'):format(h)end)local m=\"/tmp/.mkspanfs-\"..math.random(0,99999)a.mkdir(m)local n,o=0,0;for p,h in ipairs(d)do a.mount(\"drivefs\",h,m,{})for g,q in ipairs(a.list(m))do a.remove(m..\"/\"..q)end;local r=assert(io.open(m..\"/.spanfs\",\"w\"))r:write(e..\"\\n\"..k..\"\\n\"..p-1 ..\"\\n\")r:close()if p==1 then r=assert(io.open(m..\"/index\",\"wb\"))r:write((\"<III8I8BBs2s2Bs2BI\"):pack(38+#e,0,os.time()*1000,os.time()*1000,5,5,e,\"root\",1,\"root\",7,0))r:close()local s=a.stat(m)print(\"Index disk \"..h..\" has \"..s.freeSpace..\" bytes free\")else local s=a.stat(m)print(\"Data disk \"..h..\" has \"..s.freeSpace..\" bytes free\")n=n+s.freeSpace;o=o+s.capacity end;a.unmount(m)end;a.remove(m)print(\"Finished creating span filesystem '\"..e..\"' (\"..k..\") across \"..#d..\" disks.\")print(\"Total disk capacity: \"..o)print(\"Usable space: \"..n)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1673},["init.lua"]={created=1688258028576,type="file",modified=1688258026833,data="local a=require\"system.expect\"local b=require\"system.filesystem\"local c=require\"system.ipc\"local d=require\"system.log\"local e=require\"system.process\"local f=require\"system.sync\"local g=require\"system.util\"startmgr={}local h,i;local j={}local k=e.getuser()if k==\"root\"then assert(e.getpid()==1,\"startmgr must be run as init.\")h={\"/etc/startmgr/system\",j}c.register(\"ServiceManager\")i=d.create(\"startmgr\",true,\"/var/log/startmgr.log\")else assert(not c.lookup(\"ServiceManager.\"..k),\"startmgr is already running for this user.\")h={\"/home/\"..k..\"/.local/etc/startmgr\",\"/etc/startmgr/user\",j}c.register(\"ServiceManager.\"..k)i=d.create(\"startmgr.\"..k,true,\"/home/\"..k..\"/.local/var/log/startmgr.log\")end;local l={}local m,n;local o={[0]='\\27[90m','\\27[97m','\\27[36m','\\27[93m','\\27[31m','\\27[95m','\\27[96m'}local function p(q,r,...)if k==\"root\"then local s=o[r or 1]if q==\"OK\"then s=\"\\27[92m\"end;local t=...print((q and\"[\"..s..(\" \"):rep(math.floor((6-#q)/2))..q..(\" \"):rep(math.ceil((6-#q)/2))..\"\\27[0m]\"or\"        \")..\"  \"..t)end;i.log({level=r},...)end;local function u(v)if type(v)==\"table\"then local w={}for x,t in pairs(v)do w[u(x)]=u(t)end;return w else return v end end;local function y(z,A)if next(z)==nil then return true end;local B=f.barrier.new(#z+1)local C,D=true,\"\"for x,t in pairs(z)do e.newthread(function()local E,F=A(x)if t and not E then C=false;if F then D=D..F..\"\\n\"end end;B:wait()end)end;B:wait()return C,D:gsub(\"\\n+$\",\"\")end;function startmgr.start(G)local H=l[G]if not H then return false,\"No such service\"end;if H.runtime.running then return false,\"Service is already running\"end;if H.runtime.pending then return true end;local I={}for J,t in ipairs(H.unit.wants or{})do I[t]=false end;for J,t in ipairs(H.unit.upholds or{})do I[t]=false end;for J,t in ipairs(H.unit.requires or{})do if not l[t]then return false,\"Required service \"..t..\" does not exist\"end;I[t]=true end;for J,t in ipairs(H.unit.bindsTo or{})do if not l[t]then return false,\"Required service \"..t..\" does not exist\"end;I[t]=true end;for J,t in ipairs(H.unit.requisites or{})do if not l[t]or not l[t].runtime.running then return false,\"Requisite service \"..t..\" is not running\"end end;for J,t in ipairs(H.unit.conflicts or{})do if l[t]and l[t].runtime.running then return false,\"Conflicting service \"..t..\" is running\"end end;local K,L,M={},{[G]=true},{}local N,O={},{}for J,t in ipairs(H.unit.before or{})do N[t]=true end;for J,t in ipairs(H.unit.after or{})do O[t]=true end;for x,t in pairs(I)do if O[x]then K[x]=t end;if N[x]then M[x]=t end;if l[x]then for J,P in ipairs(l[x].unit.before or{})do if P==x then K[x]=t;break end end;for J,P in ipairs(l[x].unit.after or{})do if P==x then M[x]=t;break end end end;if K[x]and M[x]then return false,\"Service is misconfigured: Dependency \"..x..\" is ordered both before and after service\"end;if not K[x]and not M[x]then L[x]=t end end;if H.runtime.pending then return true end;H.runtime.pending=true;local E,F=y(K,startmgr.start)if not E then H.runtime.pending=false;return false,F end;E,F=y(L,function(Q)if Q==G then local E,R=false,\"Missing service start function\"if H.start then p(nil,nil,\"Starting \"..(H.unit and H.unit.description or Q)..\"...\")E,R=pcall(H.start)H.runtime.running=E and R;H.runtime.pending=false;p(E and R and\"OK\"or\"ERROR\",E and R and d.levels.notice or d.levels.error,\"Started \"..(H.unit and H.unit.description or Q)..\".\")end;if not E and type(R)==\"string\"then p(\"ERROR\",d.levels.error,\"Service \"..Q..\" threw an error:\",R)end;if not E or not R then return false,E and\"Failed to start service\"or R end;return true else return startmgr.start(Q)end end)if not E then return false,F end;return y(M,startmgr.start)end;function startmgr.stop(G)local H=l[G]if not H then return false,\"No such service\"end;if not H.runtime.running then return false,\"Service is already stopped\"end;local S={[G]=true}for J,t in ipairs(H.unit.bindsTo or{})do S[t]=false end;for J,t in ipairs(H.unit.parts or{})do S[t]=false end;return y(S,function(Q)if Q==G then p(nil,nil,\"Stopping \"..(H.unit and H.unit.description or Q)..\"...\")H.runtime.pending=true;if H.stop then local E,R=pcall(H.stop,false)H.runtime.running=not(E and R)if H.runtime.running then if not E and type(R)==\"string\"then p(\"ERROR\",d.levels.error,\"Service \"..Q..\" threw an error:\",R)end;return false,E and\"Failed to start service\"or R end end;for J,t in pairs(H.service.pid)do c.kill(t,c.signal.SIGHUP)end else return startmgr.stop(Q)end end)end;function startmgr.kill(G)local H=l[G]if not H then return false,\"No such service\"end;if not H.runtime.running then return false,\"Service is already stopped\"end;local S={[G]=true}for J,t in ipairs(H.unit.bindsTo or{})do S[t]=false end;for J,t in ipairs(H.unit.parts or{})do S[t]=false end;return y(S,function(Q)if Q==G then p(nil,nil,\"Killing \"..(H.unit and H.unit.description or Q)..\"...\")H.runtime.pending=true;if H.stop then pcall(H.stop,true)H.runtime.running=false end;for J,t in pairs(H.service.pid)do c.kill(t,c.signal.SIGKILL)end else return startmgr.stop(Q)end end)end;function startmgr.restart(G)local E,F=startmgr.stop(G)if not E then return E,F end;return startmgr.start(G)end;local function T(U,V,W,X,Y,Z)local _=setmetatable(u(U[V])or{name=V,runtime={},unit={},install={},service={pid={}},timer={}},{__index=_ENV})local A,F;if W==j then A,F=load(X,\"=service:\"..V,\"t\",_)else A,F=loadfile(b.combine(W,X),\"t\",_)end;if A then local E;E,F=pcall(A)if E then if _.service and type(_.unit.partOf)==\"table\"then for J,t in ipairs(_.unit.partOf)do Y[t]=Y[t]or{}Y[t][#Y[t]+1]=V end end;U[V]=_;_.runtime.didDelete=nil else Z[#Z+1]=\"\\x1b[31mError\\x1b[0m: Could not load \"..V..\": \"..F end else Z[#Z+1]=\"\\x1b[31mError\\x1b[0m: Could not load \"..V..\": \"..F end end;function startmgr.reload(G)if G then local H=l[G]if not H then return false,\"No such service\"end;if not H.runtime.running then return false,\"Service is not running\"end;if H.reload then return pcall(H.reload)else return true,\"Service has no reload function\"end else local U={}local Z={}for x,t in pairs(l)do if t.runtime.running then U[x]=t;t.runtime.didDelete=true end end;local Y={}for J,W in ipairs(h)do local E,z;if W==j then E,z=true,j else E,z=pcall(b.list,W)end;if E then for J,X in ipairs(z)do local V=W==j and select(2,X:match\"name%s*=%s*([\\\"'])([^\\\"']+)%1\")or X:match(\"^%w+\")if X:match\"%.wants$\"and b.isDir(b.combine(W,X))then if not U[V]then U[V]={unit={requires={}}}end;if not U[V].unit.requires then U[V].unit.requires={}end;local a0=U[V].unit.requires;for J,a1 in ipairs(b.list(b.combine(W,X)))do local Q=a1:match(\"^%w+\")T(U,Q,b.combine(W,X),a1,Y,Z)a0[#a0+1]=Q end else T(U,V,W,X,Y,Z)end end end end;for x,t in pairs(Y)do if U[x]and U[x].service then U[x].unit.parts=t end end;for x,t in pairs(U)do if t.runtime.didDelete then Z[#Z+1]=\"\\x1b[93mWarning\\x1b[0m: The service \"..x..\"was deleted on disk, but it is still running. The service will be deleted upon being stopped.\"end end;l=U;return true,Z end end;function startmgr.add(a2)local J,X=a2:match\"name%s*=%s*([\\\"'])([^\\\"']+)%1\"if not X then return false,\"Could not get name from service\"end;if l[X]then return false,\"Service with this name already exists\"end;j[#j+1]=a2;startmgr.reload()return true,X end;function startmgr.remove(G)for a3,t in ipairs(j)do local J,X=t:match\"name%s*=%s*([\\\"'])([^\\\"']+)%1\"if X==G then table.remove(j,a3)return true end end;return false end;function startmgr.list()end;function startmgr.status(G)end;function startmgr.install(G)end;function startmgr.uninstall(G)end;local function a4()p(nil,nil,\"Stopping all services...\")local a5=0;repeat local E=true;for x,t in pairs(l)do if t.runtime.running then E=(a5>=5 and startmgr.kill or startmgr.stop)(x)and E end end;a5=a5+1;if a5>10 then p(\"ERROR\",d.levels.error,\"Could not stop all services successfully, killing all processes.\")elseif a5==5 then p(nil,nil,\"Killing all remaining services...\")end;g.sleep(0.25)until E or a5>10 end;function startmgr.shutdown()if k~=\"root\"then return false,\"Operation invalid for this instance\"end;a4()g.syscall.devcall(\"/\",\"shutdown\")end;function startmgr.reboot()if k~=\"root\"then return false,\"Operation invalid for this instance\"end;a4()g.syscall.devcall(\"/\",\"reboot\")end;print(\"Welcome to \\27[96mPhoenix\\27[0m!\\n\")startmgr.reload()if not l.startup then p(\"WARN\",d.levels.warning,\"No startup service available. Installing default shell service.\")local a6={}l.startup={name=\"startup\",runtime={},unit={description=\"Shell prompt\"},install={},service={pid=a6,restart=k==\"root\"and\"always\"or\"no\"},timer={},start=function()a6[1]=e.start(\"/bin/sh\")return true end}end;assert(startmgr.start(\"startup\"))while true do local a7,a8=coroutine.yield()if a7==\"timer\"and a8.id==n then n=g.timer(m)elseif a7==\"process_complete\"then for x,t in pairs(l)do for a3,a6 in pairs(t.service and t.service.pid or{})do if a6==a8.id then t.service.pid[a3]=nil;local a9=a8.error or a8.value==false;p(nil,nil,\"Process \"..a6 ..\" (of service \"..x..\") exited \"..(a9 and\"with an error: \"or\"successfully with return value: \")..(a8.error or tostring(a8.value)))if a8.error then p(\"ERROR\",d.levels.error,a8.error)end;if next(t.service.pid)==nil then if t.runtime.running and not t.runtime.pending and t.service.restart and t.service.restart~=\"no\"then if t.service.restart==\"always\"or t.service.restart==\"on-success\"and not a9 or t.service.restart==\"on-failure\"and a8.value==false or t.service.restart==\"on-abnormal\"and a9 or t.service.restart==\"on-abort\"and a8.error then startmgr.start(x)end else t.runtime.running=false;if a9 then if t.failure then pcall(t.failure)end elseif t.success then pcall(t.success)end;p(\"OK\",d.levels.notice,\"Stopped \"..(t.unit and t.unit.description or x)..\".\")end end end end end elseif a7==\"remote_event\"and a8.type==\"startmgr.request\"then if type(a8.data)==\"table\"and type(a8.data.func)==\"string\"then local aa=e.getpinfo(a8.sender)if aa.user==k then e.newthread(function()local A=startmgr[a8.data.func]if A then c.sendEvent(a8.sender,\"startmgr.response\",{func=a8.data.func,ok=true,result={A(a8.data.param)}})else c.sendEvent(a8.sender,\"startmgr.response\",{func=a8.data.func,ok=false,error=\"Unknown function\"})end end)else c.sendEvent(a8.sender,\"startmgr.response\",{func=a8.data.func,ok=false,error=\"Permission denied\"})end else c.sendEvent(a8.sender,\"startmgr.response\",{func=a8.data.func,ok=false,error=\"Invalid request\"})end end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=10307}},modified=1688258028666,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0},bin={created=1688258025913,type="directory",contents={["link.lua"]={created=1688258022316,type="file",modified=1688258019043,data="return coroutine.yield(\"syscall\",\"link\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=45},["clear.lua"]={created=1688258021693,type="file",modified=1688258018033,data="io.write(\"\\x1b[0m\\x1b[2J\\x1b[H\")\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=33},["curl.lua"]={created=1688258021849,type="file",modified=1688258018269,data="local a=require\"system.network\"local b=require\"system.serialization\"local c=require\"system.util\"local function d(e)return e:gsub(\"[^A-Za-z0-9%-_%.~]\",function(f)return(\"%%%02X\"):format(f:byte())end)end;local g={[100]=\"Continue\",[101]=\"Switching Protocols\",[102]=\"Processing\",[200]=\"OK\",[201]=\"Created\",[202]=\"Accepted\",[203]=\"Non-authoritative Information\",[204]=\"No Content\",[205]=\"Reset Content\",[206]=\"Partial Content\",[207]=\"Multi-Status\",[208]=\"Already Reported\",[226]=\"IM Used\",[300]=\"Multiple Choices\",[301]=\"Moved Permanently\",[302]=\"Found\",[303]=\"See Other\",[304]=\"Not Modified\",[305]=\"Use Proxy\",[307]=\"Temporary Redirect\",[308]=\"Permanent Redirect\",[400]=\"Bad Request\",[401]=\"Unauthorized\",[402]=\"Payment Required\",[403]=\"Forbidden\",[404]=\"Not Found\",[405]=\"Method Not Allowed\",[406]=\"Not Acceptable\",[407]=\"Proxy Authentication Required\",[408]=\"Request Timeout\",[409]=\"Conflict\",[410]=\"Gone\",[411]=\"Length Required\",[412]=\"Precondition Failed\",[413]=\"Payload Too Large\",[414]=\"Request-URI Too Long\",[415]=\"Unsupported Media Type\",[416]=\"Requested Range Not Satisfiable\",[417]=\"Expectation Failed\",[418]=\"I'm a teapot\",[421]=\"Misdirected Request\",[422]=\"Unprocessable Entity\",[423]=\"Locked\",[424]=\"Failed Dependency\",[426]=\"Upgrade Required\",[428]=\"Precondition Required\",[429]=\"Too Many Requests\",[431]=\"Request Header Fields Too Large\",[444]=\"Connection Closed Without Response\",[451]=\"Unavailable For Legal Reasons\",[499]=\"Client Closed Request\",[500]=\"Internal Server Error\",[501]=\"Not Implemented\",[502]=\"Bad Gateway\",[503]=\"Service Unavailable\",[504]=\"Gateway Timeout\",[505]=\"HTTP Version Not Supported\",[506]=\"Variant Also Negotiates\",[507]=\"Insufficient Storage\",[508]=\"Loop Detected\",[510]=\"Not Extended\",[511]=\"Network Authentication Required\",[599]=\"Network Connect Timeout Error\"}local h=assert(c.argparse({[\"\"]={stopProcessingOnPositionalArgument=true},A=true,[\"user-agent\"]=\"@A\",b=true,cookie=\"@b\",c=true,[\"cookie-jar\"]=\"@c\",d=\"multiple\",data=\"@d\",[\"data-ascii\"]=\"@d\",D=true,[\"dump-header\"]=\"@D\",e=true,referer=\"@e\",G=false,get=\"@G\",H=\"multiple\",header=\"@H\",I=false,head=\"@I\",i=false,include=\"@i\",J=false,[\"remote-header-name\"]=\"@J\",L=false,location=\"@L\",o=false,output=\"@o\",O=false,[\"remote-name\"]=\"@O\",r=true,range=\"@r\",R=false,run=\"@R\",s=false,silent=\"@s\",S=false,[\"show-error\"]=\"@S\",T=true,[\"upload-file\"]=\"@T\",u=true,user=\"@u\",v=false,verbose=\"@v\",X=true,request=\"@X\",[\"#\"]=false,[\"progress-bar\"]=\"@#\",basic=false,[\"data-binary\"]=\"multiple\",[\"data-raw\"]=\"multiple\",[\"data-urlencode\"]=\"multiple\",digest=false,[\"disallow-username-in-url\"]=false,[\"doh-url\"]=true,json=true,[\"location-trusted\"]=false,[\"oauth2-bearer\"]=true,[\"output-dir\"]=true,post301=false,post302=false,post303=false,retry=\"number\",[\"retry-delay\"]=\"number\",h=false,help=\"@h\"},...))if h.h then print[[\nUsage: curl [options...] URL\nOptions:\n  -o, --output <path>     Path to write to\n  -H, --header <header>   Add a header to the request\n      --run               Run the file as a Lua script\n  -h, --help              Show this help\n]]return end;local i=h[1]if not i then error(\"curl: Missing URL.\")end;local j={}if h.H then for k,l in ipairs(h.H)do local m,n=l:match(\"^([^:]+):%s*(.+)$\")if not m then error(\"curl: Malformed header \"..l)end;j[m]=n end end;if h.A then j[\"User-Agent\"]=h.A end;if h.b then end;if h.c then end;if h.e then j[\"Referer\"]=h.e end;if h.u then if not h.u:find\":\"then io.stdout:write(\"Password: \")terminal.termctl({echo=false})h.u=h.u..\":\"..io.stdin:read()terminal.termctl({echo=true})print()end;if h.basic then j[\"Authorization\"]=\"Basic \"..b.base64.encode(h.u)elseif h.digest then elseif h[\"oauth2-bearer\"]then j[\"Authorization\"]=\"Bearer \"..h[\"oauth2-bearer\"]else i=i:gsub(\"^(https?://)\",\"%1\"..h.u)end end;local o;if h.d then for k,l in ipairs(h.d)do if o then o=o..\"&\"else o=\"\"end;if l:sub(1,1)==\"@\"then local p=l:sub(2):gsub(\"[\\r\\n]\",\"\")local q,r=io.open(p,\"r\")if not q then error(\"curl: Could not open \"..p..\": \"..r)end;o=o..q:read(\"*a\")q:close()else o=o..l end end end;if h[\"data-raw\"]then for k,l in ipairs(h[\"data-raw\"])do if o then o=o..\"&\"else o=\"\"end;o=o..l end end;if h[\"data-binary\"]then for k,l in ipairs(h[\"data-binary\"])do if o then o=o..\"&\"else o=\"\"end;if l:sub(1,1)==\"@\"then local p=l:sub(2):gsub(\"[\\r\\n]\",\"\")local q,r=io.open(p,\"rb\")if not q then error(\"curl: Could not open \"..p..\": \"..r)end;o=o..q:read(\"*a\")q:close()else o=o..l end end end;if h[\"data-urlencode\"]then for k,l in ipairs(h[\"data-urlencode\"])do if o then o=o..\"&\"else o=\"\"end;local s,t=l:match\"^([^=]+)=(.+)$\"local u,p=l:match\"^([^@]*)@(.*)$\"if s then o=o..s..\"=\"..d(t)elseif u then if u~=\"\"then o=o..u..\"=\"end;local q,r=io.open(p,\"r\")if not q then error(\"curl: Could not open \"..p..\": \"..r)end;o=o..d(q:read(\"*a\"))q:close()else o=o..l end end end;if h.json then if o then o=o..\"&\"else o=\"\"end;if h.json:sub(1,1)==\"@\"then local p=h.json:sub(2):gsub(\"[\\r\\n]\",\"\")local q,r=io.open(p,\"rb\")if not q then error(\"curl: Could not open \"..p..\": \"..r)end;o=o..q:read(\"*a\")q:close()else o=o..h.json end;j[\"Content-Type\"]=\"application/json\"j[\"Accept\"]=\"application/json\"end;local v;if h.X then v=h.X:upper()elseif h.G then v=\"GET\"if o then i=i..\"?\"..o end elseif h.I then v=\"HEAD\"elseif h.T then v=\"PUT\"local q,r=io.open(h.T,\"rb\")if not q then error(\"curl: Could not open \"..h.T..\": \"..r)end;o=q:read(\"*a\")q:close()elseif o then v=\"POST\"else v=\"GET\"end;if h.v then io.stderr:write(\"* Opening connection to \"..i:match(\"^https?://([^/]+)\")..\"\\n\")io.stderr:write(\"> GET \"..i:match(\"^https?://[^/]+(/[^#]+)\")..\" HTTP/1.1\\n\")for m,l in pairs(j)do io.stderr:write(\"> \"..m..\": \"..l..\"\\n\")end;io.stderr:write(\"> \\n\")end;local w;for k=0,h.retry or 0 do w=a.connect{url=i,method=v,headers=j,redirect=h.L}w:write(o)local x=false;while true do local y,z=coroutine.yield()if y==\"handle_status_change\"and z.id==w.id then if z.status==\"open\"then x=true;break elseif z.status==\"error\"then io.stderr:write(select(2,w:status()))w=nil;break end end end;if x then break end end;if not w then return false end;local A=w:responseCode()local B=w:responseHeaders()if h.o then io.output(h.o)elseif h.O then local s=i:gsub(\"%?.*$\",\"\"):gsub(\"#.*$\",\"\"):match(\"([^/]+)/*$\")if h.J then s=B[\"Content-Disposition\"]or s end;if h[\"output-dir\"]then s=h[\"output-dir\"]..\"/\"..s end;io.output(s)end;if h.v or h.i then local C=function(D)return io.write(D)end;if h.v then C=function(D)return io.stderr:write(\"< \"..D)end end;C(\"HTTP/1.1 \"..A..\" \"..(g[A]or\"Unknown\"))for m,l in pairs(B)do C(m..\": \"..l)end;C(\"\")end;if h.D then local q,r=io.open(h.D,\"w\")if q then for m,l in pairs(B)do q:write(m..\": \"..l..\"\\n\")end;q:close()else io.stderr:write(\"curl: Could not open header dump file: \"..r..\"\\n\")end end;if h.R then if math.floor(A/100)~=2 then error(\"curl: Got HTTP response \"..A..\", not running data.\")end;local s=i:gsub(\"%?.*$\",\"\"):gsub(\"#.*$\",\"\"):match(\"([^/]+)/*$\")if h.J then s=B[\"Content-Disposition\"]or s end;local E,r=load(function()return w:read(\"*L\")end,\"=\"..s)if not E then error(\"curl: Could not load file: \"..r)end;return E(table.unpack(h,2,h.n))end;io.write(w:read(\"*a\"))w:close()io.output():close()\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=7063},["cksum.lua"]={created=1688258021653,type="file",modified=1688258017973,data="local a={...}local b={[0]=0x00000000,0x04c11db7,0x09823b6e,0x0d4326d9,0x130476dc,0x17c56b6b,0x1a864db2,0x1e475005,0x2608edb8,0x22c9f00f,0x2f8ad6d6,0x2b4bcb61,0x350c9b64,0x31cd86d3,0x3c8ea00a,0x384fbdbd,0x4c11db70,0x48d0c6c7,0x4593e01e,0x4152fda9,0x5f15adac,0x5bd4b01b,0x569796c2,0x52568b75,0x6a1936c8,0x6ed82b7f,0x639b0da6,0x675a1011,0x791d4014,0x7ddc5da3,0x709f7b7a,0x745e66cd,0x9823b6e0,0x9ce2ab57,0x91a18d8e,0x95609039,0x8b27c03c,0x8fe6dd8b,0x82a5fb52,0x8664e6e5,0xbe2b5b58,0xbaea46ef,0xb7a96036,0xb3687d81,0xad2f2d84,0xa9ee3033,0xa4ad16ea,0xa06c0b5d,0xd4326d90,0xd0f37027,0xddb056fe,0xd9714b49,0xc7361b4c,0xc3f706fb,0xceb42022,0xca753d95,0xf23a8028,0xf6fb9d9f,0xfbb8bb46,0xff79a6f1,0xe13ef6f4,0xe5ffeb43,0xe8bccd9a,0xec7dd02d,0x34867077,0x30476dc0,0x3d044b19,0x39c556ae,0x278206ab,0x23431b1c,0x2e003dc5,0x2ac12072,0x128e9dcf,0x164f8078,0x1b0ca6a1,0x1fcdbb16,0x018aeb13,0x054bf6a4,0x0808d07d,0x0cc9cdca,0x7897ab07,0x7c56b6b0,0x71159069,0x75d48dde,0x6b93dddb,0x6f52c06c,0x6211e6b5,0x66d0fb02,0x5e9f46bf,0x5a5e5b08,0x571d7dd1,0x53dc6066,0x4d9b3063,0x495a2dd4,0x44190b0d,0x40d816ba,0xaca5c697,0xa864db20,0xa527fdf9,0xa1e6e04e,0xbfa1b04b,0xbb60adfc,0xb6238b25,0xb2e29692,0x8aad2b2f,0x8e6c3698,0x832f1041,0x87ee0df6,0x99a95df3,0x9d684044,0x902b669d,0x94ea7b2a,0xe0b41de7,0xe4750050,0xe9362689,0xedf73b3e,0xf3b06b3b,0xf771768c,0xfa325055,0xfef34de2,0xc6bcf05f,0xc27dede8,0xcf3ecb31,0xcbffd686,0xd5b88683,0xd1799b34,0xdc3abded,0xd8fba05a,0x690ce0ee,0x6dcdfd59,0x608edb80,0x644fc637,0x7a089632,0x7ec98b85,0x738aad5c,0x774bb0eb,0x4f040d56,0x4bc510e1,0x46863638,0x42472b8f,0x5c007b8a,0x58c1663d,0x558240e4,0x51435d53,0x251d3b9e,0x21dc2629,0x2c9f00f0,0x285e1d47,0x36194d42,0x32d850f5,0x3f9b762c,0x3b5a6b9b,0x0315d626,0x07d4cb91,0x0a97ed48,0x0e56f0ff,0x1011a0fa,0x14d0bd4d,0x19939b94,0x1d528623,0xf12f560e,0xf5ee4bb9,0xf8ad6d60,0xfc6c70d7,0xe22b20d2,0xe6ea3d65,0xeba91bbc,0xef68060b,0xd727bbb6,0xd3e6a601,0xdea580d8,0xda649d6f,0xc423cd6a,0xc0e2d0dd,0xcda1f604,0xc960ebb3,0xbd3e8d7e,0xb9ff90c9,0xb4bcb610,0xb07daba7,0xae3afba2,0xaafbe615,0xa7b8c0cc,0xa379dd7b,0x9b3660c6,0x9ff77d71,0x92b45ba8,0x9675461f,0x8832161a,0x8cf30bad,0x81b02d74,0x857130c3,0x5d8a9099,0x594b8d2e,0x5408abf7,0x50c9b640,0x4e8ee645,0x4a4ffbf2,0x470cdd2b,0x43cdc09c,0x7b827d21,0x7f436096,0x7200464f,0x76c15bf8,0x68860bfd,0x6c47164a,0x61043093,0x65c52d24,0x119b4be9,0x155a565e,0x18197087,0x1cd86d30,0x029f3d35,0x065e2082,0x0b1d065b,0x0fdc1bec,0x3793a651,0x3352bbe6,0x3e119d3f,0x3ad08088,0x2497d08d,0x2056cd3a,0x2d15ebe3,0x29d4f654,0xc5a92679,0xc1683bce,0xcc2b1d17,0xc8ea00a0,0xd6ad50a5,0xd26c4d12,0xdf2f6bcb,0xdbee767c,0xe3a1cbc1,0xe760d676,0xea23f0af,0xeee2ed18,0xf0a5bd1d,0xf464a0aa,0xf9278673,0xfde69bc4,0x89b8fd09,0x8d79e0be,0x803ac667,0x84fbdbd0,0x9abc8bd5,0x9e7d9662,0x933eb0bb,0x97ffad0c,0xafb010b1,0xab710d06,0xa6322bdf,0xa2f33668,0xbcb4666d,0xb8757bda,0xb5365d03,0xb1f740b4}local function c(d)d=d..((\"%x\"):format(#d):reverse()..\"0\"):gsub(\"%x%x\",function(e)return string.char(tonumber(e:sub(1,1),16)+tonumber(e:sub(2,2),16)*16)end)local f=0;for g=1,#d do f=bit32.bxor(bit32.lshift(f,8),b[bit32.bxor(bit32.rshift(f,24),d:byte(g))])end;return bit32.bnot(f)end;if#a==0 then a[1]=\"-\"end;local h=0;for i,j in ipairs(a)do local d;if j==\"-\"then d=io.read(\"*a\")else local k,h=io.open(j,\"rb\")if k then d=k:read(\"*a\")k:close()else io.stderr:write(\"Could not open \"..j..\": \"..h..\"\\n\")h=h+1 end end;print((\"%u %d %s\"):format(c(d),#d,j))end;return h\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=3404},["cat.lua"]={created=1688258021459,type="file",modified=1688258017679,data="local a={...}if a[1]==\"-u\"then table.remove(a,1)end;if#a==0 then a[1]=\"-\"end;for b,c in ipairs(a)do if c==\"-\"then io.stdout:write(io.stdin:read(\"*a\"))else local d,e=io.open(c,\"rb\")if not d then error(\"cat: \"..c..\": \"..e)end;io.stdout:write(d:read(\"*a\"))d:close()end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=270},["tar.lua"]={created=1688258025913,type="file",modified=1688258024936,data="local a=require\"tar\"local b=require\"system.filesystem\"local c=require\"system.process\"local function d(e,f,g)return string.len(e)<f and string.sub(e,1,f)..string.rep(g or\" \",f-string.len(e))or e end;local function h(e,f,g)return string.len(e)<f and string.rep(g or\" \",f-string.len(e))..string.sub(e,1,f)or e end;local function i(j)return 0x38+(j.worldPermissions.read and 4 or 0)+(j.worldPermissions.write and 2 or 0)+(j.worldPermissions.execute and 1 or 0)+(j.permissions[j.owner].read and 256 or 0)+(j.permissions[j.owner].write and 128 or 0)+(j.permissions[j.owner].execute and 64 or 0)end;local function k(l,e,g)local m=\"\"for n=1,string.len(e)do m=m..(bit32.band(l,bit32.lshift(1,string.len(e)-n))==0 and g or string.sub(e,n,n))end;return m end;local o=[=[Usage: tar [OPTION...] [FILE]...\nPhoenix 'tar' saves many files together into a single tape or disk archive, and\ncan restore individual files from the archive.\n\nExamples:\n  tar -cf archive.tar foo bar  # Create archive.tar from files foo and bar.\n  tar -tvf archive.tar         # List all files in archive.tar verbosely.\n  tar -xf archive.tar          # Extract all files from archive.tar.\n\n Local file name selection:\n\n      --add-file=FILE        add given FILE to the archive (useful if its name\n                             starts with a dash)\n  -C, --directory=DIR        change to directory DIR\n      --no-null              disable the effect of the previous --null option\n      --no-recursion         avoid descending automatically in directories\n      --null                 -T reads null-terminated names; implies\n                             --verbatim-files-from\n      --recursion            recurse into directories (default)\n  -T, --files-from=FILE      get names to extract or create from FILE\n\n Main operation mode:\n\n  -A, --catenate, --concatenate   append tar files to an archive\n  -c, --create               create a new archive\n  -d, --diff, --compare      find differences between archive and file system\n      --delete               delete from the archive (not on mag tapes!)\n  -r, --append               append files to the end of an archive\n  -t, --list                 list the contents of an archive\n  -u, --update               only append files newer than copy in archive\n  -x, --extract, --get       extract files from an archive\n\n Overwrite control:\n\n  -k, --keep-old-files       don't replace existing files when extracting,\n                             treat them as errors\n      --overwrite            overwrite existing files when extracting\n      --remove-files         remove files after adding them to the archive\n  -W, --verify               attempt to verify the archive after writing it\n\n Device selection and switching:\n\n  -f, --file=ARCHIVE         use archive file or device ARCHIVE\n\n Device blocking:\n\n  -i, --ignore-zeros         ignore zeroed blocks in archive (means EOF)\n\n Compression options:\n\n  -z, --gzip, --gunzip, --ungzip   filter the archive through gzip\n\n Local file selection:\n\n  -N, --newer=DATE-OR-FILE, --after-date=DATE-OR-FILE\n                             only store files newer than DATE-OR-FILE\n\n Informative output:\n\n  -v, --verbose              verbosely list files processed\n\n Other options:\n\n  -?, --help                 give this help list\n      --usage                give a short usage message\n      --version              print program version]=]local p={...}local q=nil;local r={}local s=nil;local t=nil;local u=true;local v=false;local w=false;local x=nil;local y=false;local z=false;local A=nil;local B=0;local C=false;local D=false;for E,F in ipairs(p)do if t then if t==0 then q=F elseif t==1 then x=F elseif t==2 then A=F elseif t==3 then B=tonumber(F)elseif t==4 then local G=b.open(F,\"r\")local H=G.readLine()while H~=nil do if C then table.insert(r,H)else table.insert(p,H)end;H=G.readLine()end;G.close()end;t=nil elseif E==1 or string.sub(F,1,1)==\"-\"and string.sub(F,2,2)~=\"-\"then if string.find(F,\"A\")then s=0 end;if string.find(F,\"d\")then s=2 end;if string.find(F,\"c\")then s=1 end;if string.find(F,\"r\")then s=3 end;if string.find(F,\"t\")then s=4 end;if string.find(F,\"u\")then s=5 end;if string.find(F,\"x\")then s=6 end;if string.find(F,\"f\")then t=0 end;if string.find(F,\"k\")then u=false end;if string.find(F,\"U\")then v=true end;if string.find(F,\"W\")then w=true end;if string.find(F,\"O\")then x=0 end;if string.find(F,\"p\")then y=true end;if string.find(F,\"i\")then a.ignore_zero=true end;if string.find(F,\"z\")then z=true end;if string.find(F,\"C\")then t=1 end;if string.find(F,\"K\")then t=2 end;if string.find(F,\"N\")then t=3 end;if string.find(F,\"T\")then t=4 end;if string.find(F,\"v\")then a.verbosity=1 end;if string.find(F,\"?\")then print(o)return 2 end elseif string.sub(F,1,2)==\"--\"then if F==\"--catenate\"then s=0 elseif F==\"--concatenate\"then s=0 elseif F==\"--create\"then s=1 elseif F==\"--diff\"then s=2 elseif F==\"--compare\"then s=2 elseif F==\"--delete\"then s=7 elseif F==\"--append\"then s=3 elseif F==\"--list\"then s=4 elseif F==\"--update\"then s=5 elseif F==\"--extract\"then s=6 elseif F==\"--get\"then s=6 elseif F==\"--help\"or F==\"--usage\"then print(o)return 2 elseif F==\"--version\"then print(\"Phoenix tar v1.0\")return 2 elseif F==\"--keep-old-files\"then u=false elseif F==\"--overwrite\"then u=true elseif F==\"--remove-files\"then v=true elseif F==\"--unlink-first\"then v=true elseif F==\"--verify\"then w=true elseif F==\"--to-stdout\"then x=0 elseif F==\"--preserve-permissions\"then y=true elseif F==\"--same-permissions\"then y=true elseif F==\"--preserve\"then y=true elseif string.find(F,\"--file=\")then q=string.sub(F,8)elseif F==\"--ignore-zeros\"then a.ignore_zero=true elseif F==\"--gzip\"or F==\"--gunzip\"or F==\"--ungzip\"then z=true elseif string.find(F,\"--add-file=\")then table.insert(r,string.sub(F,12))elseif string.find(F,\"--directory=\")then x=string.sub(F,13)elseif string.find(F,\"--starting-file=\")then A=string.sub(F,17)elseif F==\"--no-null\"then C=false elseif F==\"--null\"then C=true elseif string.find(F,\"--newer=\")then B=tonumber(string.sub(F,9))elseif string.find(F,\"--after-date=\")then B=tonumber(string.sub(F,14))elseif string.find(F,\"--files-from=\")then local G=b.open(string.sub(F,14),\"r\")local H=G.readLine()while H~=nil do if C then table.insert(r,H)else table.insert(p,H)end;H=G.readLine()end;G.close()elseif F==\"--verbose\"then a.verbosity=1 elseif F==\"--no-recursion\"then D=true end else table.insert(r,F)end end;if z and LibDeflate==nil then LibDeflate=require\"LibDeflate\"if LibDeflate==nil then error(\"Compression is only supported when LibDeflate.lua is available in the PATH.\")end end;local I=c.getcwd()if type(x)==\"string\"then c.chdir(x)end;local function J(e)c.chdir(I)error(e)end;local function K(L)if z then local M=\"\"local G=b.open(q,\"rb\")local g=G.read()while g~=nil do M=M..string.char(g)g=G.read()if string.len(M)%10240==0 then os.queueEvent(\"nosleep\")os.pullEvent()end end;G.close()return a.load(LibDeflate:DecompressGzip(M),L,true)else return a.load(q,L)end end;local function N(O)if not z and q then a.save(O,q)else local m=a.save(O,nil)if z then m=LibDeflate:CompressGzip(m)end;if x==0 then io.write(m)elseif m then local G=b.open(q,\"wb\")for g in string.gmatch(m,\".\")do G.write(string.byte(g))end;G.close()end end end;if s==0 then if z==true then J(\"Compressed files cannot be concatenated\")end;if q==nil then J(\"You must specify an arhive with -f <first.tar>.\")end;local P=b.open(q,\"ab\")for E,F in pairs(r)do local Q=b.open(F,\"rb\")local g=Q.read()while g do P.write(g)g=Q.read()end;Q.close()end;P.close()elseif s==1 then if q==nil and x~=0 then J(\"You must specify an archive with -f <output.tar> or -O.\")end;local O={}for E,F in pairs(r)do local R=split(F,\"/\")local S=O;local T=nil;for E,F in pairs(R)do if E==#R then break end;T=T and b.combine(T,F)or F;if S[F]==nil then S[F]={}end;S=S[F]end;if string.sub(F,1,1)==\"/\"then S[R[#R]]=(D and a.read or a.pack)(\"/\",string.sub(F,2))else S[R[#R]]=(D and a.read or a.pack)(c.getcwd(),F)end;if v then b.remove(F)end end;N(O)elseif s==2 then J(\"Not implemented\")elseif s==3 then if q==nil and x~=0 then J(\"You must specify an archive with -f <output.tar> or -O.\")end;local O=K(true)for E,F in pairs(r)do if string.sub(F,1,1)==\"/\"then table.insert(O,(D and a.read or a.pack)(\"/\",string.sub(F,2)))else table.insert(O,(D and a.read or a.pack)(c.getcwd(),F))end;if v then b.remove(F)end end;N(O)elseif s==4 then if q==nil then J(\"You must specify an archive with -f <file.tar>.\")end;local O=K(true)if a.verbosity>0 then local U={}local V={0,0,0,0,0}for E,F in pairs(O)do local S=os.date(\"%F %R\",F.timestamp or 0)local W={k(F.mode+(F.type==5 and 0x200 or 0),\"drwxrwxrwx\",\"-\"),(F.ownerName or F.owner or 0)..\"/\"..(F.groupName or F.group or 0),string.len(F.data or\"\"),S,F.name..(F.link and F.link~=\"\"and\" -> \"..F.link or\"\")}for X,Y in pairs(W)do if string.len(Y)+1>V[X]then V[X]=string.len(Y)+1 end end;table.insert(U,W)end;for E,F in pairs(U)do for X,Y in pairs(F)do io.write((X==3 and h or d)(Y,V[X])..(X==3 and\" \"or\"\"))end;print(\"\")end else for E,F in pairs(O)do print(F.name)end end elseif s==5 then if q==nil and x~=0 then J(\"You must specify an archive with -f <output.tar> or -O.\")end;local O=K()for E,F in pairs(r)do local R=split(F,\"/\")local S=O;local T=nil;for E,F in pairs(R)do if E==#R then break end;T=T and b.combine(T,F)or F;local j=b.stat(T)if S[F]==nil then S[F]={[\"//\"]={name=T,mode=i(j),owner=0,group=0,timestamp=j.modified,type=5,link=\"\",ownerName=j.owner,groupName=\"\",deviceNumber=nil,data=nil}}end;S=S[F]end;if string.sub(F,1,1)==\"/\"then S[R[#R]]=(D and a.read or a.pack)(\"/\",string.sub(F,2))else S[R[#R]]=(D and a.read or a.pack)(c.getcwd(),F)end;if v then b.remove(F)end end;N(O)elseif s==6 then if q==nil then J(\"You must specify an archive with -f <file.tar>.\")end;local O=K()a.extract(O,c.getcwd())elseif s==7 then if q==nil then J(\"You must specify an archive with -f <file.tar>.\")end;local O=K(true)for E,F in pairs(r)do for X,Y in pairs(O)do if Y.name==F then O[X]=nil;break end end end;N(O)else J(\"You must specify one of -Acdrtux, see --help for details.\")end;c.chdir(I)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=10000},["sh.lua"]={created=1688258023063,type="file",modified=1688258020326,data="return coroutine.yield(\"syscall\",\"exec\",\"/bin/cash\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=57},["printf.lua"]={created=1688258022783,type="file",modified=1688258019843,data="local a={...}if#a<1 then error(\"printf: missing format\")end;local b=table.remove(a,1)local c={}for d in b:gmatch\"%%[%-%+ #0]?%d*%.?%d*[jzt]?[diuoxXfFeEgGaAcsq]\"do local e=d:sub(-1,-1)local f=#c+1;local g=assert(a[f],\"printf: missing argument for \"..d)if e==\"q\"or e==\"s\"then c[f]=g else c[f]=assert(tonumber(g),\"printf: argument \"..g..\" not a number\")end end;print(b:format(table.unpack(c)))\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=391},["apropos.lua"]={created=1688258021306,type="file",modified=1688258017456,data="return coroutine.yield(\"syscall\",\"exec\",\"/bin/man\",\"-k\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=61},["mv.lua"]={created=1688258022666,type="file",modified=1688258019639,data="local a=require\"system.filesystem\"local b=require\"system.util\"local c=assert(b.argparse({i=false,f=false},...))if#c<2 then error(\"mv: missing operand\")end;local d=table.remove(c)local e=a.stat(d)if#c==1 and(not e or e.type~=\"directory\")then if e and not c.f and(not a.effectivePermissions(e).write and b.syscall.istty()or c.i)then io.stderr:write(\"mv: overwrite \"..e.type..\" \"..d..\"? \")local f=io.read()if f:lower()~=\"y\"then return false end end;a.move(c[1],d)return end;if not e or e.type~=\"directory\"then error(\"mv: \"..d..\": not a directory\")end;for g,h in ipairs(c)do local i=a.combine(d,a.basename(h))e=a.stat(i)if e and not c.f and(not a.effectivePermissions(e).write and b.syscall.istty()or c.i)then io.stderr:write(\"mv: overwrite \"..e.type..\" \"..i..\"? \")local f=io.read()if f:lower()~=\"y\"then return false end end;a.move(h,i)end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=836},["reboot.lua"]={created=1688258022899,type="file",modified=1688258020046,data="return coroutine.yield(\"syscall\",\"devcall\",\"/\",\"reboot\")\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=57},["whoami.lua"]={created=1688258023373,type="file",modified=1688258020926,data="local a=require\"system.process\"local b=a.getuser()print(b)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=59},["unmount.lua"]={created=1688258023333,type="file",modified=1688258020849,data="return coroutine.yield(\"syscall\",\"unmount\",assert(...,\"Usage: unmount <path>\"))\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=80},["env.lua"]={created=1688258022043,type="file",modified=1688258018573,data="local a=require\"system.process\"local b={...}local c=a.getenv()while#b>0 do if b[1]==\"-i\"then for d in pairs(c)do c[d]=nil end;table.remove(b,1)elseif b[1]:find(\"=\")then local d,e=table.remove(b,1):match\"^([^=]+)=(.*)$\"c[d]=e else break end end;if#b==0 then for d,e in pairs(c)do print(d..\"=\"..e)end else return a.execp(table.unpack(b))end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=339},["mkdir.lua"]={created=1688258022549,type="file",modified=1688258019433,data="local a=require\"system.util\"local b=require\"system.filesystem\"local c=assert(a.argparse({p=false,m=true},...))local d=c.m;local e=d and tonumber(d,8)local function f(g)local h=b.stat(g)if e then b.chmod(g,h.owner,bit32.band(bit32.rshift(e,6),7))b.chmod(g,nil,bit32.band(e,7))else for i in d:gmatch\"[^,]+\"do local j,k=i:match\"^([^%+%-=]*)([%+%-=][rwxs]+)$\"if not j then error(\"mkdir: invalid mode: \"..i)end;if j==\"\"then j=nil end;b.chmod(g,j,k)end end end;for l,m in ipairs(c)do if not c.p and not b.isDir(b.dirname(m))then error(\"mkdir: \"..b.dirname(m)..\": Not a directory\")end;b.mkdir(m)if d then f(m)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=610},["unlink.lua"]={created=1688258023296,type="file",modified=1688258020776,data="return coroutine.yield(\"syscall\",\"remove\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=47},["ar.lua"]={created=1688258016049,type="file",modified=1688258015899,data="local a=require\"ar\"local function b(c,d,e)return string.len(c)<d and string.sub(c,1,d)..string.rep(e or\" \",d-string.len(c))or c end;local function f(g,c,e)local h=\"\"for i=1,string.len(c)do h=h..(bit32.band(g,bit32.lshift(1,string.len(c)-i))==0 and e or string.sub(c,i,i))end;return h end;local j={...}if#j<2 then error(\"Usage: ar <dpqrtx[cfTuv]> <archive.a> [path] [files...]\")end;if j[1]==\"--version\"then print(\"Phoenix ar (baseutils) 1.0 (compatible with GNU/BSD ar)\\nCopyright (c) 2019-2022 JackMacWindows.\")return 2 end;local k=nil;local l=false;local m=false;if string.find(j[1],\"d\")then k=0 end;if string.find(j[1],\"p\")then k=1 end;if string.find(j[1],\"q\")then k=2 end;if string.find(j[1],\"r\")then k=3 end;if string.find(j[1],\"t\")then k=4 end;if string.find(j[1],\"x\")then k=5 end;if string.find(j[1],\"c\")then a.verbosity=-1 end;if string.find(j[1],\"v\")then a.verbosity=1 end;if string.find(j[1],\"u\")then l=true end;if string.find(j[1],\"T\")then m=true end;if string.find(j[1],\"f\")then m=true end;local n=a.load(j[2])local o={...}table.remove(o,1)table.remove(o,1)if n==nil then if a.verbosity>-1 then print(\"ar: Creating archive \"..j[2])end;n={}end;if k==0 then for p,q in pairs(n)do for r,s in pairs(o)do if q.name==s then n[p]=nil;break end end end;a.save(n,j[2])elseif k==1 then if#j>2 then for p,q in pairs(n)do for r,s in pairs(o)do if q.name==s then print(q.data)break end end end else for p,q in pairs(n)do print(q.data)end end elseif k==2 then for p,q in pairs(o)do local t=a.read(q)t.name=string.sub(t.name,1,m and 15 or nil)table.insert(n,t)end;a.save(n,j[2])elseif k==3 then for p,q in pairs(o)do local t=a.read(q)t.name=string.sub(t.name,1,m and 15 or nil)local u=false;for r,s in pairs(n)do if s.name==t.name then u=true;for v,w in pairs(t)do s[v]=t[v]end;break end end;if not u then table.insert(n,t)end end;a.save(n,j[2])elseif k==4 then if a.verbosity>0 then local x={}local y={0,0,0,0,0}for p,q in pairs(n)do local z=os.date(\"%c\",q.timestamp or 0)local A={f(q.mode,\"rwxrwxrwx\",\"-\"),q.owner..\"/\"..q.group,string.len(q.data),z,q.name}for r,s in pairs(A)do if string.len(s)+3>y[r]then y[r]=string.len(s)+3 end end;table.insert(x,A)end;for p,q in pairs(x)do for r,s in pairs(q)do io.write(b(s,y[r]))end;print(\"\")end else for p,q in pairs(n)do print(q.name)end end elseif k==5 then local B=#o>0 and table.remove(o,1)or\".\"local t;if#o>0 then t={}for p,q in pairs(n)do for r,s in pairs(o)do if q.name==s then table.insert(t,q)break end end end else t=n end;a.extract(t,B)else error(\"Unknown mode\")end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2516},["cd.lua"]={created=1688258021499,type="file",modified=1688258017739,data="return coroutine.yield(\"syscall\",\"chdir\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=46},["chroot.lua"]={created=1688258021616,type="file",modified=1688258017916,data="local a=require\"system.filesystem\"local b=require\"system.process\"local c=require\"system.util\"local d=assert(c.argparse({userspec=true,[\"skip-chdir\"]=false},...))if b.getuser()~=\"root\"then error(\"This program requires root.\")end;local e=table.remove(d,1)if not e then error(\"Usage: chroot [options] <path> [program] [args...]\")end;if#d==0 then d[1],d[2]=b.getenv().SHELL or\"/bin/sh\",\"-i\"end;a.chroot(e)if not d[\"skip-chdir\"]then b.chdir(\"/\")end;if d.userspec then b.setuser(d.userspec)end;return b.execp(table.unpack(d))\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=520},["nm.lua"]={created=1688258022743,type="file",modified=1688258019776,data="local a=require\"system.filesystem\"local b=require\"system.process\"local c=require\"system.util\"local d=assert(c.argparse({A=false,e=false,f=false,g=false,o=false,P=false,t=true,u=false,v=false,x=false},...))if d.t then assert(d.t:match\"^[dox]$\",\"nm: invalid option '\"..d.t..\"' for argument -t\")end;if#d==0 then error(\"nm: missing file operand\")end;if d.o then d.t=\"o\"end;d.t=d.t or(d.P and\"d\"or\"x\")local e={d=\"%s%s %s %d %d\",o=\"%s%s %s %o %o\",x=\"%s%s %s %x %x\"}for f,g in ipairs(d)do local h={}local require=require;local j={}local k=setmetatable({require=function(l)local m=require(l)local n={name=l,lib=m,used={}}h[#h+1]=n;return setmetatable({},{__index=function(f,o)n.used[o]=true;return m[o]end,__newindex=function(f,o,p)n.used[o]=true;m[o]=p end})end,__scrapelocals=function()if not d.g and not d.e then for i=1,math.huge do local q,r=debug.getlocal(2,i)if not q then break end;local s=type(r)if s==\"function\"then j[#j+1]={lib=g,type=\"t\",name=q,value=tonumber(tostring(r):match(\": (%x+)\"),16),size=#string.dump(r)}elseif s==\"string\"then j[#j+1]={lib=g,type=\"d\",name=q,value=i,size=#r}elseif s==\"number\"then j[#j+1]={lib=g,type=\"d\",name=q,value=i,size=8}elseif s==\"boolean\"then j[#j+1]={lib=g,type=\"d\",name=q,value=i,size=1}elseif s==\"nil\"then j[#j+1]={lib=g,type=\"d\",name=q,value=i,size=0}else j[#j+1]={lib=g,type=\"d\",name=q,value=tonumber(tostring(r):match(\": (%x+)\"),16),size=#r or 8}end end end end},{__index=_G})local t,u=a.open(g,\"r\")if t then local v=t.readAll()t.close()local w;repeat local x=v:find(\"%f[A-Za-z0-9_]return%f[^A-Za-z0-9_]\",w and w+1)if x then w=x end until not x;if w and v:find(\"%f[A-Za-z0-9_]end%f[^A-Za-z0-9_]\",w)then w=nil end;if w then v=v:sub(1,w-1)..\" __scrapelocals() \"..v:sub(w)else v=v..\" __scrapelocals()\"end;local y,u=load(v,\"@\"..g,nil,k)if y then local z=b.getcwd()b.chdir(a.dirname(g))local A,B=pcall(y,a.basename(g):gsub(\"%.lua$\",\"\"),g)b.chdir(z)if A then local C=type(B)if not d.u then if C==\"function\"then j[#j+1]={lib=g,type=\"T\",name=\"\",value=tonumber(tostring(B):match(\": (%x+)\"),16),size=#string.dump(B)}elseif C==\"table\"then local i=1;for q,r in pairs(B)do local s=type(r)if s==\"function\"then j[#j+1]={lib=g,type=\"T\",name=q,value=tonumber(tostring(r):match(\": (%x+)\"),16),size=#string.dump(r)}elseif s==\"string\"then j[#j+1]={lib=g,type=\"D\",name=q,value=i,size=#r}elseif s==\"number\"then j[#j+1]={lib=g,type=\"D\",name=q,value=i,size=8}elseif s==\"boolean\"then j[#j+1]={lib=g,type=\"D\",name=q,value=i,size=1}elseif s==\"nil\"then j[#j+1]={lib=g,type=\"D\",name=q,value=i,size=0}else j[#j+1]={lib=g,type=\"D\",name=q,value=tonumber(tostring(r):match(\": (%x+)\"),16),size=#r or 8}end;i=i+1 end end end else io.stderr:write(\"nm: could not require \"..g..\": \"..B..\"\\n\")end;if not d.u then for q,r in pairs(k)do if q~=\"require\"and q~=\"__scrapelocals\"and q~=\"_ENV\"and q~=\"_G\"then local s=type(r)if s==\"function\"then j[#j+1]={lib=g,type=\"A\",name=q,value=tonumber(tostring(r):match(\": (%x+)\"),16),size=#string.dump(r)}elseif s==\"string\"then j[#j+1]={lib=g,type=\"A\",name=q,value=i,size=#r}elseif s==\"number\"then j[#j+1]={lib=g,type=\"A\",name=q,value=i,size=8}elseif s==\"boolean\"then j[#j+1]={lib=g,type=\"A\",name=q,value=i,size=1}elseif s==\"nil\"then j[#j+1]={lib=g,type=\"A\",name=q,value=i,size=0}else j[#j+1]={lib=g,type=\"A\",name=q,value=tonumber(tostring(r):match(\": (%x+)\"),16),size=#r or 8}end end end end;if not d.g and not d.e then for f,m in ipairs(h)do for q in pairs(m.used)do j[#j+1]={lib=m.name,type=\"U\",name=q}end end end;if d.v then table.sort(j,function(D,E)return(D.value or-1)<(E.value or-1)end)else table.sort(j,function(D,E)return D.name<E.name end)end;if#d>1 then print(g..\":\")end;for f,F in ipairs(j)do if d.P then print(e[d.t]:format(d.A and F.lib..\": \"or\"\",F.name,F.type,F.value or 0,F.size or 0))else if d.A then io.write(F.name..\":\")end;if F.value then io.write((\"%016x \"):format(F.value))else io.write(\"         \")end;print(F.type..\" \"..F.name)end end else io.stderr:write(\"nm: could not load \"..g..\": \"..u..\"\\n\")end else io.stderr:write(\"nm: could not load \"..g..\": \"..u..\"\\n\")end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=4032},["df.lua"]={created=1688258021929,type="file",modified=1688258018393,data="local a=require\"system.filesystem\"local b=require\"system.util\"local c=assert(b.argparse({k=false,P=false,t=false,h=false},...))local d=a.mountlist()local e={}if#c==0 then for f,g in ipairs(d)do e[f],g.stat=g,a.stat(g.path)end else for f,g in ipairs(c)do local h,i=a.stat(g)if h then for j,k in ipairs(d)do if k.path==h.mountpoint then e[f],k.stat=k,h;break end end else io.stderr:write(\"df: could not stat \"..g..\": \"..(i or\"\")..\"\\n\")end end end;if c.P then local l=c.k and 1024 or 512;print(\"Filesystem \"..l..\"-blocks Used Available Capacity Mounted on\")for j,g in ipairs(e)do print((\"%s %d %d %d %d%% %s\"):format(g.source,math.ceil(g.stat.capacity/l),math.ceil((g.stat.capacity-g.stat.freeSpace)/l),math.ceil(g.stat.freeSpace/l),math.floor((g.stat.capacity-g.stat.freeSpace)/g.stat.capacity*100),g.path))end elseif c.h then local function m(n)if n>=1000000000000 then return(\"%.3gT\"):format(n/1000000000000)elseif n>=1000000000 then return(\"%.3gG\"):format(n/1000000000)elseif n>=1000000 then return(\"%.3gM\"):format(n/1000000)elseif n>=1000 then return(\"%.3gK\"):format(n/1000)else return(\"%.3g \"):format(n)end end;print(\"Filesystem\\tSize  Used Avail Use% Mounted on\")for j,g in ipairs(e)do print((\"%s\\t%s %s %s %3d%% %s\"):format(g.source..(#g.source<8 and\"\\t\"or\"\"),m(g.stat.capacity),m(g.stat.capacity-g.stat.freeSpace),m(g.stat.freeSpace),math.floor((g.stat.capacity-g.stat.freeSpace)/g.stat.capacity*100),g.path))end else local l=c.k and 1024 or 512;print(\"Filesystem\\tSize\\tUsed\\tAvail\\tUse%\\tMounted on\")for j,g in ipairs(e)do print((\"%s\\t%d\\t%d\\t%d\\t%d%%\\t%s\"):format(g.source..(#g.source<8 and\"\\t\"or\"\"),math.ceil(g.stat.capacity/l),math.ceil((g.stat.capacity-g.stat.freeSpace)/l),math.ceil(g.stat.freeSpace/l),math.floor((g.stat.capacity-g.stat.freeSpace)/g.stat.capacity*100),g.path))end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1799},["tty.lua"]={created=1688258023219,type="file",modified=1688258020609,data="local a=require\"system.process\"local b=a.getpinfo(a.getpid())if b.stdout then print(\"tty\"..b.stdout)end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=104},["kill.lua"]={created=1688258022239,type="file",modified=1688258018913,data="local a=require\"system.ipc\"local b={}local c=a.signal.SIGTERM;local d;for e,f in ipairs{...}do if d then c,d=a.signal[\"SIG\"..f]or c,nil elseif f:sub(1,1)==\"-\"then f=f:sub(2)if f==\"s\"then d=true elseif f==\"l\"then b.l=true elseif a.signal[\"SIG\"..f]then c=a.signal[\"SIG\"..f]elseif tonumber(f)then c=tonumber(f)else error(\"unknown argument \"..f)end else b[#b+1]=assert(tonumber(f),\"invalid PID \"..f)end end;if b.l then if b[1]then for g,f in pairs(a.signal)do if f==b[1]then print(g:sub(4))return end end;print(\"UNKNOWN\")return false else for g,f in pairs(a.signal)do io.write(g:sub(4)..\" \")end;print()end else for e,f in ipairs(b)do a.kill(f,c)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=649},["man.lua"]={created=1688258022509,type="file",modified=1688258019369,data="local a=require\"system.filesystem\"local b=require\"system.util\"local c=assert(b.argparse({k=false,apropos=\"@k\",P=true,pager=\"@P\",M=true,manpath=\"@M\",S=true,s=\"@S\",sections=\"@S\",r=true,prompt=\"@r\",u=false,update=\"@u\"},...))local d=c.M or os.getenv(\"MANPATH\")or\"/usr/share/man\"local e=c.S or os.getenv(\"MANSECT\")or\"1 8 3 2 5 4 9 6 7\"local f={[\"and\"]=true,[\"break\"]=true,[\"do\"]=true,[\"else\"]=true,[\"elseif\"]=true,[\"end\"]=true,[\"for\"]=true,[\"function\"]=true,[\"if\"]=true,[\"in\"]=true,[\"local\"]=true,[\"not\"]=true,[\"or\"]=true,[\"repeat\"]=true,[\"return\"]=true,[\"then\"]=true,[\"until\"]=true,[\"while\"]=true}local g={[\"false\"]=true,[\"nil\"]=true,[\"true\"]=true}if c.u then for h in d:gmatch\"[^:]+\"do local i=assert(io.open(a.combine(h,\".mandb\"),\"w\"))for j,k in ipairs(a.list(h))do if k:match\"^man\"then for j,l in ipairs(a.list(a.combine(h,k)))do local m=l:match(\"^[^%.]+\")..\"(\"..k:sub(4)..\"): \"local n=io.open(a.combine(h,k,l),\"r\")if n then for o in n:lines()do local p=o:match(\"<summary>(.-)</summary>\")if p then m=m..p;break end end;n:close()end;i:write(m..\"\\n\")end end end;i:close()end;return true elseif c.k then for j,q in ipairs(c)do for h in d:gmatch\"[^:]+\"do local i=io.open(a.combine(h,\".mandb\"),\"r\")if i then for o in i:lines()do if o:match(q)then print(o)end end;i:close()end end end;return true end;if#c>1 and c[1]:match(\"^%d\")then e=table.remove(c,1)end;for j,q in ipairs(c)do for h in d:gmatch\"[^:]+\"do local r=nil;for s in e:gmatch\"[0-9a-z]+\"do if a.exists(a.combine(h,\"man\"..s,q..\".md\"))then r=a.combine(h,\"man\"..s,q..\".md\")break elseif a.exists(a.combine(h,\"man\"..s,q))then r=a.combine(h,\"man\"..s,q)break end end;if r then local m=\"\"local t=true;local u=false;for o in io.lines(r)do if u then if o==\"```\"then u=false;t=true;m=m..\"\\x1b[0m\\n\"else if u==\"lua\"then o=o:gsub(\"%f[%d](%d+)%f[%D]\",\"\\x1b[94m%1\\x1b[37m\"):gsub(\"%-%-.*$\",\"\\x1b[32m%0\\x1b[37m\"):gsub(\"%f[\\\\'\\\"]['\\\"].*%f[\\\\'\\\"]['\\\"]\",\"\\x1b[31m%0\\x1b[37m\")for v in pairs(f)do o=o:gsub(\"%f[0-9A-Za-z_]\"..v..\"%f[^0-9A-Za-z_]\",\"\\x1b[93m%0\\x1b[37m\")end;for v in pairs(g)do o=o:gsub(\"%f[0-9A-Za-z_]\"..v..\"%f[^0-9A-Za-z_]\",\"\\x1b[34m%0\\x1b[37m\")end end;m=m..o..\"\\n\"end else if o:match\"^#\"then if not t then m=m..\"\\n\"end;m=m..\"\\x1b[92m\"..o:match\"^#+%s*(.*)$\"..\"\\x1b[0m\\n\"t=true elseif o:match\"^%s*[%-%*]%s+\"then if not t then m=m..\"\\n\"end;m=m..o:match\"^(%s*)\"..\" \\7 \"..o:match\"^%s*[%-%*]%s+(.*)$\"..\"\\n\"t=true elseif o:match\"^%d+%.%s\"then if not t then m=m..\"\\n\"end;m=m..o..\"\\n\"t=true elseif o:match\"^>%s\"then if not t then m=m..\"\\n\"end;m=m..\"\\x1b[47m\\x1b[30m\\x95\\x1b[49m\\x1b[37m \"..o:match\"^>%s+(.*)$\"..\"\\x1b[0m\\n\"t=true elseif o:match\"^%-%-%-\"then if not t then m=m..\"\\n\"end;m=m..\"\\x8C\\x8C\\x8C\\x8C\\x8C\\x8C\\x8C\\x8C\\x8C\\x8C\\n\"t=true elseif o:match\"<summary>.*</summary>\"then elseif o:match\"^```\"then if o==\"```lua\"then u=\"lua\"else u=true end;if not t then m=m..\"\\n\"end;m=m..\"\\x1b[37m\"else o=o:gsub(\"%f[\\\\%*]%*%*(%S.-)%f[\\\\%*]%*%*\",\"\\x1b[94m%1\\x1b[0m\"):gsub(\"%f[\\\\%*]%*(%S.-)%f[\\\\%*]%*\",\"\\x1b[92m%1\\x1b[0m\"):gsub(\"%f[\\\\`]`(.-)%f[\\\\`]`\",\"\\x1b[37m%1\\x1b[0m\"):gsub(\"\\\\x(%x%x)\",function(w)return string.char(tonumber(w,16))end):gsub(\"\\\\e\",\"\\x1b\")m=m..o..\" \"t=false end;if not t then if o:match\"^%s*$\"then m=m..\"\\n\\n\"t=true elseif o:match\"%s%s$\"then m=m..\"\\n\"t=true end end end end;io.popen(c.P or\"/bin/less -P '\"..(c.r or\"Manual page \"..q)..\"'\",\"w\"):write(m..\"\\n\"):close()break end end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=3328},["nano.lua"]={created=1688258022706,type="file",modified=1688258019706,data="local a=require\"system.filesystem\"local b=require\"system.framebuffer\"local c=require\"system.keys\"local d=require\"system.terminal\"local e=require\"system.util\"local f=\"0.1\"local g=assert(e.argparse({},...))local h={[c.leftBracket]='{',[c.rightBracket]='}',[c.minus]='_',[c.nine]='(',[c.zero]=')',[c.semicolon]=':',[c.up]='\\24',[c.down]='\\25',[c.left]='\\27',[c.right]='\\26'}local i,j;local k=assert(d.openterm())local l=d.termctl()d.termctl{raw=true}local m,n=k.getSize()local o=g[1]local p={}local q=1;local r,s=1,1;local t=b.window(k,1,2,m,n-4)local u=false;local v,w;local x=false;local y,z=\"\",1;local A;local B=true;local function C(D,E,F)if#D<E then return(F and\"\"or(' '):rep(math.ceil((E-#D)/2)))..D..(' '):rep(math.floor((E-#D)/(F and 1 or 2)))elseif#D==E then return D elseif F then return D:sub(1,E)else return\"...\"..D:sub(-E+3)end end;local function G(H)local I=\"\"if H.key==c.delete and H.shift then I=\"Sh-\"end;if H.ctrl then I=I..\"^\"elseif H.alt then I=I..\"M-\"end;if h[H.key]then I=I..h[H.key]else I=I..c.getCharacter(H.key):upper()end;return I end;local function J()if v then k.setTextColor(d.colors.black)k.setBackgroundColor(d.colors.white)if x then k.setCursorPos(1,n-2)k.clearLine()k.write(v)local E=m-#v-1;if#y>E then if z<E-1 then k.write(y:sub(1,E-1)..\">\")k.setCursorPos(#v+z,n-2)else local K=math.floor((z-E+1)/(E-8)+1)*(E-8)+2;k.write(\"<\"..y:sub(K,K+E-3))if#y>K+m-1 then k.write(\">\")else k.write(y:sub(K+E-3,K+E-2))end;k.setCursorPos(#v+z-K+2,n-2)end else k.write(y)k.setCursorPos(#v+z,n-2)end else k.setCursorPos(math.floor((m-#v)/2)+1,n-2)k.write(v)end;k.setTextColor(d.colors.white)k.setBackgroundColor(d.colors.black)end end;local L;local function M()k.setBackgroundColor(d.colors.black)k.clear()k.setCursorBlink(false)k.setCursorPos(1,1)k.setBackgroundColor(d.colors.white)k.setTextColor(d.colors.black)if m>=#f+#o+26 then k.write(\"  Phoenix nano \"..f..C(o,m-#f-26)..(u and\" Modified  \"or(' '):rep(11)))elseif m>=#o+13 then k.write(\"  \"..C(o,m-13)..(u and\" Modified  \"or(' '):rep(11)))elseif m>=#o+4 and not u then k.write(\"  \"..C(o,m-4)..\"  \")else k.write(C(o,u and m-9 or m)..(u and\" Modified\"or\"\"))end;J()local N,O=k.getCursorPos()k.setCursorPos(1,n-1)local P=math.floor(m/20)+2;local Q=math.floor(m/P)for R=1,P do if not i[1][R]then break end;local H=G(i[1][R])local D=C(H..\" \"..i[1][R].description,R==P and m-Q*(R-1)or Q,true)k.blit(D,('f'):rep(#H)..('0'):rep(#D-#H),('0'):rep(#H)..('f'):rep(#D-#H))end;k.setCursorPos(1,n)for R=1,P do if not i[2][R]then break end;local H=G(i[2][R])local D=C(H..\" \"..i[2][R].description,R==P and m-Q*(R-1)or Q,true)k.blit(D,('f'):rep(#H)..('0'):rep(#D-#H),('0'):rep(#H)..('f'):rep(#D-#H))end;L()if v and x then k.setCursorPos(N,O)end end;L=function()t.setBackgroundColor(d.colors.black)t.setTextColor(d.colors.white)t.clear()t.setCursorBlink(false)local S,T;for R=1,n-4 do t.setCursorPos(1,R)if p[q+R-1]==nil then break end;if R+q-1==s and#p[q+R-1]>m then if r<m-1 then t.write(p[q+R-1]:sub(1,m-1))t.blit(\">\",\"f\",\"0\")t.setBackgroundColor(d.colors.black)t.setTextColor(d.colors.white)else local K=math.floor((r-m+1)/(m-8)+1)*(m-8)+2;t.blit(\"<\",\"f\",\"0\")t.setBackgroundColor(d.colors.black)t.setTextColor(d.colors.white)t.write(p[q+R-1]:sub(K,K+m-3))if#p[q+R-1]>K+m-1 then t.blit(\">\",\"f\",\"0\")t.setBackgroundColor(d.colors.black)t.setTextColor(d.colors.white)else t.write(p[q+R-1]:sub(K+m-3,K+m-2))end;S,T=r-K+2,s-q+1 end elseif#p[q+R-1]>m then t.write(p[q+R-1]:sub(1,m-1))t.blit(\">\",\"f\",\"0\")t.setBackgroundColor(d.colors.black)t.setTextColor(d.colors.white)else t.write(p[q+R-1])end end;if S==nil then S,T=r,s-q+1 end;t.setCursorPos(S,T)t.setCursorBlink(true)end;local function U(V)v=V;x=false;w=20;M()end;local function W(V,X,Y)v=V;w=nil;x=true;i=X or i;y=\"\"z=1;A=Y;M()end;local function Z(_)local a0=1;local a1={\"File Name to Write: \",\"File Name to Write [DOS Format]: \",\"File Name to Write [Mac Format]: \"}W(\"File Name to Write: \",{{{key=c.g,ctrl=true,description=\"Help\"},{key=c.d,alt=true,description=\"DOS Format\",action=function()if a0==2 then a0=1 else a0=2 end;v=a1[a0]J()end},{key=c.a,alt=true,description=\"Append\"},{key=c.b,alt=true,description=\"Backup File\"}},{{key=c.c,ctrl=true,description=\"Cancel\",action=function()i=j;U\"[ Cancelled ]\"end},{key=c.m,alt=true,description=\"Mac Format\",action=function()if a0==3 then a0=1 else a0=3 end;v=a1[a0]J()end},{key=c.p,alt=true,description=\"Prepend\"},{key=c.t,ctrl=true,description=\"Browse\"}}},function(a2)local a3,a4=a.open(a2,\"w\")if not a3 then U(\"[ Could not write file: \"..a4 ..\" ]\")return end;local a5=({\"\\n\",\"\\r\\n\",\"\\r\"})[a0]for a6,a7 in ipairs(p)do a3.write(a7 ..a5)end;a3.close()u=false;if _ then B=false else U(\"[ Wrote \"..#p..\" lines ]\")end end)if g[1]then y=o;z=#o+1;J()end end;j={{{key=c.g,ctrl=true,description=\"Get Help\"},{key=c.o,ctrl=true,description=\"Write Out\",action=Z},{key=c.w,ctrl=true,description=\"Where Is\"},{key=c.k,ctrl=true,description=\"Cut Text\"},{key=c.j,ctrl=true,description=\"Justify\"},{key=c.c,ctrl=true,description=\"Cur Pos\",action=function()local a8=0;for T=1,s-1 do a8=a8+#p[T]end;local a9=a8;for T=s,#p do a9=a9+#p[T]end;U((\"[ line %d/%d, col %d/%d, char %d/%d ]\"):format(s,#p,r,#p[s],a8+r-1,a9))end},{key=c.u,alt=true,description=\"Undo\"},{key=c.a,alt=true,description=\"Mark Text\"},{key=c.rightBracket,alt=true,description=\"To Bracket\"},{key=c.q,alt=true,description=\"Previous\"},{key=c.b,ctrl=true,description=\"Back\"},{key=c.left,ctrl=true,description=\"Prev Word\"},{key=c.a,ctrl=true,description=\"Home\"},{key=c.p,ctrl=true,description=\"Prev Line\"},{key=c.up,alt=true,description=\"Scroll Up\"},{key=c.up,ctrl=true,description=\"Prev Block\"},{key=c.nine,shift=true,alt=true,description=\"Beg of Par\"},{key=c.y,ctrl=true,description=\"Prev Page\"},{key=c.backslash,alt=true,description=\"First Line\"},{key=c.left,alt=true,description=\"Prev File\"},{key=c.i,ctrl=true,description=\"Tab\"},{key=c.h,ctrl=true,description=\"Backspace\"},{key=c.delete,shift=true,ctrl=true,description=\"Chop Left\"},{key=c.t,alt=true,description=\"CutTillEnd\"},{key=c.d,alt=true,description=\"Word Count\"},{key=c.l,ctrl=true,description=\"Refresh\"},{key=c.rightBracket,shift=true,alt=true,description=\"Indent\"},{key=c.three,alt=true,description=\"Comment Lines\"},{key=c.semicolon,shift=true,alt=true,description=\"Record\"},{key=c.delete,alt=true,description=\"Zap Text\"},{key=c.f,alt=true,description=\"Formatter\"}},{{key=c.x,ctrl=true,description=\"Exit\"},{key=c.r,ctrl=true,description=\"Read File\"},{key=c.backslash,ctrl=true,description=\"Replace\"},{key=c.u,ctrl=true,description=\"Paste Text\"},{key=c.t,ctrl=true,description=\"To Spell\"},{key=c.minus,shift=true,ctrl=true,description=\"Go To Line\",action=function()W(\"Enter line number, column number: \",{{{key=c.g,ctrl=true,description=\"Help\"},{key=c.w,ctrl=true,description=\"Begin of Paragr.\"},{key=c.y,ctrl=true,description=\"First Line\"},{key=c.t,ctrl=true,description=\"Go To Text\"}},{{key=c.c,ctrl=true,description=\"Cancel\",action=function()i=j;U\"[ Cancelled ]\"end},{key=c.o,ctrl=true,description=\"End of Paragraph\"},{key=c.v,ctrl=true,description=\"Last Line\"}}},function(V)local aa=tonumber(V)if aa and aa<=#p then s=aa;if s<q then q=s elseif s-n+5>q then q=s-n+5 end else U\"[ Invalid line or column number ]\"end end)end},{key=c.e,alt=true,description=\"Redo\"},{key=c.six,alt=true,description=\"Copy Text\"},{key=c.q,ctrl=true,description=\"Where Was\"},{key=c.w,alt=true,description=\"Next\"},{key=c.f,ctrl=true,description=\"Forward\"},{key=c.right,ctrl=true,description=\"Next Word\"},{key=c.e,ctrl=true,description=\"End\"},{key=c.n,ctrl=true,description=\"Next Line\"},{key=c.down,alt=true,description=\"Scroll Down\"},{key=c.down,ctrl=true,description=\"Next Block\"},{key=c.zero,shift=true,alt=true,description=\"End of Par\"},{key=c.v,ctrl=true,description=\"Next Page\"},{key=c.slash,alt=true,description=\"Last Line\"},{key=c.right,alt=true,description=\"Next File\"},{key=c.m,ctrl=true,description=\"Enter\"},{key=c.d,ctrl=true,description=\"Delete\"},{key=c.delete,ctrl=true,description=\"Chop Right\"},{key=c.j,alt=true,description=\"FullJstify\"},{key=c.v,alt=true,description=\"Verbatim\"},{key=c.z,ctrl=true,description=\"Suspend\"},{key=c.leftBracket,shift=true,alt=true,description=\"Unindent\"},{key=c.rightBracket,ctrl=true,description=\"Complete\"},{key=c.semicolon,alt=true,description=\"Run Macro\"},{key=c.b,alt=true,description=\"To Linter\"},{key=c.s,ctrl=true,description=\"Save\"}}}i=j;if o then if a.stat(o)then for ab in io.lines(o)do table.insert(p,ab)end;U(\"[ Read \"..#p..\" lines ]\")else U\"[ New File ]\"end else o=\"New Buffer\"U\"[ Welcome to nano. For basic help, type Ctrl+G. ]\"end;M()while B do local ac,ad=coroutine.yield()if v and x then if ac==\"key\"then if ad.keycode==c.left and z>1 then z=z-1;J()elseif ad.keycode==c.right and z<=#y then z=z+1;J()elseif ad.keycode==c.backspace and z>1 then y=y:sub(1,z-2)..y:sub(z)z=z-1;J()elseif ad.keycode==c.delete then y=y:sub(1,z-1)..y:sub(z+1)J()elseif ad.keycode==c.enter then v,x=nil;i=j;A(y)M()else local ae;for a6,a7 in ipairs(i[1])do if ad.keycode==a7.key and ad.ctrlHeld==(a7.ctrl or false)and ad.altHeld==(a7.alt or false)and ad.shiftHeld==(a7.shift or false)then if a7.action then a7.action()end;ae=true;break end end;if not ae then for a6,a7 in ipairs(i[2])do if ad.keycode==a7.key and ad.ctrlHeld==(a7.ctrl or false)and ad.altHeld==(a7.alt or false)and ad.shiftHeld==(a7.shift or false)then if a7.action then a7.action()end;ae=true;break end end end end elseif ac==\"char\"then y=y:sub(1,z-1)..ad.character..y:sub(z)z=z+1;J()end else if ac==\"key\"then if ad.keycode==c.up and s>1 then s=s-1;if s<q then q=s end;if not p[s]then r=1 elseif r>#p[s]+1 then r=#p[s]+1 end;L()elseif ad.keycode==c.down and s<=#p then s=s+1;if s-n+5>q then q=s-n+5 end;if not p[s]then r=1 elseif r>#p[s]+1 then r=#p[s]+1 end;L()elseif ad.keycode==c.right and p[s]then if#p[s]<r then s=s+1;r=1 else r=r+1 end;L()elseif ad.keycode==c.left and(r>1 or s>1)then if r==1 then s=s-1;r=#p[s]+1 else r=r-1 end;L()elseif ad.keycode==c.backspace then if r==1 then if s~=1 then r=#p[s-1]+1;p[s-1]=p[s-1]..(table.remove(p,s)or\"\")s=s-1;if s<q then q=s end end else p[s]=p[s]:sub(1,r-2)..p[s]:sub(r)r=r-1 end;if not u then u=true;M()else L()end elseif ad.keycode==c.delete and p[s]then if r==#p[s]+1 then p[s]=p[s]..(table.remove(p,s+1)or\"\")else p[s]=p[s]:sub(1,r-1)..p[s]:sub(r+1)end;if not u then u=true;M()else L()end elseif ad.keycode==c.enter then local af=(p[s]or\"\"):sub(r)p[s]=(p[s]or\"\"):sub(1,r-1)table.insert(p,s+1,af)r=1;s=s+1;if s-n+5>q then q=s-n+5 end;if not u then u=true;M()else L()end elseif ad.keycode==c.x and ad.ctrlHeld then local ag=true;if u then k.setCursorPos(1,n-2)k.setBackgroundColor(d.colors.white)k.setTextColor(d.colors.black)k.clearLine()k.write(\"Save modified buffer?\")k.setBackgroundColor(d.colors.black)k.setTextColor(d.colors.white)k.setCursorPos(1,n-1)k.clearLine()k.blit(\" Y Yes\",\"ff0000\",\"00ffff\")k.setCursorPos(1,n)k.clearLine()k.blit(\" N No       ^C Cancel\",\"ff0000000000ff0000000\",\"00ffffffffff00fffffff\")k.setCursorBlink(false)while true do ac,ad=coroutine.yield()if ac==\"key\"and ad.keycode==c.c and ad.ctrlHeld then ag=false;break elseif ac==\"char\"then if ad.character==\"y\"then Z(true)ag=false;break elseif ad.character==\"n\"then break end end end end;if ag then break end;if not x then U\"[ Cancelled ]\"end else local ae;for a6,a7 in ipairs(i[1])do if ad.keycode==a7.key and ad.ctrlHeld==(a7.ctrl or false)and ad.altHeld==(a7.alt or false)and ad.shiftHeld==(a7.shift or false)then if a7.action then a7.action()end;ae=true;break end end;if not ae then for a6,a7 in ipairs(i[2])do if ad.keycode==a7.key and ad.ctrlHeld==(a7.ctrl or false)and ad.altHeld==(a7.alt or false)and ad.shiftHeld==(a7.shift or false)then if a7.action then a7.action()end;ae=true;break end end end end elseif ac==\"char\"then if p[s]then p[s]=p[s]:sub(1,r-1)..ad.character..p[s]:sub(r)else p[s]=ad.character end;r=r+1;if not u then u=true;M()else L()end end end;if w then w=w-1;if w==0 then v,w=nil;M()end end end;k.setBackgroundColor(d.colors.black)k.setTextColor(d.colors.white)k.clear()k.setCursorPos(1,1)k.close()d.termctl(l)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=11996},["touch.lua"]={created=1688258023139,type="file",modified=1688258020466,data="for a,b in ipairs{...}do if b:sub(1,1)~=\"-\"then assert(io.open(b,\"a\")):close()end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=86},["sleep.lua"]={created=1688258023099,type="file",modified=1688258020396,data="require\"system.util\".sleep(tonumber(...))\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=42},["expand.lua"]={created=1688258022083,type="file",modified=1688258018636,data="local a=require\"system.util\"local b=assert(a.argparse({t=true},...))b.t=b.t or\"8\"if#b==0 then b[1]=\"-\"end;local c={}if b.t:match(\"^%d+$\")then local d=tonumber(b.t)setmetatable(c,{__index=function(e,f)return math.ceil((f+1)/d)*d-f end})elseif b.t:match(\"^[%d, ]+$\")then local g=1;for h in b.t:gmatch\"%d+\"do local d=tonumber(h)assert(d>g,\"expand: invalid tab stop format\")for i=g,d-1 do c[i]=d-i end;g=d end;setmetatable(c,{__index=function(e,f)return 1 end})else error(\"expand: invalid tab stop format\")end;for e,j in ipairs(b)do for k in io.lines(j~=\"-\"and j or nil)do print(k:gsub(\"()\\t\",function(f)return(\" \"):rep(c[f])end))end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=634},["shell.lua"]={created=1688258010616,type="file",modified=1688258010576,data="for a,b in pairs(require\"craftos\")do if a~=\"shell\"and a~=\"multishell\"then _G[a]=b end end;if not fs.isDir(\"/rom\")then if select(2,coroutine.yield(\"syscall\",\"getuser\"))~=\"root\"then error(\"The CraftOS ROM must be mounted to /rom. Please mount it as root.\")end;fs.makeDir(\"/rom\")end;if not fs.isDir(\"/rom/programs\")then if select(2,coroutine.yield(\"syscall\",\"getuser\"))~=\"root\"then error(\"The CraftOS ROM must be mounted to /rom. Please mount it as root.\")end;coroutine.yield(\"syscall\",\"mount\",\"craftos\",\"/rom\",\"/rom\",{})end;coroutine.yield(\"syscall\",\"chdir\",\"/\")return coroutine.yield(\"syscall\",\"exec\",\"/rom/programs/shell.lua\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=631},["screenfetch.lua"]={created=1688258023019,type="file",modified=1688258020256,data="local a=require\"system.filesystem\"local b=require\"system.hardware\"local c=require\"system.process\"local d=require\"system.terminal\"local e=require\"system.util\"local f={\"\\x1b[30;40m                \\x1b[0m\",\"\\x1b[30;40m  \\x1b[33;106m\\x88\\x1b[96;43m\\x8F\\x1b[96;40m\\x90 \\x1b[30;106m\\x9F\\x1b[96;40m\\x90   \\x1b[30;106m\\x9F\\x1b[96;43m\\x8F\\x1b[33;106m\\x84\\x1b[30;40m  \\x1b[0m\",\"\\x1b[96;40m \\x9A\\x1b[33;106m\\x89\\x84\\x1b[33;41m\\x82\\x1b[33;40m\\x94\\x1b[30;106m\\x95 \\x1b[96;40m\\x90 \\x1b[30;43m\\x97\\x1b[33;41m\\x81\\x1b[33;106m\\x88\\x86\\x1b[30;106m\\x9A\\x1b[30;40m \\x1b[0m\",\"\\x1b[30;106m\\x9F\\x1b[96;43m\\x9B\\x8C\\x1b[96;41m\\x95 \\x1b[33;40m\\x95\\x1b[30;106m\\x95 \\x96\\x1b[30;40m \\x1b[30;43m\\x95\\x1b[96;41m \\x1b[31;106m\\x95\\x1b[96;43m\\x8C\\x1b[33;106m\\x98\\x1b[96;40m\\x90\\x1b[0m\",\"\\x1b[30;106m\\x95\\x1b[33;106m\\x8C\\x84\\x1b[96;41m\\x95 \\x1b[30;43m\\x8A\\x1b[30;106m\\x95\\x1b[96;100m\\x8F\\x8F\\x1b[96;40m\\x95\\x1b[30;43m\\x85\\x1b[96;41m \\x1b[31;106m\\x95\\x1b[33;106m\\x88\\x8C\\x1b[96;40m\\x95\\x1b[0m\",\"\\x1b[96;40m\\x8A\\x1b[96;43m\\x9C\\x8E\\x1b[31;106m\\x82\\x1b[33;41m \\x82\\x1b[90;106m\\x95\\x1b[33;106m\\x90\\x1b[96;43m\\x9F\\x1b[96;100m\\x95\\x1b[33;41m\\x81 \\x1b[31;106m\\x81\\x1b[96;43m\\x8D\\x1b[33;106m\\x93\\x1b[96;40m\\x85\\x1b[0m\",\"\\x1b[30;40m \\x1b[96;43m\\x9E\\x1b[33;106m\\x8C\\x1b[96;43m\\x9B\\x1b[31;106m\\x82\\x1b[96;41m\\x90\\x1b[90;106m\\x95\\x1b[33;106m\\x85\\x8A\\x1b[96;100m\\x95\\x1b[31;106m\\x9F\\x81\\x1b[33;106m\\x98\\x8C\\x92\\x1b[30;40m \\x1b[0m\",\"\\x1b[96;40m \\x82\\x1b[33;106m\\x86\\x99\\x99\\x1b[96;100m\\x95\\x1b[33;106m\\x8A\\x88\\x81\\x85\\x1b[90;106m\\x95\\x1b[96;43m\\x99\\x99\\x1b[33;106m\\x89\\x1b[106;40m\\x81 \\x1b[0m\",\"\\x1b[33;40m  \\x82\\x8B\\x1b[90;106m \\x96 \\x1b[33;106m\\x95\\x1b[96;43m\\x95\\x1b[96;106m \\x1b[96;100m\\x96\\x1b[96;106m \\x1b[33;40m\\x87\\x81  \\x1b[0m\",\"\\x1b[96;40m     \\x83\\x8B\\x8F\\x8F\\x87\\x83     \\x1b[0m\",\"\\x1b[30;40m                \\x1b[0m\"}local function g(h)local i=math.floor(h/3600)local j=math.floor(h/60)%60;local k=h%60;local l=k..\"s\"if j>0 or i>0 then l=j..\"m \"..l end;if i>0 then l=i..\"h \"..l end;return l end;local function m(h)if h>=1073741824 then return(\"%.3g GiB\"):format(h/1073741824)elseif h>=1048576 then return(\"%.3g MiB\"):format(h/1048576)elseif h>=1024 then return(\"%.3g kiB\"):format(h/1024)else return(\"%.3g B\"):format(h)end end;local n={\"\\x1b[96m\"..c.getuser()..\"\\x1b[0m@\\x1b[96m\"..(b.call(\"/\",\"getLabel\")or\"Computer \"..b.info(\"/\").id)}n[#n+1]=(\"-\"):rep(#n[1]-14)local function o(p,q)n[#n+1]=\"\\x1b[96m\"..p..\"\\x1b[0m: \"..q end;o(\"OS\",\"Phoenix \"..e.syscall.version())o(\"Uptime\",g(e.syscall.uptime()))o(\"Runtime\",e.syscall.cchost():match(\"%b()\"):sub(2,-2))o(\"Lua\",_VERSION)o(\"CC Version\",e.syscall.cchost():match(\"ComputerCraft [%d%.]+\"))o(\"Resolution\",table.concat({d.termsize()},\"x\"))local r=a.stat(\"/\")o(\"Disk Space\",m(r.freeSpace)..\" / \"..m(r.capacity))if collectgarbage then o(\"Memory\",m(collectgarbage(\"count\")*1024))end;n[#n+1]=\"\"n[#n+1]=\"\\x1b[40m   \\x1b[41m   \\x1b[42m   \\x1b[43m   \\x1b[44m   \\x1b[45m   \\x1b[46m   \\x1b[47m   \\x1b[0m\"n[#n+1]=\"\\x1b[100m   \\x1b[101m   \\x1b[102m   \\x1b[103m   \\x1b[104m   \\x1b[105m   \\x1b[106m   \\x1b[107m   \\x1b[0m\"n[#n+1]=\"\"local s=d.termsize()-18;for t=1,math.max(#f,#n)do local k=n[t]or\"\"local u,v=0,false;for w,x in k:gmatch\"(.)()\"do if v then if w=='m'then v=false end elseif w=='\\x1b'then v=true else u=u+1;if u==s then k=k:sub(1,x)v=true;break end end end;if v then io.write((f[t]or\"                \")..\"  \"..k)else print((f[t]or\"                \")..\"  \"..k)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=3370},["cmp.lua"]={created=1688258021733,type="file",modified=1688258018093,data="local a=require\"system.util\"local b=assert(a.argparse({l=false,s=false},...))if#b<2 then error(\"usage: cmp [-ls] <file1> <file2>\")end;local c,d;if b[1]==\"-\"then c=io.stdin else c=io.open(b[1],\"rb\")end;if b[2]==\"-\"then d=io.stdin else d=io.open(b[2],\"rb\")end;local function e(f)if c~=io.stdin then c:close()end;if d~=io.stdin then d:close()end;return f end;if c==d then return e(0)end;local g,h=1,0;for i=1,math.huge do local j=c:read(1)local k=d:read(1)if j~=k then h=1;if not j then if not b.s then io.stderr:write(\"cmp: EOF on \"..b[1]..\"\\n\")end elseif not k then if not b.s then io.stderr:write(\"cmp: EOF on \"..b[2]..\"\\n\")end elseif not b.s then if b.l then io.write(i..\" \"..j..\" \"..k..\"\\n\")else io.write((\"%s %s differ: char %d, line %d\\n\"):format(b[1],b[2],i,g))end end;if not b.l then return e(1)end end;if j==\"\\n\"then g=g+1 end;if not j or not k then break end end;return e(h)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=883},["du.lua"]={created=1688258021966,type="file",modified=1688258018453,data="local a=require\"system.filesystem\"local b=require\"system.util\"local c=assert(b.argparse({a=false,s=false,k=false,h=false,x=false,H=false,L=false},...))if#c==0 then c[1]=\".\"end;local d=0;local function e(f)if c.h then if f>=1000000000000 then return(\"%.3gT\"):format(f/1000000000000)elseif f>=1000000000 then return(\"%.3gG\"):format(f/1000000000)elseif f>=1000000 then return(\"%.3gM\"):format(f/1000000)elseif f>=1000 then return(\"%.3gK\"):format(f/1000)else return(\"%.3g \"):format(f)end elseif c.k then return math.ceil(f/1024)else return math.ceil(f/512)end end;local function g(h,i,j)local k,l=a.stat(h,not(j and c.H or c.L))if k then if i==true then i=k.mountpoint end;if i and i~=k.mountpoint then return 0 end;if k.type==\"directory\"then local m=0;for n,o in ipairs(a.list(h))do m=m+g(a.combine(h,o),i)end;if not c.s then print(e(m),h)end;return m else if c.a and not c.s then print(e(k.size),h)end;return k.size end else io.stderr:write(\"du: could not stat \"..h..\": \"..(l or\"\")..\"\\n\")d=1;return 0 end end;for n,o in ipairs(c)do local m=g(o,c.x,true)if c.s then print(e(m),o)end end;return d\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1092},["echo.lua"]={created=1688258022006,type="file",modified=1688258018513,data="print(...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=11},["rm.lua"]={created=1688258022939,type="file",modified=1688258020116,data="local a=require\"system.filesystem\"local b=require\"system.util\"local c=assert(b.argparse({f=false,i=false,R=\"@r\",r=false,[\"no-preserve-root\"]=false},...))local d=true;for e,f in ipairs(c)do local g=a.stat(f)if not c[\"no-preserve-root\"]and a.combine(f)==\"/\"then io.stderr:write(\"rm: refusing to remove root directory\")elseif not g then if not c.f then io.stderr:write(\"rm: \"..f..\": No such file or directory\\n\")end;d=false elseif g.type==\"directory\"then if c.r then a.remove(f)else io.stderr:write(\"rm: -r not specified, skipping directory \"..f..\"\\n\")d=false end else a.remove(f)end end;return d\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=594},["ps.lua"]={created=1688258022823,type="file",modified=1688258019909,data="local a=setmetatable({},{__index=function(self,b)return function(...)local c=table.pack(coroutine.yield(\"syscall\",b,...))if c[1]then return table.unpack(c,2,c.n)else error(c[2],2)end end end,__newindex=function()end})local d=a.getplist()print(\"PID\\tTTY\\tTIME\\t\\tCMD\")for e,f in ipairs(d)do local g=a.getpinfo(f)if g then print(f,g.stdout and\"tty\"..g.stdout or\"?\",(\"%02d:%02d:%02d.%03d\"):format(math.floor(g.cputime/3600),math.floor(g.cputime/60),math.floor(g.cputime),math.floor(g.cputime*1000)%1000),g.name)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=516},["lua.lua"]={created=1688258022473,type="file",modified=1688258019303,data="local a=require\"system.util\"local b=require\"system.pretty\"local c=assert(a.argparse({h=false,help=false,e=true,l=true,i=false,v=false},...))for d,e in ipairs(c)do if e==\"--\"then table.remove(c,d)break end end;if c.h then print[=[\nusage: lua [options] [script [args]].\nAvailable options are:\n  -e stat  execute string 'stat'\n  -l name  require library 'name'\n  -i       enter interactive mode after executing 'script'\n  -v       show version information\n  --       stop handling options\n  -        execute stdin and stop handling options\n]=]return 0 elseif c.v then print(_VERSION,\"Copyright (C) 2021 JackMacWindows\")return 0 end;if c.l then _ENV[c.l]=require(c.l)end;if c.e then assert(load(c.e,\"=(command line)\",\"t\"))()end;if c[1]then local f;if c[1]==\"-\"then f=assert(load(function()return io.stdin:read(\"*L\")end,\"=stdin\"))else f=assert(load(c[1],\"@\"..c[1]))end;f(table.unpack(c,2,#c))if not c.i then return 0 end end;print(_VERSION,\"Copyright (C) 2021 JackMacWindows\")while true do local g=\"\"local f,h;repeat if g==\"\"then io.stdout:write(\"> \")else io.stdout:write(\">> \")end;local i=io.stdin:read(\"*L\")if not i then print()return 0 end;g=g..i;f,h=load(\"return \"..g,\"=stdin\")if not f then f,h=load(g,\"=stdin\")end until f or not h:match(\"<eof>\")if f then local j=table.pack(pcall(f))if j[1]then for d=2,j.n do b.print(b.pretty(j[d],{function_source=true,function_args=true}))end else io.stderr:write(j[2]..\"\\n\")end else io.stderr:write(h..\"\\n\")end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1452},["pwd.lua"]={created=1688258022859,type="file",modified=1688258019979,data="print(select(2,coroutine.yield(\"syscall\",\"getcwd\")))\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=53},["halt.lua"]={created=1688258022199,type="file",modified=1688258018849,data="coroutine.yield(\"syscall\",\"devcall\",\"/\",\"shutdown\")\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=52},["ls.lua"]={created=1688258022396,type="file",modified=1688258019173,data="local a=require\"system.filesystem\"local b=require\"system.util\"local c=b.argparse({A=false,C=false,F=false,H=false,L=false,R=false,S=false,a=false,c=false,d=false,f=false,g=false,i=false,k=false,l=false,m=false,n=false,o=false,p=false,q=false,r=false,s=false,t=false,u=false,x=false,[\"1\"]=false},...)if not c[1]then c[1]=\".\"end;if c.f then c.a,c.r,c.S,c.t=true,false,false,false end;if c.a then c.A=true end;if c.g or c.n or c.o then c.l=true end;local d={file='-',directory='d',fifo='p',link='l'}local function e(f,g,h)if c.p and g.type==\"directory\"then f=f..\"/\"elseif c.F then if g.type==\"directory\"then f=f..\"/\"elseif g.type==\"fifo\"then f=f..\"|\"elseif g.type==\"link\"then f=f..\"@\"elseif g.worldPermissions.execute then f=f..\"*\"end end;if c.q then f=f:gsub(\"[\\0-\\31\\127-\\255]\",\"?\")end;if c.s then io.stdout:write(math.ceil(g.size/(c.k and 1024 or 512))..\" \")end;if c.l then local i=g.worldPermissions;local j=g.permissions[g.owner]or g.worldPermissions;local k=(i.read and'r'or'-')..(i.write and'w'or'-')..(i.execute and'x'or'-')local l=(\"%s%s%s%s%s%s\"):format(d[g.type],j.read and'r'or'-',j.write and'w'or'-',j.execute and(g.setuser and's'or'x')or'-',k,k)local m=os.time()-g.modified>15552000000 and os.date(\"%b %e  %Y\",g.modified/1000)or os.date(\"%b %e %H:%M\",g.modified/1000)print((\"%s %u %s %s\\t%\"..h..\"u %s %s%s\"):format(l,0,c.g and\"\"or g.owner,\"\",math.ceil(g.size/(c.k and 1024 or 512)),m,f,g.type==\"link\"and\" -> \"..g.link or\"\"))elseif c.m then io.stdout:write(f..\", \")elseif c.C then elseif c.x then else print(f)end end;for n,o in ipairs(c)do if#c>1 then print(o..\":\")end;local g,p=a.stat(o,true)local q;if g then if g.type==\"directory\"then q=a.list(o)else o,q=a.dirname(o),{a.basename(o)}end;local r={}if c.a then q[#q+1]=\".\"q[#q+1]=\"..\"end;for n,s in ipairs(q)do if c.A or not s:match\"^%.\"then local t=a.stat(a.combine(o,s),true)if t then r[#r+1]={name=s,stat=t}end end end;local u;if c.r then u=function(v,w)return v>=w end else u=function(v,w)return v<w end end;if c.S then table.sort(r,function(v,w)if v.stat.size==w.stat.size then return u(v.name,w.name)else return not u(v.stat.size,w.stat.size)end end)elseif c.t then table.sort(r,function(v,w)if v.stat.modified==w.stat.modified then return u(v.name,w.name)else return not u(v.stat.modified,w.stat.modified)end end)elseif not c.f then table.sort(r,function(v,w)return u(v.name,w.name)end)end;if c.l or c.s then local x=0;for n,y in ipairs(r)do x=x+math.ceil(y.stat.size/(c.k and 1024 or 512))end;print(\"total \"..x)end;local z=0;for n,y in ipairs(r)do z=math.max(z,math.ceil(math.log(y.stat.size/(c.k and 1024 or 512),10)))end;for n,y in ipairs(r)do e(y.name,y.stat,z)end;if c.m then print()end else io.stderr:write(\"ls: cannot access '\"..o..\"': \"..(p or\"\")..\"\\n\")end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2738},["false.lua"]={created=1688258022163,type="file",modified=1688258018783,data="return false\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=13},["uname.lua"]={created=1688258023256,type="file",modified=1688258020686,data="local a=require\"system.util\"local b=assert(a.argparse({a=false,m=false,n=false,r=false,s=false,v=false},...))if next(b)==nil then b.s=true end;if b.a then b.m,b.n,b.r,b.s,b.v=true,true,true,true,true end;local c={}if b.s then c[#c+1]=\"Phoenix\"end;if b.n then c[#c+1]=a.syscall.devinfo(\"/\").name end;if b.r then c[#c+1]=a.syscall.version()end;if b.v then c[#c+1]=a.syscall.version(true)end;if b.m then c[#c+1]=a.syscall.cchost()end;print(table.concat(c,\" \"))\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=458},["comm.lua"]={created=1688258021769,type="file",modified=1688258018153,data="local a=require\"system.util\"local b=assert(a.argparse({[\"1\"]=false,[\"2\"]=false,[\"3\"]=false},...))if#b<2 then error(\"Usage: comm [-123] <file1> <file2>\")end;local c=b[1]==\"-\"and io.input()or assert(io.open(b[1],\"r\"))local d=b[2]==\"-\"and io.input()or assert(io.open(b[2],\"r\"))local e,f=c,d;local g=e:read(\"*l\")while g do local h=f:read(\"*l\")if not h then break end;if g<h then if e==c then if not b[\"1\"]then print(g)end elseif not b[\"2\"]then print((b[\"1\"]and\"\"or\"\\t\")..g)end;e,f=f,e;g=h elseif g==h then if not b[\"3\"]then print((b[\"1\"]and\"\"or\"\\t\")..(b[\"2\"]and\"\"or\"\\t\")..g)end;g=e:read(\"*l\")if not g then e,g=f,h;break end else if f==c then if not b[\"1\"]then print(h)end elseif not b[\"2\"]then print((b[\"1\"]and\"\"or\"\\t\")..h)end end end;while g do if e==c then if not b[\"1\"]then print(g)end elseif not b[\"2\"]then print((b[\"1\"]and\"\"or\"\\t\")..g)end;g=e:read(\"*l\")end;c:close()if c~=d then d:close()end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=893},["less.lua"]={created=1688258022279,type="file",modified=1688258018976,data="local a=require\"system.filesystem\"local b=require\"system.keys\"local c=require\"system.process\"local d=require\"system.terminal\"local e=require\"system.util\"local f=assert(e.argparse({[\"chop-long-lines\"]=false,S=\"@chop-long-lines\",[\"prompt\"]=true,P=\"@prompt\",help=false,version=false},...))local g=f[1]local h=not f[\"chop-long-lines\"]local i=f.prompt;if g==nil and not d.istty()then g=\"-\"end;if g==nil then error(\"Missing filename (\\\"less --help\\\" for help)\")end;local j;local k=assert(d.openterm())local l,m,n={},{},{}local o,p=1,1;local q,r=k.getSize()r=r-1;local function s()l={}if g==\"-\"then if not j then j={}repeat local t=io.stdin:read()j[#j+1]=t until not t end;for u,v in ipairs(j)do l[u]=v end else local w=a.open(g,\"r\")if w==nil then error(\"Could not open file \"..g)end;local t=w.readLine()while t do table.insert(l,({string.gsub(t,\"\\t\",\"    \")})[1])t=w.readLine()end;w.close()end;for u,v in ipairs(l)do local x,y,z=\"\",\"\",\"\"local A=1;local B,C=\"0\",\"f\"for D,E,F in v:gmatch\"()%f[\\x1b]\\x1b%[(%d+)m()\"do x=x..v:sub(A,D-1)y=y..B:rep(D-A)z=z..C:rep(D-A)E=tonumber(E)if E==0 then B,C=\"0\",\"f\"elseif E>=30 and E<=37 then B=(\"%x\"):format(15-(E-30))elseif E==39 then B='0'elseif E>=40 and E<=47 then C=(\"%x\"):format(15-(E-40))elseif E==49 then C='f'elseif E>=90 and E<=97 then B=(\"%x\"):format(15-(E-90)-8)elseif E>=100 and E<=107 then C=(\"%x\"):format(15-(E-100)-8)end;A=F end;x=x..v:sub(A)y=y..B:rep(#v-A+1)z=z..C:rep(#v-A+1)l[u],m[u],n[u]=x,y,z end;if h and p==1 then local u=1;while u<=#l do while#l[u]>q do local G=q-(l[u]:sub(1,q):reverse():find(\" \")or 1)+1;table.insert(l,u+1,string.sub(l[u],G+1)or\"\")table.insert(m,u+1,string.sub(m[u],G+1)or\"\")table.insert(n,u+1,string.sub(n[u],G+1)or\"\")l[u],m[u],n[u]=l[u]:sub(1,G),m[u]:sub(1,G),n[u]:sub(1,G)end;u=u+1 end end end;local function H()k.clear()k.setCursorPos(1,1)k.setCursorBlink(false)for u=o,o+r-1 do if l[u]~=nil then k.blit(l[u]:sub(p),m[u]:sub(p),n[u]:sub(p))end;k.setCursorPos(1,u-o+2)end;k.setCursorPos(1,r+1)if i then k.blit(i,string.rep(\"f\",#i),string.rep(\"0\",#i))elseif o>=#l-r then k.blit(\"(END)\",\"fffff\",\"00000\")else k.write(\":\")end;k.setCursorBlink(true)end;local function I(J,m,n)k.setCursorPos(1,r+1)k.clearLine()k.blit(J,m or string.rep(\"0\",#J),n or string.rep(\"f\",#J))local K=\"\"local L=1;while true do k.setCursorPos(#J+1,r+1)k.write(K..string.rep(\" \",q-#K-#J-2))k.setCursorPos(#J+L,r+1)k.setCursorBlink(true)local M,N=coroutine.yield()if M==\"key\"then if N.keycode==b.backspace then if K==\"\"then return nil elseif L>1 then K=string.sub(K,1,L-2)..string.sub(K,L)L=L-1 end elseif N.keycode==b.left and L>1 then L=L-1 elseif N.keycode==b.right and L<#K+1 then L=L+1 elseif N.keycode==b.enter then return K end elseif M==\"char\"then K=string.sub(K,1,L-1)..N.character..string.sub(K,L)L=L+1 end end end;local function O()local P,n,Q=k.getPaletteColor(d.colors.black)k.setPaletteColor(d.colors.black,k.getPaletteColor(d.colors.lightGray))e.sleep(0.1)k.setPaletteColor(d.colors.black,k.getPaletteColor(d.colors.gray))e.sleep(0.05)k.setPaletteColor(d.colors.black,P,n,Q)e.sleep(0.05)end;s()local R=nil;while true do H()local M,N=coroutine.yield()local S=i;i=nil;if M==\"key\"then if N.keycode==b.left and p>q/2 then p=p-q/2 elseif N.keycode==b.right then p=p+q/2 elseif N.keycode==b.up then if o>1 then o=o-1 else O()end elseif N.keycode==b.down or N.keycode==b.enter then if o<#l-r then o=o+1 else O()end elseif N.keycode==b.space then if o<#l-r then o=o+(o<#l-2*r+1 and r or#l-r-o)else O()end end elseif M==\"char\"then if N.character==\"q\"then break elseif N.character==\"f\"then if o<#l-r then o=o+(o<#l-2*r+1 and r or#l-r-o)else O()end elseif N.character==\"b\"then if o>1 then o=o-(o>r+1 and r or o-1)else O()end elseif N.character==\"d\"then if o<#l-r then o=o+(o<#l-1.5*r+1 and r/2 or#l-r-o)else O()end elseif N.character==\"u\"then if o>1 then o=o-(o>r/2+1 and r/2 or o-1)else O()end elseif N.character==\"g\"or N.character==\"<\"then o=1 elseif N.character==\"G\"or N.character==\">\"then o=#l-r elseif N.character==\"e\"or N.character==\"j\"then if o<#l-r then o=o+1 else O()end elseif N.character==\"y\"or N.character==\"k\"then if o>1 then o=o-1 else O()end elseif N.character==\"K\"or N.character==\"Y\"then o=o-1 elseif N.character==\"J\"then o=o+1 elseif N.character==\"/\"then local T=I(\"/\")if T==\"\"then T=R end;if T~=nil then R=T;local U=false;for u=o+1,#l do if string.match(l[u],T)then o=u;U=true;break end end;if o>#l-r then o=#l-r end;if not U then i=\"Pattern not found\"end end elseif N.character==\"?\"then local T=I(\"?\")if T==\"\"then T=R end;if T~=nil then R=T;local U=false;for u=o-1,1,-1 do if string.match(l[u],T)then o=u;U=true;break end end;if o>#l-r then o=#l-r end;if not U then i=\"Pattern not found\"end end elseif N.character==\"n\"then local U=false;for u=o+1,#l do if string.match(l[u],R)then o=u;U=true;break end end;if o>#l-r then o=#l-r end;if not U then i=\"Pattern not found\"end elseif N.character==\"N\"then local U=false;for u=o-1,1,-1 do if string.match(l[u],R)then o=u;U=true;break end end;if o>#l-r then o=#l-r end;if not U then i=\"Pattern not found\"end elseif N.character==\"v\"then local V=c.start(EDITOR or\"/bin/vi\",g)repeat local M,N=coroutine.yield()until M==\"process_complete\"and N.id==V;s()elseif N.character==\"!\"then local W=I(\"!\")if W then local V=c.start(string.gsub(W,\"%%\",g))repeat local M,N=coroutine.yield()until M==\"process_complete\"and N.id==V end end elseif M==\"term_resize\"then q,r=k.getSize()r=r-1;s()elseif M==\"mouse_scroll\"then if N.direction==1 and o<#l-r then o=o+1 elseif N.direction==-1 and o>1 then o=o-1 end else i=S end end;k.clear()k.setCursorPos(1,1)k.close()\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=5547},["mkfifo.lua"]={created=1688258022589,type="file",modified=1688258019503,data="local a=require\"system.filesystem\"local b=require\"system.util\"local c=assert(b.argparse({m=true},...))local function d(e)local f=a.stat(e,true)local g=tonumber(c.m,8)if g then a.chmod(e,f.owner,bit32.band(bit32.rshift(g,6),7))a.chmod(e,nil,bit32.band(g,7))else for h in c.m:gmatch\"[^,]+\"do local i,j=h:match\"^([^%+%-=]*)([%+%-=][rwxs]+)$\"if not i then error(\"chmod: invalid mode: \"..h)end;if i==\"\"then i=nil end;a.chmod(e,i,j)end end end;for k,l in ipairs(c)do a.mkfifo(l)if c.m then d(l)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=496},["craftos.lua"]={created=1688258010609,type="file",modified=1688258010566,data="for a,b in pairs(require\"craftos\")do _G[a]=b end;return coroutine.yield(\"syscall\",\"exec\",...)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=94},["true.lua"]={created=1688258023179,type="file",modified=1688258020536,data="return true\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=12},["rmdir.lua"]={created=1688258022979,type="file",modified=1688258020186,data="local a=require\"system.filesystem\"local b=false;local function c(d)if not a.isDir(d)or#a.list(d)>0 then error(\"rmdir: \"..d..\": directory not empty\")end;a.remove(d)if b and d:find\"/\"then return c(a.dirname(d))end end;for e,f in ipairs{...}do if f==\"-p\"then b=true else c(f)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=280},["lsdev.lua"]={created=1688258022433,type="file",modified=1688258019239,data="local a=require\"system.hardware\"local b=require\"system.util\"local c=assert(b.argparse({v=false},...))local function d(e,f)for g,h in ipairs(a.children(e))do local i=a.info(e..\"/\"..h)if c.v then print((\"%sDevice %s (%s): %s\"):format((\" \"):rep(f),h,i.uuid,i.displayName or\"\"))io.write((\" \"):rep(f)..\"Types: \")local j=true;for k,l in pairs(i.types)do io.write((j and\"\"or\", \")..k..\" (\"..l..\")\")j=false end;print()else print((\"%sDevice %s: %s\"):format((\" \"):rep(f),h,i.displayName or\"\"))end;d(e..\"/\"..h,f+2)end end;local i=a.info(\"/\")if c.v then print((\"Device / (%s): %s\"):format(i.uuid,i.displayName or\"\"))io.write(\"Types: \")local j=true;for k,l in pairs(i.types)do io.write((j and\"\"or\", \")..k..\" (\"..l..\")\")j=false end;print()else print((\"Device /: %s\"):format(i.displayName or\"\"))end;d(\"/\",2)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=792},["mount.lua"]={created=1688258022626,type="file",modified=1688258019569,data="local a=require\"system.filesystem\"local b=require\"system.util\"if select(\"#\",...)==0 then for c,d in ipairs(a.mountlist())do local e={}for f,g in pairs(d.options)do if g==true then e[#e+1]=f elseif type(g)==\"string\"then e[#e+1]=g elseif type(g)==\"number\"then e[#e+1]=tostring(g)end end;print((\"%s on /%s type %s (%s)\"):format(d.source,d.path,d.type,table.concat(e,\",\")))end;return end;local h={}local i=a.open(\"/etc/fstab\",\"r\")if i then for j in i.readLine do local k,l,type,e,c,m=j:gsub(\"#.*\",\"\"):match(\"(%S+)%s+(%S+)%s+(%S+)%s+(%S+)%s+(%S+)%s+(%S+)\")if k then k=k:gsub(\"\\\\([0-3][0-7][0-7])\",function(n)return string.char(tonumber(n,8))end):gsub(\"\\\\x(%x%x)\",function(n)return string.char(tonumber(n,16))end)l=l:gsub(\"\\\\([0-3][0-7][0-7])\",function(n)return string.char(tonumber(n,8))end):gsub(\"\\\\x(%x%x)\",function(n)return string.char(tonumber(n,16))end)local o={}for p in e:gmatch\"[^,]+\"do local f,d=p:match\"([^=]+)=?(.*)\"if f==\"defaults\"then o.rw=true;o.suid=true;o.dev=true;o.exec=true;o.auto=true;o.owner=true;o.async=true else if not f then f,d=p,true end;o[f]=d end end;h[k]={src=k,dest=l,type=type,options=o,check=tonumber(m)}h[#h+1]=h[k]end end end;local q=assert(b.argparse({t=true,o=true,a=false},...))if q.a then local r=true;for c,d in ipairs(h)do if d.options.auto and not d.options.noauto then local s,t=pcall(a.mount,d.type,d.src,d.dest,d.options)if not s and not d.options.nofail then io.stderr:write(\"mount: could not mount \"..d.src..\": \"..t..\"\\n\")r=false end end end;return r end;if q[1]and not q[2]and h[q[1]]then q[2]=h[q[1]].dest end;if#q<2 then error(\"Usage: mount [-t type] [-o options] device [mountpoint]\\n       mount -a\")end;local type=q.t or h[q[1]]and h[q[1]].type or\"craftos\"local o=h[q[1]]and h[q[1]].options or{rw=true,suid=true,dev=true,exec=true,auto=true,owner=true,async=true}if q.o then for p in q.o:gmatch\"[^,]+\"do local f,d=p:match\"([^=]+)=?(.*)\"if not f then f,d=p,true end;o[f]=d end end;return a.mount(type,q[1],q[2],o)\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1961},["date.lua"]={created=1688258021889,type="file",modified=1688258018333,data="local a=false;local b=\"%c\"for c,d in ipairs{...}do if d==\"-u\"then a=true elseif d:sub(1,1)==\"+\"then b=d:sub(2)end end;if a then b=\"!\"..b end;print(os.date(b))\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=159},["logger.lua"]={created=1688258022356,type="file",modified=1688258019106,data="\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1},["expr.lua"]={created=1688258022123,type="file",modified=1688258018709,data="print(assert(load(table.concat({...},\" \"):gsub(\"&\",\" and \"):gsub(\"|\",\" or \"),\"=expr\",\"t\",{}))())\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=97},["cal.lua"]={created=1688258021383,type="file",modified=1688258017569,data="local a={...}local b={\"january\",\"february\",\"march\",\"april\",\"may\",\"june\",\"july\",\"august\",\"september\",\"october\",\"november\",\"december\"}local c={31,28,31,30,31,30,31,31,30,31,30,31}local function d(e)if#e<3 then return end;local f=\"^\"..e:lower()for g,h in ipairs(b)do if h:match(f)then return g end end end;local i=os.date(\"*t\")local j,k;if a[2]then j,k=assert(tonumber(a[1])or d(a[1]),\"cal: \"..a[1]..\" is neither a month number (1..12) nor a name\"),assert(tonumber(a[2]),\"cal: year `\"..a[2]..\"' not in range 1..9999\")elseif a[1]then k=assert(tonumber(a[1]),\"cal: year `\"..a[1]..\"' not in range 1..9999\")else j,k=i.month,i.year end;if k<1 or k>9999 then error(\"cal: year `\"..k..\"' not in range 1..9999\")end;if j and(j<1 or j>12)then error(\"cal: \"..j..\" is neither a month number (1..12) nor a name\")end;if j then local l=b[j]:gsub(\"^.\",string.upper)..\" \"..k;l=(\" \"):rep(math.floor((20-#l)/2))..l;print(l)print(\"Su Mo Tu We Th Fr Sa\")local m=os.date(\"*t\",os.time({year=k,month=j,day=1})).wday;io.stdout:write((\"   \"):rep(m-1))local n=c[j]if j==2 and(k%4==0 and k%100~=0 or k%400==0)then n=29 end;for g=1,n do if i.year==k and i.month==j and i.day==g then io.stdout:write((\"\\x1b[7m%2d\\x1b[7m \"):format(g))else io.stdout:write((\"%2d \"):format(g))end;m=m+1;if m>7 then print()m=1 end end;if m>1 then print()end else print((\"                              %4d\"):format(k))local function o(p)local l=b[p]:gsub(\"^.\",string.upper)l=(\" \"):rep(math.floor((20-#l)/2))..l..(\" \"):rep(math.ceil((20-#l)/2))coroutine.yield(l)coroutine.yield(\"Su Mo Tu We Th Fr Sa\")local m=os.date(\"*t\",os.time({year=k,month=p,day=1})).wday;local q=(\"   \"):rep(m-1)local n=c[p]if p==2 and(k%4==0 and k%100~=0 or k%400==0)then n=29 end;for g=1,n do if i.year==k and i.month==p and i.day==g then q=q..(\"\\x1b[7m%2d\\x1b[7m \"):format(g)else q=q..(\"%2d \"):format(g)end;m=m+1;if m>7 then coroutine.yield(q:sub(1,-2))q,m=\"\",1 end end;if m>1 then coroutine.yield(q:sub(1,-2)..(\" \"):rep(20-#q+1))end end;for g=0,3 do local r,s,t=coroutine.create(function()o(g*3+1)end),coroutine.create(function()o(g*3+2)end),coroutine.create(function()o(g*3+3)end)while coroutine.status(r)==\"suspended\"or coroutine.status(s)==\"suspended\"or coroutine.status(t)==\"suspended\"do local q=\"\"local u,v=coroutine.resume(r)if u and v then q=v..\"  \"end;u,v=coroutine.resume(s)if u and v then q=q..v..\"  \"end;u,v=coroutine.resume(t)if u and v then q=q..v end;print(q)end end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=2404},["cash.lua"]={created=1688258021423,type="file",modified=1688258017623,data="local a=require\"system.filesystem\"local b=require\"system.process\"local c=require\"system.util\"local d=require\"system.serialization\"local e=assert(c.argparse({c=false,i=false,s=false},...))local f,g;if e.c then g=table.remove(e,1)end;if not e.s then f=table.remove(e,1)end;if not e.c and not e.s and c.syscall.istty()then e.i=true end;local h={}local i=os.time()local j=true;local k=0;local l;local m;local n=b.getenv()if table.maxn==nil then table.maxn=function(o)local p=1;while o[p]~=nil do p=p+1 end;return p-1 end end;local function q(r)return string.match(r,'^()%s*$')and''or string.match(r,'^%s*(.*%S)')end;n.HOME=n.HOME or\"/\"n.SHELL=b.getname()n.PATH=n.PATH or\"/bin:/sbin:/usr/bin\"n.USER=b.getuser()n.EDITOR=n.EDITOR or\"nano\"n.OLDPWD=b.getcwd()n.PWD=n.OLDPWD;n.SHLVL=n.SHLVL and n.SHLVL+1 or 1;n.TERM=n.TERM or\"craftos\"n.COLORTERM=n.COLORTERM or\"16color\"local s={PS1=\"\\\\s-\\\\v\\\\$ \",PS2=\"> \",IFS=\"\\n\",CASH=n.SHELL,CASH_VERSION=\"0.4\",RANDOM=function()return math.random(0,32767)end,SECONDS=function()return math.floor((os.time()-i)/1000)end,HOSTNAME=\"localhost\",TERMINATE_QUIT=\"no\",[\"*\"]=table.concat(e,\" \"),[\"@\"]=function()return table.concat(e,\" \")end,[\"#\"]=#e,[\"?\"]=0,[\"0\"]=n.SHELL,_=n.SHELL,[\"$\"]=b.getpid()}local t={}local u={}local v={}local w,x={},0;local y,z={},0;local A,B={},0;local C=nil;local D={}local E={}local F;local G,H;local I=false;local J=false;local K=false;local L={}local M={}local N={}local function O(...)io.write(...)io.write(\"\\n\")end;local P;P={[\":\"]=function()return 0 end,[\".\"]=function(Q)local R=io.open(Q,\"r\")if not R then return 1 end;s.LINENUM=1;for S in R:lines()do h.run(S)s.LINENUM=s.LINENUM+1 end;s.LINENUM=nil;R:close()end,echo=function(...)O(...)return 0 end,builtin=function(T,...)return P[T](...)end,cd=function(U)U=U or\"/\"if not U:match\"^/\"then U=a.combine(n.PWD,U)end;local V,W=b.chdir(U)if not V then io.stderr:write(\"cash: cd: \"..U..\": \"..W..\"\\n\")return 1 end;n.OLDPWD=n.PWD;n.PWD=U end,command=function(...)K=true;h.run(...)K=false;return s[\"?\"]end,complete=function()end,eval=function(...)h.run(...)return s[\"?\"]end,exec=function(...)l=table.concat({...},' ')h.exit()end,exit=function(...)return h.exit(...)end,export=function(...)local s={...}if#s==0 or s[1]==\"-p\"then for X,Y in pairs(n)do if type(Y)==\"string\"or type(Y)==\"number\"then O(\"export \"..X..\"=\"..Y)end end else for X,Y in ipairs(s)do local Z,_=string.match(Y,\"(.+)=(.+)\")if not(Z==nil or _==nil)and(n[Z]==nil or type(n[Z])==\"string\"or type(n[Z])==\"number\")then n[Z]=_ end end end end,history=function(...)if({...})[1]==\"-c\"then F.close()F=a.open(\".cash_history\",\"w\")E={}return end;local a0={}for X,Y in ipairs(E)do O(\" \"..X..string.rep(\" \",math.floor(math.log10(#E))-math.floor(math.log10(X))+2)..Y)end end,jobs=function(...)local a1={...}for X,Y in pairs(M)do if Y.cmd~=\"jobs\"then if#a1==0 then O(\"[\"..X..\"]+  \"..(Y.paused and\"Paused\"or\"Running\")..\"  \"..Y.cmd)else for a2,a3 in ipairs(a1)do if X==a3 then O(\"[\"..X..\"]+  \"..(Y.paused and\"Paused\"or\"Running\")..\"  \"..Y.cmd)end end end end end end,pushd=function(a4)if a4 then if not a4:match\"^/\"then a4=a.combine(n.PWD,a4)end;local V,W=b.chdir(a4)if not V then io.stderr:write(\"cash: pushd: \"..a4 ..\": \"..W..\"\\n\")return 1 end end;table.insert(L,n.PWD)if a4 then n.OLDPWD=n.PWD;n.PWD=a4 end;io.write((n.PWD==\"\"and\"/\"or n.PWD)..\" \")for p=#L,1,-1 do io.write((L[p]==\"\"and\"/\"or L[p])..\" \")end;O()end,popd=function()if#L==0 then io.stderr:write(\"cash: popd: directory stack empty\\n\")return-1 end;local V,W=b.chdir(L[#L])if not V then io.stderr:write(\"cash: popd: \"..L[#L]..\": \"..W..\"\\n\")return 1 end;n.PWD=table.remove(L,#L)io.write((n.PWD==\"\"and\"/\"or n.PWD)..\" \")for p=#L,1,-1 do io.write((L[p]==\"\"and\"/\"or L[p])..\" \")end;O()end,dirs=function()io.write((n.PWD==\"\"and\"/\"or n.PWD)..\" \")for p=#L,1,-1 do io.write((L[p]==\"\"and\"/\"or L[p])..\" \")end;O()end,pwd=function()O(n.PWD)end,read=function(a5)s[a5]=io.read()end,set=function(...)local a6={...}if#a6==0 then for X,Y in pairs(s)do O(X..\"=\"..Y)end else for X,Y in ipairs(a6)do if Y:match\"^%-\"then for a7 in Y:sub(2):gmatch\".\"do t[a7]=true end elseif string.find(Y,\"=\")then local Z,_=string.match(Y,\"(.+)=(.+)\")s[Z]=_ end end end end,alias=function(...)local s={...}if#s==0 or s[1]==\"-p\"then for X,Y in pairs(u)do O(\"alias \"..X..\"=\"..Y)end else for X,Y in ipairs(s)do local Z,_=string.match(Y,\"(.+)=(.+)\")u[Z]=_ end end end,sleep=function(a8)c.sleep(tonumber(a8)or 0)end,test=function(...)local e={...}if#e<1 then io.stderr:write(\"cash: test: unary operator expected\\n\")return-1 end;local function a9(Y)return Y end;if e[1]==\"!\"then table.remove(e,1)a9=function(Y)return not Y end end;if string.sub(e[1],1,1)==\"-\"then if e[2]==nil then return a9(true)elseif e[1]==\"-d\"then return a9((a.stat(e[2])or{}).type==\"directory\")elseif e[1]==\"-e\"then return a9(a.stat(e[2])~=nil)elseif e[1]==\"-f\"then return a9((a.stat(e[2])or{}).type==\"file\")elseif e[1]==\"-n\"then return a9(#e[2]>0)elseif e[1]==\"-s\"then return a9(a.stat(e[2])>0)elseif e[1]==\"-u\"then return a9((a.stat(e[2])or{}).permissions.setuid)elseif e[1]==\"-w\"then local aa=a.stat(e[2])if not aa then return a9(false)end;return a9((aa.permissions[b.getuser()]or aa.worldPermissions).write)elseif e[1]==\"-x\"then local aa=a.stat(e[2])if not aa then return a9(false)end;return a9((aa.permissions[b.getuser()]or aa.worldPermissions).execute)elseif e[1]==\"-z\"then return a9(#e[2]==0)else return a9(false)end elseif e[3]and string.sub(e[2],1,1)==\"-\"then if e[2]==\"-eq\"then return a9(tonumber(e[1])==tonumber(e[3]))elseif e[2]==\"-ne\"then return a9(tonumber(e[1])~=tonumber(e[3]))elseif e[2]==\"-lt\"then return a9(tonumber(e[1])<tonumber(e[3]))elseif e[2]==\"-gt\"then return a9(tonumber(e[1])>tonumber(e[3]))elseif e[2]==\"-le\"then return a9(tonumber(e[1])<=tonumber(e[3]))elseif e[2]==\"-ge\"then return a9(tonumber(e[1])>=tonumber(e[3]))else return a9(false)end elseif e[2]==\"=\"then return a9(e[1]==e[3])elseif e[2]==\"!=\"then return a9(e[1]~=e[3])else io.stderr:write(\"cash: test: unary operator expected\\n\")return 2 end end,time=function(...)if not...then io.stderr:write(\"cash: time: missing program path\\n\")return false end;local ab=os.time()local Y={vars={},[0]=...,select(2,...)}local Q,ac=h.resolveProgram(Y[0])Q=Q or Y[0]if not(ac and string.find(Y[0],\"/\")==nil)then Y[0]=Q end;local ad=H(Y)if not ad then ad={cputime=0,systime=0}end;O(table.concat({...},\" \"),(\"%.2f user %.2f sys %.3f total\"):format(ad.cputime,ad.systime,(os.time()-ab)/1000))return s[\"?\"]end,[\"true\"]=function()return 0 end,[\"false\"]=function()return 1 end,unalias=function(...)for X,Y in ipairs({...})do u[Y]=nil end end,unset=function(...)for X,Y in ipairs({...})do if Y:match\"^%-\"then for a7 in Y:sub(2):gmatch\".\"do t[a7]=nil end else s[Y]=nil end end end,wait=function(ae)if ae then while M[tonumber(ae)]~=nil do sleep(0.1)end else while table.maxn(M)~=0 do sleep(0.1)end end end,cat=function(...)for X,Y in ipairs({...})do local R=a.open(Y,\"r\")if R~=nil then O(R.readAll())R.close()end end end,which=function(T)local T,Y=h.resolveProgram(T)if not Y and T then O(T)end end,[\"if\"]=function(...)h.run(...)table.insert(w,{cond=s[\"?\"]==0,inv=false})end,[\"then\"]=function(...)if x>=table.maxn(w)then io.stderr:write(\"cash: syntax error near unexpected token `then'\\n\")return-1 end;x=x+1;h.run(...)return s[\"?\"]end,[\"else\"]=function(...)if x<1 or w[x].inv then io.stderr:write(\"cash: syntax error near unexpected token `else'\\n\")return-1 end;w[x].inv=true;w[x].cond=not w[x].cond;h.run(...)return s[\"?\"]end,fi=function()if x<1 then io.stderr:write(\"cash: syntax error near unexpected token `fi'\\n\")return-1 end;table.remove(w,x)x=x-1 end,[\"while\"]=function(...)table.insert(y,{cond={...},lines={}})end,[\"do\"]=function(...)if table.maxn(y)==0 then io.stderr:write(\"cash: syntax error near unexpected token `do'\\n\")return-1 end;z=z+1 end,done=function()if z<1 then io.stderr:write(\"cash: syntax error near unexpected token `done'\\n\")return-1 end;z=z-1;if z==0 then local af=table.remove(y,z+1)if type(af.cond)==\"function\"then af.cond()else h.run(table.unpack(af.cond))end;local ag=s[\"?\"]J=false;while ag==0 and not J do for X,Y in ipairs(af.lines)do if type(Y)==\"function\"then Y()else h.run(Y)end end;if type(af.cond)==\"function\"then af.cond()else h.run(table.unpack(af.cond))end;ag=s[\"?\"]end end end,[\"break\"]=function()J=true end,[\"for\"]=function(...)local e={...}if e[2]~=\"in\"then io.stderr:write(\"cash: missing `in' in for loop\\n\")return-1 end;local p=2;table.insert(y,{cond=function()p=p+1;s[\"?\"]=e[p]~=nil and 0 or 1 end,lines={function()s[e[1]]=e[p]end}})end,[\"function\"]=function(T,ah)if C~=nil then io.stderr:write(\"cash: syntax error near unexpected token `function'\\n\")return-1 end;if ah~=\"{\"then io.stderr:write(\"cash: syntax error near token `\"..T..\"'\\n\")return-1 end;C=T;D[C]={}end,[\"}\"]=function()if C==nil then io.stderr:write(\"cash: syntax error near unexpected token `}'\\n\")return-1 end;C=nil end,[\"return\"]=function(a5)if I==false then io.stderr:write(\"cash: syntax error near unexpected token `return'\\n\")return-1 end;I=false;return a5 end,bg=function(o)if m then M[m].isfg=false;M[m].paused=false;if CCKernel2 then kernel.signal(signal.SIGCONT,M[m].pid)end;m=nil;return 0 elseif tonumber(o)and M[tonumber(o)]then local ai=tonumber(o)M[ai].isfg=false;M[ai].paused=false;if CCKernel2 then kernel.signal(signal.SIGCONT,M[ai].pid)end;return 0 else io.stderr:write(\"cash: bg: current: no such job\\n\")return 1 end end,fg=function(o)if m then M[m].isfg=true;M[m].paused=false;if CCKernel2 then kernel.signal(signal.SIGCONT,M[m].pid)end;m=nil;return 0 elseif tonumber(o)and M[tonumber(o)]then local ai=tonumber(o)M[ai].isfg=true;M[ai].paused=false;if CCKernel2 then kernel.signal(signal.SIGCONT,M[ai].pid)end;return 0 else io.stderr:write(\"cash: fg: current: no such job\\n\")return 1 end end}P[\"[\"]=P.test;function h.exit(aj)j=false;k=aj or 0 end;function h.resolveProgram(T)if P[T]~=nil then return T end;if u[T]~=nil then T=u[T]end;for Q in string.gmatch(n.PATH,\"[^:]+\")do local ah=a.combine(Q,T)local aa=a.stat(ah)if aa and aa.type==\"file\"and(aa.permissions[b.getuser()]or aa.worldPermissions).execute then return ah else ah=a.combine(Q,T..\".lua\")aa=a.stat(ah)if aa and aa.type==\"file\"and(aa.permissions[b.getuser()]or aa.worldPermissions).execute then return ah end end end;if(a.stat(T)or{}).type==\"file\"then return T,string.find(T,\"/\")==nil end;if(a.stat(T..\".lua\")or{}).type==\"file\"then return T..\".lua\",string.find(T,\"/\")==nil end;return nil end;local function ak(a5)if string.sub(a5,1,1)~=\"$\"then return nil end;if string.sub(a5,2,2)==\"{\"then local al=string.sub(string.match(a5,\"%b{}\"),2,-2)local aj=n[al]or s[al]if type(aj)==\"function\"then return aj(),#al+2 else return aj or\"\",#al+2 end elseif string.sub(a5,2,3)==\"((\"then local am=string.gsub(string.sub(string.match(string.sub(a5,3),\"%b()\"),2,-2),\"%$\",\"\")local an=loadstring(\"return \"..am)local ao=setmetatable({},{__index=_ENV})for X,Y in pairs(s)do ao[X]=Y end;setfenv(an,ao)return tostring(an()),#am+4 elseif tonumber(string.sub(a5,2,2))then local al=tonumber(string.match(string.sub(a5,2,2),\"[0-9]+\"))if al==0 then return s[\"0\"],1 else return e[al]or\"\",math.floor(math.log10(al))+1 end else local al=\"\"for a7 in string.gmatch(string.sub(a5,2),\".\")do if a7==\" \"then return\"\",#al end;al=al..a7;if n[al]or s[al]then local aj=n[al]or s[al]if type(aj)==\"function\"then return aj(),#al else return aj or\"\",#al end end end;return\"\",#a5-1 end end;local function ap(aq)local ar=false;local as=false;local at=1;local aj={\"\"}local au,av;for a7 in string.gmatch(aq,\".\")do if au=='&'and a7~='&'and av~='&'and not as and not ar then at=at+1;aj[at]=\"\"end;local aw=false;if a7=='\"'or a7=='\\''and not ar then as=not as elseif a7=='\\\\'and not as and not ar then aw=true;ar=true end;if a7==';'and not as and not ar then at=at+1;aj[at]=\"\"elseif not(a7==' 'and aj[at]==\"\")then aj[at]=aj[at]..a7 end;if not aw then ar=false end;av=au;au=a7 end;return aj end;local function ax(aq,ay)local az=false;local ar=false;local aA=\"\"local p=1;local function aB(Y)if type(Y)==\"boolean\"then return Y and\"true\"or\"false\"elseif Y==nil then return\"nil\"elseif type(Y)==\"table\"then return d.lua.encode(Y)elseif type(Y)==\"string\"then return Y else return tostring(Y)end end;if ay then aA=aq else while p<=#aq do local a7=string.sub(aq,p,p)if a7=='$'and not ar and not az then local r,a9=ak(string.sub(aq,p))r=aB(r)aA=aA..r;p=p+a9 else if a7=='\\''and not ar then az=not az end;ar=a7=='\\\\'and not ar;aA=aA..a7 end;p=p+1 end end;local aj={{[0]=\"\"}}p=0;local at=1;local as=false;ar=false;local au,aC;for a7 in string.gmatch(aA,\".\")do if aC then if a7==';'then at=at+1;p=0;aj[at]={[0]=\"\"}elseif au=='&'and a7=='&'then aj[at][aC]=string.sub(aj[at][aC],1,-2)at=at+1;p=0;aj[at]={[0]=\"\",last=0}elseif au=='|'and a7=='|'then aj[at][aC]=string.sub(aj[at][aC],1,-2)at=at+1;p=0;aj[at]={[0]=\"\",last=1}elseif au=='2'and a7=='>'then aj[at].stderr=\"\"aC=\"stderr\"elseif a7=='>'then aj[at].stdout=\"\"aC=\"stdout\"elseif a7=='<'then aj[at].stdin=\"\"aC=\"stdin\"elseif a7~=' 'or aj[at][aC]~=\"\"then aj[at][aC]=aj[at][aC]..a7 end elseif not ar then if(a7=='\"'or a7=='\\'')and not ar then as=not as elseif not as then if a7==' 'then if#aj[at][p]>0 then p=p+1;aj[at][p]=\"\"end elseif a7==';'then if aj[at][p]==\"\"then aj[at][p]=nil end;at=at+1;p=0;aj[at]={[0]=\"\"}elseif au=='&'and a7=='&'then aj[at][p]=string.sub(aj[at][p],1,-2)if aj[at][p]==\"\"then aj[at][p]=nil end;at=at+1;p=0;aj[at]={[0]=\"\",last=0}elseif au=='|'and a7=='|'then aj[at][p]=string.sub(aj[at][p],1,-2)if aj[at][p]==\"\"then aj[at][p]=nil end;at=at+1;p=0;aj[at]={[0]=\"\",last=1}elseif au=='2'and a7=='>'then if aj[at][p]==\"\"then aj[at][p]=nil end;aj[at].stderr=\"\"aC=\"stderr\"elseif a7=='>'then if aj[at][p]==\"\"then aj[at][p]=nil end;aj[at].stdout=\"\"aC=\"stdout\"elseif a7=='<'then if aj[at][p]==\"\"then aj[at][p]=nil end;aj[at].stdin=\"\"aC=\"stdin\"elseif a7~='\\\\'then aj[at][p]=aj[at][p]..a7 end else aj[at][p]=aj[at][p]..a7 end else aj[at][p]=aj[at][p]..a7 end;ar=a7=='\\\\'and not as and not ar;au=a7 end;if au=='&'then aj.async=true end;for X,Y in ipairs(aj)do if Y[0]~=\"\"then local Q,ac=h.resolveProgram(Y[0])Q=Q or Y[0]if not(ac and string.find(Y[0],\"/\")==nil)then Y[0]=Q end;Y.vars={}while Y[0]and string.find(Y[0],\"=\")do local a2=string.sub(Y[0],1,string.find(Y[0],\"=\")-1)Y.vars[a2]=string.sub(Y[0],string.find(Y[0],\"=\")+1)Y.vars[a2]=tonumber(Y.vars[a2])or Y.vars[a2]Y[0]=nil;for p=1,table.maxn(Y)do Y[p-1]=Y[p]Y[p]=nil end end end end;return aj end;local aD=31+28+31+30+31+30;local function aE(aF)if aF<=31 then return\"Jan \"..aF elseif aF>31 and aF<=31+28 then return\"Feb \"..aF-31 elseif aF>31+28 and aF<=31+28+31 then return\"Mar \"..aF-31-28 elseif aF>31+28+31 and aF<=31+28+31+30 then return\"Apr \"..aF-31-28-31 elseif aF>31+28+31+30 and aF<=31+28+31+30+31 then return\"May \"..aF-31-28-31-30 elseif aF>31+28+31+30+31 and aF<=aD then return\"Jun \"..aF-31-28-31-30-31 elseif aF>aD and aF<=aD+31 then return\"Jul \"..aF-aD elseif aF>aD+31 and aF<=aD+31+31 then return\"Aug \"..aF-aD-31 elseif aF>aD+31+31 and aF<=aD+31+31+30 then return\"Sep \"..aF-aD-31-31 elseif aF>aD+31+31+30 and aF<=aD+31+31+30+31 then return\"Oct \"..aF-aD-31-31-30 elseif aF>aD+31+31+30+31 and aF<=aD+31+31+30+31+30 then return\"Nov \"..aF-aD-31-31-30-31 else return\"Dec \"..aF-aD-31-31-30-31-30 end end;local function aG()local aj=(x>0 or z>0 or B>0)and s.PS2 or s.PS1 or\"\\\\$ \"for X,Y in pairs({[\"\\\\d\"]=aE(0),[\"\\\\e\"]=string.char(0x1b),[\"\\\\h\"]=string.sub(\"localhost\",1,string.find(\"localhost\",\"%.\")),[\"\\\\H\"]=\"localhost\",[\"\\\\n\"]=\"\\n\",[\"\\\\s\"]=string.gsub(s[\"0\"]:match(\"[^/]+$\"),\".lua\",\"\"),[\"\\\\t\"]=\"00:00\",[\"\\\\T\"]=\"00:00\",[\"\\\\u\"]=n.USER,[\"\\\\v\"]=s.CASH_VERSION,[\"\\\\V\"]=s.CASH_VERSION,[\"\\\\w\"]=n.PWD,[\"\\\\W\"]=n.PWD:match(\"[^/]+$\")==\".\"and\"/\"or n.PWD:match(\"[^/]+$\"),[\"\\\\%#\"]=s.LINENUM,[\"\\\\%$\"]=n.USER==\"root\"and\"#\"or\"$\",[\"\\\\([0-7][0-7][0-7])\"]=function(a9)return string.char(tonumber(a9,8))end,[\"\\\\\\\\\"]=\"\\\\\",[\"\\\\%[.+\\\\%]\"]=\"\"})do aj=string.gsub(aj,X,Y)end;return aj end;function H(aH)local Q=aH[0]if Q==nil then return end;if#aH==0 and string.find(Q,\"=\")~=nil then local X=string.sub(Q,1,string.find(Q,\"=\")-1)s[X]=string.sub(Q,string.find(Q,\"=\")+1)s[X]=tonumber(s[X])or s[X]return end;local aI={}for X,Y in pairs(aH.vars)do aI[X]=_ENV[X]_ENV[X]=Y end;if x>0 and not w[x].cond and Q~=\"else\"and Q~=\"elif\"and Q~=\"fi\"then return end;if t.x then O(\"- \"..table.concat(aH,\" \",0))end;local ad;if P[Q]~=nil then local aJ,aK=io.input(),io.output()if aH.stdin then io.input(aH.stdin)end;if aH.stdout then io.output(aH.stdout)end;s[\"?\"]=P[Q](table.unpack(aH))if aH.stdin then io.input():close()io.input(aJ)end;if aH.stdout then io.output():close()io.output(aK)end;if s[\"?\"]==nil or s[\"?\"]==true then s[\"?\"]=0 elseif s[\"?\"]==false then s[\"?\"]=1 end elseif D[Q]~=nil and not K then local aL=e;e=aH;I=true;for X,Y in ipairs(D[Q])do h.run(Y)if not I then break end end;e=aL else local aa=a.stat(Q)if not aa then io.stderr:write(\"cash: \"..Q..\": No such file or directory\\n\")s[\"?\"]=-1;return elseif not(aa.permissions[b.getuser()]or aa.worldPermissions).execute then io.stderr:write(\"cash: \"..Q..\": Permission denied\\n\")s[\"?\"]=-1;return end;if aH.stdin then aH.stdin=a.open(aH.stdin,\"rb\")end;if aH.stdout then aH.stdout=a.open(aH.stdout,\"wb\")end;if aH.stderr then aH.stderr=a.open(aH.stderr,\"wb\")end;local aM=s._;s._=Q;if l then if aH.stdin then c.syscall.stdin(aH.stdin)end;if aH.stdout then c.syscall.stdout(aH.stdout)end;if aH.stderr then c.syscall.stderr(aH.stderr)end;b.exec(Q,table.unpack(aH))return end;local aN=b.fork(function()if aH.stdin then c.syscall.stdin(aH.stdin)end;if aH.stdout then c.syscall.stdout(aH.stdout)end;if aH.stderr then c.syscall.stderr(aH.stderr)end;b.exec(Q,table.unpack(aH))end)while true do local T,aO=coroutine.yield()if T==\"process_complete\"and aO.pid==aN then s[\"?\"]=aO.return_value;break end;ad=b.getpinfo(aN)end;if aH.stdin then aH.stdin.close()end;if aH.stdout then aH.stdout.close()end;if aH.stderr then aH.stderr.close()end;if s[\"?\"]==nil or s[\"?\"]==true then s[\"?\"]=0 elseif s[\"?\"]==false then s[\"?\"]=1 end;s._=aM end;for X,Y in pairs(aH.vars)do _ENV[X]=aI[X]end;return ad end;function G(aH,aP)if aH.async and not aP then local aN=b.fork(function()return G(aH,true)end,\"cash\")local aQ=#M+1;M[aQ]={cmd=aH[1][0]..\" \"..table.concat(aH[1],\" \"),pid=aN,isfg=false,start=true}O(\"[\"..aQ..\"] \"..(aN or\"\"))else for aR,aS in ipairs(aH)do if aS[0]then if q(aS[0])~=\"\"and(aS.last==0 and s[\"?\"]==0)or aS.last==1 and s[\"?\"]~=0 or aS.last==nil then H(aS)end else for X,Y in pairs(aS.vars)do s[X]=tonumber(Y)or Y end end end end;return s[\"?\"]==0 end;local aT=function(aH)local aN=b.fork(function()return G(aH,true)end,\"cash\")local aQ=#M+1;M[aQ]={cmd=aH[1][0]and aH[1][0]..\" \"..table.concat(aH[1],\" \")or\"cash\",pid=aN,isfg=not aH.async,start=true}if aH.async then O(\"[\"..aQ..\"] \"..(aN or\"\"))end end;function h.run(...)local aU=table.concat({...},\" \")if aU==\"\"or string.sub(aU,1,1)==\"#\"then return end;if C~=nil then if string.find(aU,\"}\")then C=nil else table.insert(D[C],aU)end;return true elseif z>0 then local aH=ap(aU)for X,S in ipairs(aH)do S=string.sub(S,#string.match(S,\"^ *\")+1)if S==\"do\"or S==\"done\"or string.find(S,\"^do \")or string.find(S,\"^done \")then G(ax(S))end;if z>0 then table.insert(y[1].lines,S)end end;return true end;local a0=ap(aU)for X,Y in ipairs(a0)do G(ax(Y,string.sub(Y,1,6)==\"while \"))end;return s[\"?\"]==0 end;function h.runAsync(...)local aU=table.concat({...},\" \")if aU==\"\"or string.sub(aU,1,1)==\"#\"then return end;if C~=nil then if string.find(aU,\"}\")then C=nil else table.insert(D[C],aU)end;return true elseif z>0 then local aH=ap(aU)for X,S in ipairs(aH)do S=string.sub(S,#string.match(S,\"^ *\")+1)if S==\"do\"or S==\"done\"or string.find(S,\"^do \")or string.find(S,\"^done \")then G(ax(S))end;if z>0 then table.insert(y[1].lines,S)end end;return true end;local a0=ap(aU)for X,Y in ipairs(a0)do aT(ax(Y,string.sub(Y,1,6)==\"while \"))end;return s[\"?\"]==0 end;if a.stat(\"/etc/cashrc\")then local R,W=io.open(\"/etc/cashrc\",\"r\")if not R then io.stderr:write(\"Could not open /etc/cashrc:\",W)else for S in R:lines()do h.run(S)end;R:close()end end;if a.stat(a.combine(n.HOME,\".cashrc\"))then local R,W=io.open(a.combine(n.HOME,\".cashrc\"),\"r\")if not R then io.stderr:write(\"Could not open .cashrc:\",W)else for S in R:lines()do h.run(S)end;R:close()end end;if a.stat(a.combine(n.HOME,\".cash_history\"))then local R,W=io.open(a.combine(n.HOME,\".cash_history\"),\"r\")if not R then io.stderr:write(\"Could not open .cashhistory:\",W)else for S in R:lines()do table.insert(E,S)end;R:close()end;F=a.open(a.combine(n.HOME,\".cash_history\"),\"a\")else F=a.open(a.combine(n.HOME,\".cash_history\"),\"w\")end;if g then s[\"0\"]=f;s.LINENUM=1;h.run(g)s.LINENUM=nil;return k end;if f then if f==\"-\"then s.LINENUM=1;for S in io.lines()do h.run(S)s.LINENUM=s.LINENUM+1;if not j then break end end;s.LINENUM=nil;return k else local R=io.open(f,\"r\")if not R then R=io.open(h.resolveProgram(f),\"r\")if not R then return 1 end end;s[\"0\"]=f;s.LINENUM=1;for S in R:lines()do h.run(S)s.LINENUM=s.LINENUM+1;if not j then break end end;R:close()s.LINENUM=nil;return k end end;while j do if e.i then local aV=aG()io.stdout:write(aV)end;local aW=io.stdin:read(\"*l\")if e.i then if F and aW~=\"\"and aW~=E[#E]then table.insert(E,aW)F.writeLine(aW)F.flush()end end;h.run(aW)end;if l then h.run(l)return s[\"?\"]end;F.close()return k\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=21131},["cp.lua"]={created=1688258021809,type="file",modified=1688258018213,data="local a=require\"system.util\"local b=require\"system.filesystem\"local c=assert(a.argparse({P=false,f=false,i=false,p=false,R=false,H=false,L=false,n=false},...))if#c<2 then error(\"cp: missing operand\")end;local function d(e,f)local g=b.stat(e)if not g then error(\"cp: \"..e..\": No such file or directory\")end;local h=b.stat(f)if g.type==\"directory\"then local i=false;if not c.R then io.stderr:write(\"cp: -R not specified, omitting directory '\"..e..\"'\\n\")return false end;if h then if h.type~=\"directory\"then io.stderr:write(\"cp: omitting existing \"..h.type..\" '\"..f..\"'\\n\")return false end else b.mkdir(f)i=true end;local j=b.list(e)local k=true;for l,m in ipairs(j)do k=d(b.combine(e,m),b.combine(f,m))and k end;if i then b.chmod(f,nil,g.worldPermissions)for n,m in pairs(g.permissions)do b.chmod(f,n,m)end;if g.owner then b.chown(f,g.owner)end end;return k else if h then if c.i then io.stderr:write(\"overwrite \"..h.type..\" \"..f..\"? \")local o=io.read()if o:lower()~=\"y\"then return false end elseif c.n then return false end end;local p,q=b.open(e,\"rb\")if not p then error(\"cp: \"..e..\": \"..q,2)end;local r,q=b.open(f,\"wb\")if not r then if c.f and h then b.remove(f)r,q=b.open(f,\"wb\")end;if not r then p.close()error(q,2)end end;repeat local s=p.read(512)if s then r.write(s)end until not s;r.close()p.close()if c.p then b.chmod(f,nil,g.worldPermissions)for n,m in pairs(g.permissions)do b.chmod(f,n,m)end;if g.owner then b.chown(f,g.owner)end end;return true end end;local t=table.remove(c)if#c==1 and not b.isDir(t)then return d(c[1],t)else if not b.isDir(t)then error(\"cp: target is not a directory\")end;local k=true;for l,m in ipairs(c)do k=d(m,b.combine(t,b.basename(m)))and k end;return k end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=1696},["chown.lua"]={created=1688258021576,type="file",modified=1688258017856,data="local a=require\"system.util\"local b=require\"system.filesystem\"local c=assert(a.argparse({h=false,H=false,L=false,P=false,R=false},...))if#c<2 then error(\"usage: chown [-h] [-R [-H|-L|-P]] <owner> <file...>\")end;local function d(e,f)b.chown(e,f)if b.stat(e,true).type==\"directory\"then for g,h in ipairs(b.list(e))do d(b.combine(e,h),f)end end end;local f=c[1]:gsub(\":.*\",\"\")for i=2,#c do if c.R then d(c[i],f)else b.chown(c[i],f)end end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=436},["basename.lua"]={created=1688258021346,type="file",modified=1688258017509,data="local a=assert(...,\"basename: missing path\")if a==\"\"then print\".\"elseif a:match\"^/+$\"then print\"/\"else local b=a:gsub(\"/+$\",\"\"):match\"[^/]+$\"local c=select(2,...)if c and b~=c then b=b:gsub(c..\"$\",\"\")end;print(b)end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=216},["chmod.lua"]={created=1688258021539,type="file",modified=1688258017799,data="local a=require\"system.filesystem\"local b={...}local c=false;if b[1]==\"-R\"then c=true;table.remove(b,1)end;local d=table.remove(b,1)local e=tonumber(d,8)local function f(g)local h=a.stat(g,true)if e then a.chmod(g,h.owner,bit32.band(bit32.rshift(e,6),7))a.chmod(g,nil,bit32.band(e,7))else for i in d:gmatch\"[^,]+\"do local j,k=i:match\"^([^%+%-=]*)([%+%-=][rwxs]+)$\"if not j then error(\"chmod: invalid mode: \"..i)end;if j==\"\"then j=nil end;a.chmod(g,j,k)end end;if c and h.type==\"directory\"then for l,m in ipairs(a.list(g))do f(a.combine(g,m))end end end;for l,g in ipairs(b)do f(g)end\n",setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=584}},modified=1688258025913,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}},modified=1688258078750,setuser=false,permissions={root={execute=true,read=true,write=true}},worldPermissions={execute=true,read=true,write=false},owner="root",size=0}